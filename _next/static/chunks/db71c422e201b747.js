(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function a(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,s(e));else t.set(r,s(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return o},formatWithValidation:function(){return d},urlObjectKeys:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,i=e.protocol||"",n=e.pathname||"",o=e.hash||"",l=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:r&&(d=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(d+=":"+e.port)),l&&"object"==typeof l&&(l=String(a.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||s.test(i))&&!1!==d?(d="//"+(d||""),n&&"/"!==n[0]&&(n="/"+n)):d||(d=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${i}${d}${n}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return o(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(71645);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,i)),t&&(n.current=a(t,i))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return T},MissingStaticPage:function(){return k},NormalizeError:function(){return x},PageNotFoundError:function(){return w},SP:function(){return g},ST:function(){return f},WEB_VITALS:function(){return a},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return m},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return v}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function d(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&m(r))return i;if(!i)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let g="undefined"!=typeof performance,f=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class w extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class k extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class T extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let i=e.r(18967),n=e.r(52817);function a(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return y},useLinkStatus:function(){return w}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(90809),s=e.r(43476),o=a._(e.r(71645)),l=e.r(95057),d=e.r(8372),c=e.r(18581),u=e.r(18967),m=e.r(5550);e.r(33525);let h=e.r(91949),p=e.r(73668),g=e.r(9396);function f(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let i,n,a,[l,y]=(0,o.useOptimistic)(h.IDLE_LINK_STATUS),w=(0,o.useRef)(null),{href:k,as:T,children:v,prefetch:b=null,passHref:j,replace:D,shallow:S,scroll:A,onClick:C,onMouseEnter:M,onTouchStart:_,legacyBehavior:P=!1,onNavigate:N,ref:I,unstable_dynamicOnHover:$,...E}=t;i=v,P&&("string"==typeof i||"number"==typeof i)&&(i=(0,s.jsx)("a",{children:i}));let O=o.default.useContext(d.AppRouterContext),z=!1!==b,F=!1!==b?null===(r=b)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:B,as:R}=o.default.useMemo(()=>{let e=f(k);return{href:e,as:T?f(T):e}},[k,T]);if(P){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=o.default.Children.only(i)}let L=P?n&&"object"==typeof n&&n.ref:I,V=o.default.useCallback(e=>(null!==O&&(w.current=(0,h.mountLinkInstance)(e,B,O,F,z,y)),()=>{w.current&&((0,h.unmountLinkForCurrentNavigation)(w.current),w.current=null),(0,h.unmountPrefetchableInstance)(e)}),[z,B,O,F,y]),U={ref:(0,c.useMergedRef)(V,L),onClick(t){P||"function"!=typeof C||C(t),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!O||t.defaultPrevented||function(t,r,i,n,a,s,l){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);o.default.startTransition(()=>{u(i||r,a?"replace":"push",s??!0,n.current)})}}(t,B,R,w,D,A,N)},onMouseEnter(e){P||"function"!=typeof M||M(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),O&&z&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){P||"function"!=typeof _||_(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),O&&z&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,u.isAbsoluteUrl)(R)?U.href=R:P&&!j&&("a"!==n.type||"href"in n.props)||(U.href=(0,m.addBasePath)(R)),a=P?o.default.cloneElement(n,U):(0,s.jsx)("a",{...E,...U,children:i}),(0,s.jsx)(x.Provider,{value:l,children:a})}e.r(84508);let x=(0,o.createContext)(h.IDLE_LINK_STATUS),w=()=>(0,o.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},81391,e=>{"use strict";function t(e){return e}function r(e){return e}function i(e){return e}function n(e){return e}e.s(["getSubtaskId",()=>r,"getTag",()=>n,"getTimeEntryId",()=>i,"getTodoId",()=>t])},55584,e=>{"use strict";function t(e){return e}function r(e){return e}function i(e){return e}function n(e){return e}function a(e){return e}function s(e){return e}function o(e){return e}function l(e){return e}e.s(["dueDateDefaultItems",0,["today","tomorrow","next week","next month","next monday","next tuesday","next wednesday","next thursday","next friday","next saturday","next sunday","in 2 days","in 3 days","in 5 days","in 1 week","in 2 weeks","in 3 weeks","in 1 month","in 2 months","in 3 months","in 6 months"],"durationDefaultItems",0,["15m","30m","45m","1h","1.5h","2h","3h","4h","5h","6h","7h","10h","1d","2d","3d","5d","1w","2w","3w","1m","2m","3m"],"getDurationDay",()=>a,"getDurationHour",()=>n,"getDurationMin",()=>i,"getDurationSec",()=>r,"getMonth",()=>l,"getShortTime",()=>s,"getTimestamp",()=>t,"getWeekday",()=>o,"recurringDefaultItems",0,["daily","weekly","monthly","yearly","every day","every weekday","every week","every 2 weeks","every month","every year","every monday","every tuesday","every wednesday","every thursday","every friday","every saturday","every sunday"]])},52497,e=>{"use strict";function t(e){return e}e.s(["getPersonId",()=>t])},14082,73986,e=>{"use strict";function t(e){return e}function r(e){return e}function i(e){return e}function n(e){return e}function a(e){return e}function s(e){return e}e.s(["getActivityId",()=>r,"getColor",()=>t,"getCommentId",()=>i,"getSearchHistoryId",()=>n],73986),e.s(["defaultCategories",0,[{id:"work",name:"Work",color:"#3b82f6",description:"Office and work-related tasks"},{id:"personal",name:"Personal",color:"#22c55e",description:"Personal and home tasks"}],"getProjectCategoryId",()=>s,"getProjectId",()=>a],14082)},26238,e=>{"use strict";function t(e){return e}e.s(["defaultPriorities",0,[{id:"1",name:"urgent",alternatives:["asap","critical"],order:1},{id:"2",name:"high",alternatives:[],order:2},{id:"3",name:"medium",alternatives:["normal","med"],order:3},{id:"4",name:"low",alternatives:[],order:4}],"getPriorityId",()=>t])},60095,e=>{"use strict";function t(e){return e}e.s(["getSprintId",()=>t])},82431,e=>{"use strict";var t=e.i(73986);function r(e){return e}let i=[{id:"break",name:"Break",color:(0,t.getColor)("#d1d5db"),icon:"â˜•"},{id:"lunch",name:"Lunch",color:(0,t.getColor)("#d1d5db"),icon:"ðŸ´"},{id:"meeting",name:"Meeting",color:(0,t.getColor)("#a78bfa"),icon:"ðŸ‘¥"},{id:"focus",name:"Focus Time",color:(0,t.getColor)("#4ade80"),icon:"ðŸŽ¯"},{id:"commute",name:"Commute",color:(0,t.getColor)("#60a5fa"),icon:"ðŸš—"},{id:"personal",name:"Personal",color:(0,t.getColor)("#f472b6"),icon:"ðŸ "}];e.s(["DEFAULT_BLOCK_TYPES",0,i,"getTimeBlockId",()=>r])},91960,e=>{"use strict";var t=e.i(82431),r=e.i(55584);function i(e,t){let[r,i]=e.split(":").map(Number),n=new Date(t);return n.setHours(r,i,0,0),n}function n(e){if(!e)return 30;let t=parseFloat(e);if(isNaN(t))return 30;let r=e.toLowerCase();return r.includes("h")?60*t:(r.includes("m"),t)}function a(e,t){let r=e.getDay(),i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][r];if(t.useCommonSchedule)return t.commonSchedule;let n=t.customSchedules[i];return n||(0===r||6===r?t.weekendSchedule:t.weekdaySchedule)}function s(e,t){let{pomodoroShortBreak:i,pomodoroLongBreak:n,pomodoroLongBreakInterval:a}=t;return e>0&&e%(a??4)==0?n??(0,r.getDurationMin)(15):i??(0,r.getDurationMin)(5)}function o(e,t,r){let i=e.filter(e=>"deleted"!==e.state);return"asap"===r?i.sort((e,t)=>{if("active"===e.state&&"active"!==t.state)return -1;if("active"!==e.state&&"active"===t.state)return 1;if("active"===e.state&&"active"===t.state){let r=e.priorityOrder??999,i=t.priorityOrder??999;if(r!==i)return r-i;let n=e.dueDate,a=t.dueDate;return n||a?n?a?n-a:-1:1:0}return(e.completedAt||e.archivedAt||0)-(t.completedAt||t.archivedAt||0)}):"dueDate"===r?i.sort((e,t)=>{if("active"===e.state&&"active"!==t.state)return -1;if("active"!==e.state&&"active"===t.state)return 1;if("active"===e.state&&"active"===t.state){let r=e.dueDate,i=t.dueDate;return r||i?r?i?r-i:-1:1:0}return(e.completedAt||e.archivedAt||0)-(t.completedAt||t.archivedAt||0)}):"duration"===r&&i.sort((e,t)=>{if("active"===e.state&&"active"!==t.state)return -1;if("active"!==e.state&&"active"===t.state)return 1;if("active"===e.state&&"active"===t.state){let r=e.durationMinutes??1/0,i=t.durationMinutes??1/0;if(r!==i)return r-i;let n=e.dueDate,a=t.dueDate;return n||a?n?a?n-a:-1:1:0}return(e.completedAt||e.archivedAt||0)-(t.completedAt||t.archivedAt||0)}),i}function l(e,t){let o=new Map,l=new Date,d=new Date;d.setHours(0,0,0,0);let{ganttSettings:c,workHours:u}=t,m=e.filter(e=>{if(e.isCompleted&&e.completedAt){let t=new Date(e.completedAt),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=`${r}-${i}-${n}`;return o.set(e.id,a),!1}if(e.isArchived){if(e.completedAt){let t=new Date(e.completedAt),r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=`${r}-${i}-${n}`;o.set(e.id,a)}return!1}if(e.hasTimeTracking&&e.timeTracking&&e.timeTracking.entries.length>0){let t=e.timeTracking.entries.reduce((e,t)=>e+(t.duration??0),0),r=n(e.durationDisplay)*c.durationMultiplier;if(Math.max(c.minimumRemainingDuration??1,r-t)>0){let t=new Date(d);d.toISOString().split("T")[0],l>=i(a(d,u).endTime,d)&&t.setDate(t.getDate()+1);let r=0;for(;r<30;){let e=a(t,u),n=i(e.startTime,t);if((i(e.endTime,t).getTime()-n.getTime())/6e4>0)break;t.setDate(t.getDate()+1),r++}let n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0"),m=`${n}-${s}-${c}`;o.set(e.id,m)}return!1}return!0}),h=new Date(d),p=[...m];for(;p.length>0;){let e=a(h,u),t=i(e.startTime,h),m=i(e.endTime,h),g=e.breaks.map(e=>({startTime:i(e.startTime,h),endTime:i(e.endTime,h)})),f=h.toDateString()===d.toDateString(),y=new Date(t);f&&l>t&&l<m&&(y=new Date(l));let x=[],w=0,k=0;for(let e of p){f&&y<l&&(y=new Date(l));let t=!0;for(;t&&y<m;)for(let e of(t=!1,g))if(y>=e.startTime&&y<e.endTime){y=new Date(e.endTime),f&&y<l&&(y=new Date(l)),t=!0;break}if(y>=m)break;let i=n(e.durationDisplay)*c.durationMultiplier,a=new Date(y.getTime()+6e4*i);if(a<=m){let t=h.toISOString().split("T")[0];o.set(e.id,t),x.push(e.id);let{schedulingTechnique:n,pomodoroWorkDuration:l,contextSwitchingTime:d,flowWorkDuration:u,flowBreakDuration:m,flowContextSwitchingTime:p}=c,g=d??(0,r.getDurationMin)(5);if("pomodoro"===n){let e=l??25;(w+=i)>=e&&(g=s(++k,c),w=0)}else if("flow"===n){let e=u??52;(w+=i)>=e?(g=(0,r.getDurationMin)((m??17)+(p??10)),w=0):g=p??(0,r.getDurationMin)(10)}y=new Date(a.getTime()+6e4*g)}else break}if(p=p.filter(e=>!x.includes(e.id)),h.setDate(h.getDate()+1),h.getTime()-d.getTime()>2592e6)break}return o}function d(e,t,r,i,a,o,l){let d=[],c=new Date,u=a.toDateString()===c.toDateString(),m=new Date(t);u&&c>t&&c<r&&(m=new Date(c));let h=e=>{for(let t of[...i].sort((e,t)=>e.startTime.getTime()-t.startTime.getTime()))if(t.endTime>e)return t;return null},p=e=>{let t=new Date(e),r=!0;for(;r;)for(let e of(r=!1,i))if(t>=e.startTime&&t<e.endTime){t=new Date(e.endTime),r=!0;break}return t},{schedulingTechnique:g,pomodoroWorkDuration:f,contextSwitchingTime:y,pomodoroLongBreak:x,pomodoroLongBreakInterval:w,flowWorkDuration:k,flowBreakDuration:T,flowContextSwitchingTime:v}=o,b=f??25,j=y??5,D=x??15,S=w??4,A=k??52,C=T??17,M=v??10,_=0,P=0;for(let f of e){let e;if((f.isCompleted||f.isArchived)&&f.completedAt){let e,t=new Date(f.completedAt),r=n(f.durationDisplay),i=f.dueDateObject;if(e=i||t,f.hasTimeTracking&&f.timeTracking){let t=new Date(a);t.setHours(0,0,0,0);let r=new Date(a);r.setHours(23,59,59,999);let i=f.timeTracking.entries.filter(e=>{let i=new Date(e.startTime),n=e.endTime?new Date(e.endTime):new Date;return i<=r&&n>=t});if(i.length>0){for(let t of i){let r=new Date(t.startTime),i=t.endTime?new Date(t.endTime):new Date,n=t.duration??Math.round((i.getTime()-r.getTime())/6e4),a=e.getTime()-i.getTime(),s=a>0,o=a<0,l=Math.abs(Math.floor(a/6e4));d.push({todo:f,startTime:r,endTime:i,durationMinutes:n,segments:[{startTime:r,endTime:i,durationMinutes:n,nextBreak:null}],targetDate:e,hasBuffer:s,bufferMinutes:l,isOverdue:o,nextBreak:null,isActualTime:!0,timeEntryId:t.id})}continue}}let s=new Date(t.getTime()-60*r*1e3),o=e.getTime()-t.getTime(),l=o>0,c=o<0,u=Math.abs(Math.floor(o/6e4));d.push({todo:f,startTime:s,endTime:t,durationMinutes:r,segments:[{startTime:s,endTime:t,durationMinutes:r,nextBreak:null}],targetDate:e,hasBuffer:l,bufferMinutes:u,isOverdue:c,nextBreak:null});continue}u&&m<c&&(m=new Date(c));let y=new Date(m);if(m=p(m),"pomodoro"===g&&(m.getTime()-y.getTime())/6e4>=D&&(P=0,_=0),m>=r)break;let x=new Date(a);x.setHours(0,0,0,0);let w=new Date(a);w.setHours(23,59,59,999);let k=[],T=0,v=0;if(f.hasTimeTracking&&f.timeTracking)for(let e of(v=f.timeTracking.entries.reduce((e,t)=>e+(t.duration??0),0),f.timeTracking.entries.filter(e=>{let t=new Date(e.startTime),r=e.endTime?new Date(e.endTime):new Date;return t<=w&&r>=x}))){let t=new Date(e.startTime),r=e.endTime?new Date(e.endTime):new Date,i=e.duration??Math.round((r.getTime()-t.getTime())/6e4);i>0&&(T+=i,k.push({startTime:t,endTime:r,durationMinutes:i,nextBreak:null,isTrackedTime:!0,timeEntryId:e.id}))}let N=!l||l.has(f.id),I=n(f.durationDisplay)*o.durationMultiplier,$=Math.max(o.minimumRemainingDuration??1,I-v),E=N?$:0,O=[];for(;E>0&&m<r;){let e=new Date(m);if(m=p(m),"pomodoro"===g&&(m.getTime()-e.getTime())/6e4>=D&&(P=0,_=0),m>=r)break;if("pomodoro"===g&&_>=b){let e=s(++P,o),t=new Date(m=new Date(m.getTime()+6e4*e));if(((m=p(m)).getTime()-t.getTime())/6e4>=D&&(P=0),_=0,m>=r)break}else if("flow"===g&&_>=A){let e=C+M;if(m=p(m=new Date(m.getTime()+6e4*e)),_=0,m>=r)break}let t=(r.getTime()-m.getTime())/6e4,n=h(m);n&&n.startTime>m&&n.startTime<r&&(t=Math.min(t,(n.startTime.getTime()-m.getTime())/6e4)),"pomodoro"===g?t=Math.min(t,b-_):"flow"===g&&(t=Math.min(t,A-_));let a=Math.min(E,t);if(a<=0)break;let l=new Date(m.getTime()+6e4*a),d=null;if(E-a>0)if("pomodoro"===g)if(_+a>=b){let e=P+1,t=e>0&&e%S==0;d={type:t?"long":"short",durationMinutes:t?D:o.pomodoroShortBreak??5,icon:"ðŸ…",label:t?"long break":"short break"}}else d={type:"short",durationMinutes:0,icon:"ðŸ…",label:"break"};else d="flow"===g?_+a>=A?{type:"long",durationMinutes:C,icon:"ðŸŒŠ",label:"break"}:{type:"context",durationMinutes:0,icon:"ðŸŒŠ",label:"break"}:{type:"context",durationMinutes:j,icon:"",label:"context switch"};if(O.push({startTime:new Date(m),endTime:l,durationMinutes:a,nextBreak:d}),E-=a,m=new Date(l),"sequential"!==g&&(_+=a),E>0&&m<r&&(i.some(e=>m>=e.startTime&&m<e.endTime)||n&&l.getTime()===n.startTime.getTime())){let e=new Date(m),t=((m=p(m)).getTime()-e.getTime())/6e4;if("pomodoro"===g)if(t>=D)P=0,_=0;else if(_>=b){let e=Math.max(0,s(++P,o)-t);e>0&&(m=p(m=new Date(m.getTime()+6e4*e))),_=0}else _=0;else if("flow"===g)if(t>=C)_=0;else if(_>=A){let e=Math.max(0,C+M-t);e>0&&(m=p(m=new Date(m.getTime()+6e4*e))),_=0}else _=0;else m=p(m=new Date(m.getTime()+6e4*j))}}let z=[...k,...O];if(0===z.length||l&&!l.has(f.id)&&0===k.length)continue;let F=[...z].sort((e,t)=>e.startTime.getTime()-t.startTime.getTime()),B=F[0].startTime,R=F[F.length-1].endTime;z.reduce((e,t)=>e+t.durationMinutes,0);let L=O.reduce((e,t)=>e+t.durationMinutes,0),V=f.dueDateObject,U=(e=V||(u&&c>t&&c<r?c:r)).getTime()-R.getTime(),K=U>0,q=U<0,W=Math.abs(Math.floor(U/6e4));if(d.push({todo:f,startTime:B,endTime:R,durationMinutes:L,segments:z,targetDate:e,hasBuffer:K,bufferMinutes:W,isOverdue:q,nextBreak:null,trackedMinutes:T,originalDurationMinutes:I}),"pomodoro"===g)if(_>=b){let e=s(++P,o),t=P>0&&P%S==0;d[d.length-1].nextBreak={type:t?"long":"short",durationMinutes:e,icon:"ðŸ…",label:t?"long break":"short break"},m=new Date(R.getTime()+6e4*e),_=0}else d[d.length-1].nextBreak=null,m=new Date(R);else"flow"===g?(M>0&&(d[d.length-1].nextBreak={type:"context",durationMinutes:M,icon:"ðŸŒŠ",label:"context switch"}),m=new Date(R.getTime()+6e4*M)):(j>0&&(d[d.length-1].nextBreak={type:"context",durationMinutes:j,icon:"",label:"context switch"}),m=new Date(R.getTime()+6e4*j))}if(d.length>0){d.length;for(let e=d.length-1;e>=0;e--)if(!d[e].todo.isCompleted&&!d[e].todo.isArchived){d[e].nextBreak=null;break}}let N=new Set(d.map(e=>e.todo.id));return{tasks:d,unscheduledTasks:e.filter(e=>!N.has(e.id))}}function c(e,r,n,s,o,l){return e.map(e=>{let c=e.toISOString().split("T")[0],u=a(e,s),m=i(u.startTime,e),h=i(u.endTime,e),p=(h.getTime()-m.getTime())/6e4,g=r.filter(e=>n.get(e.id)===c),f=u.breaks.map(r=>{var n;let a;return{name:r.name||"Break",startTime:i(r.startTime,e),endTime:i(r.endTime,e),color:r.color||"#9ca3af",icon:(n=r.blockType,a=t.DEFAULT_BLOCK_TYPES.find(e=>e.id===n),a?.icon||"â˜•")}}),{tasks:y}=d(g,m,h,f,e,o),x=y.reduce((e,t,r)=>{let i=0;if(t.segments.forEach((e,r)=>{if(e.nextBreak&&r<t.segments.length-1){let n=t.segments[r+1],a=Math.max(0,(n.startTime.getTime()-e.endTime.getTime())/6e4-f.reduce((t,r)=>{let i=Math.max(e.endTime.getTime(),r.startTime.getTime());return t+Math.max(0,(Math.min(n.startTime.getTime(),r.endTime.getTime())-i)/6e4)},0));i+=a}}),t.nextBreak&&t.nextBreak.durationMinutes>0){let e=y[r+1];if(e){let r=Math.max(0,(e.startTime.getTime()-t.endTime.getTime())/6e4-f.reduce((r,i)=>{let n=Math.max(t.endTime.getTime(),i.startTime.getTime());return r+Math.max(0,(Math.min(e.startTime.getTime(),i.endTime.getTime())-n)/6e4)},0));i+=r}}return e+i},0),w=y.map(e=>{let t=(e.startTime.getTime()-m.getTime())/6e4,r=e.durationMinutes/p*100;return{todo:e.todo,startPercent:t/p*100,widthPercent:r,color:l(e.todo)}}),k=[];y.forEach(e=>{let t=l(e.todo);e.segments.forEach(r=>{let i=(r.startTime.getTime()-m.getTime())/6e4,n=r.durationMinutes/p*100;k.push({todoId:e.todo.id,startPercent:i/p*100,widthPercent:n,color:t})})});let T=[];return y.forEach((e,t)=>{if(e.segments.forEach((t,r)=>{if(t.nextBreak&&t.nextBreak.durationMinutes>0){let i=e.segments[r+1];if(i){let e=(t.endTime.getTime()-m.getTime())/6e4,r=((i.startTime.getTime()-m.getTime())/6e4-e)/p*100;r>0&&T.push({startPercent:e/p*100,widthPercent:r,type:t.nextBreak.type})}}}),e.nextBreak&&e.nextBreak.durationMinutes>0){let r=y[t+1];if(r){let t=(e.endTime.getTime()-m.getTime())/6e4,i=((r.startTime.getTime()-m.getTime())/6e4-t)/p*100;i>0&&T.push({startPercent:t/p*100,widthPercent:i,type:e.nextBreak.type})}}}),{date:e,scheduled:w,segments:k,techniqueBreaks:T,breakBlocks:f.map(e=>{let t=(e.startTime.getTime()-m.getTime())/6e4;return{startPercent:t/p*100,widthPercent:((e.endTime.getTime()-m.getTime())/6e4-t)/p*100,color:e.color,name:e.name,icon:e.icon||"â˜•"}}),dayStart:m,dayEnd:h,totalMinutes:p,techniqueBreakMinutes:x}})}e.s(["createTaskSchedulingMap",()=>l,"getScheduleForDate",()=>a,"parseDuration",()=>n,"parseTime",()=>i,"scheduleDayTasks",()=>d,"scheduleWeekTasks",()=>c,"sortTodosForScheduling",()=>o])},22870,45769,e=>{"use strict";function t(e){return e}function r(e){return e}e.s(["getBreakPeriodId",()=>t],22870),e.s(["defaultLinkPatterns",0,[],"getLinkPatternId",()=>r],45769)},51711,e=>{"use strict";var t=e.i(98901);let r="doit-backup-",i={autoBackupEnabled:!0,retentionDays:30,lastBackupDate:null};function n(){return new Date().toISOString().split("T")[0]}async function a(){return await (0,t.loadFromStorage)(t.STORAGE_KEYS.BACKUP_SETTINGS,i)}async function s(e){await (0,t.saveToStorage)(t.STORAGE_KEYS.BACKUP_SETTINGS,e)}async function o(){let e=[];try{let i=(0,t.getStorageAdapter)(),n=await i.getAllKeys();for(let t of Array.isArray(n)?n:[])if(t&&t.startsWith(r)){let r=await i.getItem(t),n="string"==typeof r?r:null;if(n)try{let t=JSON.parse(n);t.timestamp&&!isNaN(t.timestamp)&&t.timestamp>0&&e.push(t)}catch(e){console.warn(`Failed to parse backup ${t}:`,e)}}e.sort((e,t)=>t.timestamp-e.timestamp)}catch(e){console.error("Failed to load backups:",e)}return e}async function l(e="manual"){try{let i=(0,t.getStorageAdapter)(),o=await i.getItem(t.STORAGE_KEYS.TODOS),l=await i.getItem(t.STORAGE_KEYS.SETTINGS),d=new Date,c={timestamp:d.getTime(),date:d.toISOString(),todos:"string"==typeof o?o:JSON.stringify(o||[]),settings:"string"==typeof l?l:JSON.stringify(l||{}),source:e},u=`${r}${d.getTime()}`;if(await i.setItem(u,JSON.stringify(c)),"auto"===e){let e=await a();e.lastBackupDate=n(),await s(e)}return!0}catch(e){return console.error("Failed to create backup:",e),!1}}async function d(e){try{let i=(0,t.getStorageAdapter)(),n=`${r}${e}`;return await i.removeItem(n),!0}catch(e){return console.error("Failed to delete backup:",e),!1}}async function c(){let e=await a();if(!e.autoBackupEnabled)return!1;let t=n();return e.lastBackupDate!==t}async function u(){await c()&&await l("auto")}async function m(){let e=await a(),t=await o(),r=new Date;r.setDate(r.getDate()-e.retentionDays);let i=r.getTime(),n=0;for(let e of t)e.timestamp<i&&await d(e.timestamp)&&n++;return n}e.s(["BACKUP_KEY_PREFIX",0,r,"autoBackupIfNeeded",()=>u,"cleanupOldBackups",()=>m,"defaultBackupSettings",0,i])},17047,432,24749,64672,91007,47662,7889,51710,65095,e=>{"use strict";var t=e.i(22870),r=e.i(45769),i=e.i(26238),n=e.i(14082),a=e.i(51711),s=e.i(55584),o=e.i(82431),l=e.i(73986);function d(e){return e}let c=[{id:"backlog",name:"Backlog",color:(0,l.getColor)("#94a3b8"),icon:"ðŸ“¥",order:0,isSystem:!0,mapsToTodoState:"active"},{id:"todo",name:"To Do",color:(0,l.getColor)("#60a5fa"),icon:"ðŸ“‹",order:1,mapsToTodoState:"active"},{id:"in-progress",name:"In Progress",color:(0,l.getColor)("#fbbf24"),icon:"ðŸ”„",order:2,mapsToTodoState:"active"},{id:"review",name:"Review",color:(0,l.getColor)("#a78bfa"),icon:"ðŸ‘€",order:3,mapsToTodoState:"active"},{id:"completed",name:"Done",color:(0,l.getColor)("#4ade80"),icon:"âœ…",order:4,isSystem:!0,mapsToTodoState:"completed"},{id:"rejected",name:"Rejected",color:(0,l.getColor)("#f87171"),icon:"ðŸš«",order:5,isSystem:!0,mapsToTodoState:"completed"},{id:"archived",name:"Archived",color:(0,l.getColor)("#9ca3af"),icon:"ðŸ“¦",order:6,isSystem:!0,mapsToTodoState:"archived"}];function u(e){return e}e.s(["defaultKanbanStates",0,c,"getKanbanStateId",()=>d],432);let m=[{id:"all",name:"All Tasks",description:"Full workflow view",stateIds:["backlog","todo","in-progress","review","completed","rejected"],isDefault:!0},{id:"active-work",name:"Active Work",description:"Focus on current work",stateIds:["todo","in-progress","review","completed"]},{id:"intake",name:"Intake",description:"Triage and prioritize new tasks",stateIds:["backlog","todo","rejected"]},{id:"retrospective",name:"Retrospective",description:"Review completed and rejected work",stateIds:["completed","rejected","archived"]}];e.s(["defaultKanbanViews",0,m,"getKanbanViewId",()=>u],24749);let h=[{fromStateId:"backlog",toStateId:"todo"},{fromStateId:"backlog",toStateId:"in-progress"},{fromStateId:"backlog",toStateId:"rejected"},{fromStateId:"backlog",toStateId:"archived"},{fromStateId:"todo",toStateId:"backlog"},{fromStateId:"todo",toStateId:"in-progress"},{fromStateId:"todo",toStateId:"completed"},{fromStateId:"todo",toStateId:"rejected"},{fromStateId:"in-progress",toStateId:"todo"},{fromStateId:"in-progress",toStateId:"review"},{fromStateId:"in-progress",toStateId:"completed"},{fromStateId:"review",toStateId:"in-progress"},{fromStateId:"review",toStateId:"completed"},{fromStateId:"completed",toStateId:"archived"},{fromStateId:"completed",toStateId:"todo"},{fromStateId:"rejected",toStateId:"archived"},{fromStateId:"rejected",toStateId:"backlog"},{fromStateId:"archived",toStateId:"todo"}];e.s(["defaultKanbanTransitions",0,h],64672);let p={assigned:(0,l.getColor)("#cce5ff"),source:(0,l.getColor)("#d4fdd4"),mentioned:(0,l.getColor)("#ffe5b4"),project:(0,l.getColor)("#e2ccff"),priority:(0,l.getColor)("#ffd4d4"),dueDate:(0,l.getColor)("#fce4ec"),duration:(0,l.getColor)("#d4faff"),recurring:(0,l.getColor)("#e1f5e1"),dependency:(0,l.getColor)("#fff4e6"),tag:(0,l.getColor)("#ffe4cc"),sprint:(0,l.getColor)("#dbeafe")};function g(e){return e}e.s(["defaultMarkerColors",0,p],91007);let f=[{id:"sequential-focus",name:"Focus Mode",technique:"sequential",contextSwitchingTime:(0,s.getDurationMin)(5),defaultTaskDuration:(0,s.getDurationMin)(25),durationMultiplier:1},{id:"sequential-planning",name:"Planning Mode",technique:"sequential",contextSwitchingTime:(0,s.getDurationMin)(15),defaultTaskDuration:(0,s.getDurationMin)(45),durationMultiplier:1.5},{id:"sequential-realistic",name:"Realistic Mode",technique:"sequential",contextSwitchingTime:(0,s.getDurationMin)(20),defaultTaskDuration:(0,s.getDurationMin)(60),durationMultiplier:2},{id:"pomodoro-standard",name:"Standard (25/5/15/4)",technique:"pomodoro",contextSwitchingTime:(0,s.getDurationMin)(0),defaultTaskDuration:(0,s.getDurationMin)(25),durationMultiplier:1,pomodoroWorkDuration:(0,s.getDurationMin)(25),pomodoroShortBreak:(0,s.getDurationMin)(5),pomodoroLongBreak:(0,s.getDurationMin)(15),pomodoroLongBreakInterval:4},{id:"pomodoro-long",name:"Long Sessions (50/10/30/4)",technique:"pomodoro",contextSwitchingTime:(0,s.getDurationMin)(0),defaultTaskDuration:(0,s.getDurationMin)(50),durationMultiplier:1,pomodoroWorkDuration:(0,s.getDurationMin)(50),pomodoroShortBreak:(0,s.getDurationMin)(10),pomodoroLongBreak:(0,s.getDurationMin)(30),pomodoroLongBreakInterval:4},{id:"flow-5217",name:"52/17 Method (52/17/10)",technique:"flow",contextSwitchingTime:(0,s.getDurationMin)(0),defaultTaskDuration:(0,s.getDurationMin)(52),durationMultiplier:1,flowWorkDuration:(0,s.getDurationMin)(52),flowBreakDuration:(0,s.getDurationMin)(17),flowContextSwitchingTime:(0,s.getDurationMin)(10)},{id:"flow-ultradian",name:"Ultradian Rhythm (90/20/10)",technique:"flow",contextSwitchingTime:(0,s.getDurationMin)(0),defaultTaskDuration:(0,s.getDurationMin)(90),durationMultiplier:1,flowWorkDuration:(0,s.getDurationMin)(90),flowBreakDuration:(0,s.getDurationMin)(20),flowContextSwitchingTime:(0,s.getDurationMin)(10)}];e.s(["defaultGanttPresets",0,f,"getGanttPresetId",()=>g],47662);let y={schedulingTechnique:"sequential",contextSwitchingTime:(0,s.getDurationMin)(15),defaultTaskDuration:(0,s.getDurationMin)(30),durationMultiplier:1,minimumRemainingDuration:(0,s.getDurationMin)(1),pomodoroWorkDuration:(0,s.getDurationMin)(25),pomodoroShortBreak:(0,s.getDurationMin)(5),pomodoroLongBreak:(0,s.getDurationMin)(15),pomodoroLongBreakInterval:4,flowWorkDuration:(0,s.getDurationMin)(52),flowBreakDuration:(0,s.getDurationMin)(17),flowContextSwitchingTime:(0,s.getDurationMin)(10),zoomLevel:"1hour",showWeekends:!0,showDependencies:!0,taskRowHeight:"normal",showBufferZones:!0,showNowLine:!0,collapseCompleted:!1,presets:f,activePresetId:void 0};e.s(["defaultGantt",0,y],7889);let x={weekStartDay:(0,s.getWeekday)(0),defaultView:"month",showWeekNumbers:!1,taskDotLimit:4,dotColorBy:"state",showOverdueBadge:!0,showRecurringIndicator:!0,showTaskCount:!1};e.s(["defaultCalendar",0,x],51710);let w={archiveDays:(0,s.getDurationDay)(7),autoDelete:{enabled:!0,deleteDays:(0,s.getDurationDay)(90)},theme:"system"},k={enabled:!0,assignedPerson:void 0,sourcePerson:void 0,project:void 0,priority:"medium",dueDate:"today",duration:"30m",recurring:void 0},T={enabled:!1,notifyOverdue:!0,notifyDueToday:!0,notifyDueSoon:!0,dueSoonHours:(0,s.getDurationHour)(2),checkInterval:(0,s.getDurationMin)(15)},v={morning:(0,s.getShortTime)("08:00"),noon:(0,s.getShortTime)("12:00"),afternoon:(0,s.getShortTime)("15:00"),evening:(0,s.getShortTime)("19:00"),workWeekStart:(0,s.getWeekday)(1),workWeekEnd:(0,s.getWeekday)(5),fiscalYearStart:(0,s.getMonth)(1)},b={useCommonSchedule:!0,commonSchedule:{startTime:(0,s.getShortTime)("09:00"),endTime:(0,s.getShortTime)("17:00"),breaks:[{id:(0,t.getBreakPeriodId)("lunch"),name:"Lunch",startTime:(0,s.getShortTime)("12:00"),endTime:(0,s.getShortTime)("13:00"),blockType:(0,o.getTimeBlockId)("lunch")}]},weekdaySchedule:{startTime:(0,s.getShortTime)("09:00"),endTime:(0,s.getShortTime)("17:00"),breaks:[{id:(0,t.getBreakPeriodId)("lunch"),name:"Lunch",startTime:(0,s.getShortTime)("12:00"),endTime:(0,s.getShortTime)("13:00"),blockType:(0,o.getTimeBlockId)("lunch")}]},weekendSchedule:{startTime:(0,s.getShortTime)("10:00"),endTime:(0,s.getShortTime)("14:00"),breaks:[]},customSchedules:{}},j={defaultSprintDuration:(0,s.getDurationDay)(14),showBacklogInSprint:!1},D={requireConfirmation:!1,confirmationRepeatInterval:(0,s.getDurationSec)(30),confirmationMaxRepeats:5,autoTimeTracking:!0,trackActualVsEstimated:!0,defaultExtendMinutes:(0,s.getDurationMin)(5),extendOptions:[(0,s.getDurationMin)(5),(0,s.getDurationMin)(10),(0,s.getDurationMin)(15),(0,s.getDurationMin)(30)],showEarlyCompletePrompt:!0,autoExtendOnOvertime:!0,useTrackedTimeForDuration:!0,notificationsEnabled:!0,soundEnabled:!0,soundVolume:.3,ambientSoundEnabled:!1,ambientWorkSound:"",ambientBreakSound:"",ambientVolume:.3,showNextTask:!0,showSessionStats:!0,showKeyboardHints:!0},S={ganttView:!0,calendarView:!0,kanbanView:!0,sprintsView:!0,statsView:!0,templates:!0,batchProcessing:!0,reordering:!0,exports:!0,focusMode:!0,timeTracking:!0},A={priorities:i.defaultPriorities,linkPatterns:r.defaultLinkPatterns,markerColors:p,general:w,dateTime:v,workHours:b,gantt:y,calendar:x,autoAssign:k,notifications:T,kanban:{states:c,allowedTransitions:h,views:m,activeViewId:"all",showEmptyColumns:!0,showTaskCount:!0,cardDisplayFields:["assignedPeople","priority","dueDate","projects"]},sprints:j,categories:n.defaultCategories,focus:D,features:S,backup:a.defaultBackupSettings};e.s(["defaultAutoAssignSettings",0,k,"defaultDateTimeSettings",0,v,"defaultFeatureSettings",0,S,"defaultFocusSettings",0,D,"defaultGeneralSettings",0,w,"defaultNotificationSettings",0,T,"defaultSettings",0,A,"defaultSprintSettings",0,j,"defaultWorkHoursSettings",0,b],65095);var C=e.i(98901);function M(e){let t=e.state||"active",r=e.completedAt||null,i=e.archivedAt||null,n=e.deletedAt||null;e.state||(!0===e.archived?(t="archived",!i&&r&&(i=r)):!0===e.completed&&(t="completed"));let a=e.metadata||{};return{...e,state:t,plainText:e.plainText||e.text||"",assignedPeople:e.assignedPeople||a.assignedPeople||[],sourcePeople:e.sourcePeople||a.sourcePeople||[],mentionedPeople:e.mentionedPeople||a.mentionedPeople||[],projects:e.projects||a.projects||[],dependencies:e.dependencies||a.dependencies||[],tags:e.tags||a.tags||[],priority:e.priority||a.priority||a.priorities?.[0],dueDate:e.dueDate||a.dueDate||a.dueDates?.[0],duration:e.duration||a.duration||a.durations?.[0],recurring:e.recurring||a.recurring,context:e.context||a.context||"",sprint:e.sprint||a.sprint,comments:e.comments||[],activity:e.activity||[],subtasks:e.subtasks||[],createdAt:e.createdAt||Date.now(),updatedAt:e.updatedAt||e.createdAt||Date.now(),completedAt:r,archivedAt:i,deletedAt:n}}function _(e){let{imageUrl:t,...r}=e;return{...r,alternatives:e.alternatives||[],comments:e.comments||[]}}function P(e){let{imageUrl:t,...r}=e;return{...r,alternatives:e.alternatives||[],comments:e.comments||[]}}function N(e){return{...e,alternatives:e.alternatives||[],order:e.order??0,comments:e.comments||[]}}function I(e){if(e.people&&Array.isArray(e.people)){let t=e.people.map(_);(0,C.saveToStorage)(C.STORAGE_KEYS.PEOPLE,t)}if(e.projects&&Array.isArray(e.projects)){let t=e.projects.map(P);(0,C.saveToStorage)(C.STORAGE_KEYS.PROJECTS,t)}let t=e.dateTime||e.general?.dateTime||{},r=e.workHours||e.general?.workHours||{},i=e.autoAssign||e.general?.autoAssign||{},n=e.general||{},a=e.gantt||e.ganttSettings||{},{startOfDay:s,endOfDay:o,...l}=t;return{...A,priorities:(e.priorities||A.priorities).map(N),linkPatterns:e.linkPatterns||A.linkPatterns,markerColors:{...A.markerColors,...e.markerColors||{}},general:{...A.general,archiveDays:n.archiveDays??A.general.archiveDays,theme:n.theme??A.general.theme,autoDelete:{...A.general.autoDelete,...n.autoDelete||{}}},dateTime:{...A.dateTime,...l},workHours:{...A.workHours,...r},gantt:{...A.gantt,...a},kanban:{...A.kanban,...e.kanban||{}},sprints:{...A.sprints,...e.sprints||{}},calendar:{...A.calendar,...e.calendar||{}},categories:e.categories||A.categories,notifications:{...A.notifications,...e.notifications||{}},autoAssign:{...A.autoAssign,...i},features:{...A.features,...e.features||{}},focus:{...A.focus,...e.focus||{}}}}function $(e,t){if(!Array.isArray(e))return[];let{archiveDays:r,autoDelete:i}=t.general;return e.map(M).filter(e=>!("deleted"===e.state||function(e,t,r){if(!t||"completed"!==e.state&&"archived"!==e.state)return!1;let i="archived"===e.state&&e.archivedAt||e.completedAt;return!!i&&(Date.now()-i)/864e5>=r}(e,i.enabled,i.deleteDays))).map(e=>"completed"===e.state&&e.completedAt&&(Date.now()-e.completedAt)/864e5>=r&&"completed"===e.state?{...e,state:"archived",archivedAt:(0,s.getTimestamp)(Date.now())}:e)}function E(){try{let e=(0,C.getStorageAdapter)(),t=e.getItem(C.STORAGE_KEYS.VERSION),r="string"==typeof t?t:null;if((r?parseInt(r,10):0)<5)return(0,a.autoBackupIfNeeded)(),e.setItem(C.STORAGE_KEYS.VERSION,"5"),!0;return(0,a.autoBackupIfNeeded)(),(0,a.cleanupOldBackups)(),!1}catch(e){return console.error("Failed to check data version:",e),!1}}e.s(["checkAndUpdateVersion",()=>E,"migrateSettings",()=>I,"migrateTodos",()=>$],17047)},54759,61998,e=>{"use strict";let t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],i=["1st","2nd","3rd","4th","5th","last"],n=["first","second","third","fourth","fifth","last"];function a(e){let a=e.toLowerCase().trim();if(/^(?:every\s+|each\s+)?workday$/.test(a)||/^(?:every\s+|each\s+)?weekdays?$/.test(a))return{type:"workday",raw:e};let s={daily:{interval:1,unit:"day"},weekly:{interval:1,unit:"week"},biweekly:{interval:2,unit:"week"},fortnightly:{interval:2,unit:"week"},monthly:{interval:1,unit:"month"},bimonthly:{interval:2,unit:"month"},quarterly:{interval:1,unit:"quarter"},yearly:{interval:1,unit:"year"},annually:{interval:1,unit:"year"},semiannually:{interval:1,unit:"half"}};if(s[a]){let{interval:t,unit:r}=s[a];return{type:"interval",interval:t,unit:r,raw:e}}let o=a.match(/^repeat\s+(daily|weekly|biweekly|fortnightly|monthly|bimonthly|quarterly|yearly|annually|semiannually)$/);if(o&&s[o[1]]){let{interval:t,unit:r}=s[o[1]];return{type:"interval",interval:t,unit:r,raw:e}}let l=a.match(/^(?:every|each|repeat)\s+(day|week|month|quarter|half|year)$/);if(l)return{type:"interval",interval:1,unit:l[1],raw:e};let d=a.match(/^(?:every|each|repeat)\s+(\d+)\s+(day|week|month|quarter|half|year)s?$/);if(d)return{type:"interval",interval:parseInt(d[1],10),unit:d[2],raw:e};let c=a.match(/^every\s+other\s+(day|week|month|quarter|half|year)$/);if(c)return{type:"interval",interval:2,unit:c[1],raw:e};let u=a.match(/^(?:every|each)\s+month\s+on\s+(?:the\s+)?(\d+)(?:st|nd|rd|th)?$/);if(u)return{type:"monthly",monthDay:parseInt(u[1],10),raw:e};let m=a.match(/^on\s+the\s+(\d+)(?:st|nd|rd|th)$/);if(m)return{type:"monthly",monthDay:parseInt(m[1],10),raw:e};let h=a.match(/^(?:every|each)\s+(sunday|monday|tuesday|wednesday|thursday|friday|saturday)$/);if(h)return{type:"weekday",weekday:t.indexOf(h[1]),raw:e};let p=a.match(/^(?:every|each)\s+(1st|2nd|3rd|4th|5th|last|first|second|third|fourth|fifth)\s+(sunday|monday|tuesday|wednesday|thursday|friday|saturday)$/);if(p){let r,a,s=(r=p[1].toLowerCase(),-1!==(a=n.indexOf(r))?i[a]:r);return{type:"nth-weekday",nthWeek:i.indexOf(s)+1,weekday:t.indexOf(p[2]),raw:e}}let g=a.match(/^(?:every|each)\s+((?:sun|mon|tue|wed|thu|fri|sat)(?:day)?(?:\s*(?:,|and)\s*(?:sun|mon|tue|wed|thu|fri|sat)(?:day)?)+)$/);if(g){let r=g[1].match(/sun|mon|tue|wed|thu|fri|sat/gi);if(r&&r.length>0){let i=r[0].toLowerCase(),n=t.findIndex(e=>e.startsWith(i));if(-1!==n)return{type:"weekday",weekday:n,raw:e}}}let f=a.match(/^monthly\s+on\s+(\d+)(st|nd|rd|th)?$/);if(f)return{type:"monthly",monthDay:parseInt(f[1],10),raw:e};let y=a.match(/^quarterly\s+on\s+(\d+)(st|nd|rd|th)?$/);if(y)return{type:"quarterly",monthDay:parseInt(y[1],10),raw:e};let x=a.match(/^yearly\s+on\s+(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)\s+(\d+)$/);return x?{type:"yearly",month:r.indexOf(x[1])+1,monthDay:parseInt(x[2],10),raw:e}:null}function s(e,t=new Date){let r=new Date(t);switch(e.type){case"interval":"day"===e.unit?r.setDate(r.getDate()+(e.interval||1)):"week"===e.unit?r.setDate(r.getDate()+7*(e.interval||1)):"month"===e.unit?r.setMonth(r.getMonth()+(e.interval||1)):"quarter"===e.unit?r.setMonth(r.getMonth()+3*(e.interval||1)):"half"===e.unit?r.setMonth(r.getMonth()+6*(e.interval||1)):"year"===e.unit&&r.setFullYear(r.getFullYear()+(e.interval||1));break;case"workday":for(r.setDate(r.getDate()+1);0===r.getDay()||6===r.getDay();)r.setDate(r.getDate()+1);break;case"weekday":for(r.setDate(r.getDate()+1);r.getDay()!==e.weekday;)r.setDate(r.getDate()+1);break;case"nth-weekday":if(r.setMonth(r.getMonth()+1),r.setDate(1),6===e.nthWeek)for(r.setMonth(r.getMonth()+1),r.setDate(0);r.getDay()!==e.weekday;)r.setDate(r.getDate()-1);else{for(;r.getDay()!==e.weekday;)r.setDate(r.getDate()+1);r.setDate(r.getDate()+((e.nthWeek||1)-1)*7)}break;case"monthly":r.setMonth(r.getMonth()+1),r.setDate(Math.min(e.monthDay||1,o(r)));break;case"quarterly":let i=3*Math.floor(r.getMonth()/3)+3;r.setMonth(i),r.setDate(Math.min(e.monthDay||1,o(r)));break;case"yearly":r.setFullYear(r.getFullYear()+1),r.setMonth((e.month||1)-1),r.setDate(Math.min(e.monthDay||1,o(r)))}return void 0!==e.hour&&(r.setHours(e.hour),r.setMinutes(e.minute??0),r.setSeconds(0),r.setMilliseconds(0)),r}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}e.s(["calculateNextOccurrence",()=>s,"parseRecurringPattern",()=>a],54759);var l=e.i(73986),d=e.i(55584);function c(e,t,r){return{id:(0,l.getActivityId)(`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),timestamp:(0,d.getTimestamp)(Date.now()),type:e,description:t,metadata:r}}function u(e,t){let r=[],i=t.assignedPeople.filter(t=>!e.assignedPeople.includes(t)),n=e.assignedPeople.filter(e=>!t.assignedPeople.includes(e));i.forEach(e=>{r.push(c("assigned_added",`Assigned to @${e}`))}),n.forEach(e=>{r.push(c("assigned_removed",`Unassigned from @${e}`))});let a=t.sourcePeople.filter(t=>!e.sourcePeople.includes(t)),s=e.sourcePeople.filter(e=>!t.sourcePeople.includes(e));a.forEach(e=>{r.push(c("source_added",`Added source $${e}`))}),s.forEach(e=>{r.push(c("source_removed",`Removed source $${e}`))});let o=t.mentionedPeople.filter(t=>!e.mentionedPeople.includes(t)),l=e.mentionedPeople.filter(e=>!t.mentionedPeople.includes(e));o.forEach(e=>{r.push(c("mentioned_added",`Mentioned ^${e}`))}),l.forEach(e=>{r.push(c("mentioned_removed",`Removed mention ^${e}`))});let d=t.projects.filter(t=>!e.projects.includes(t)),u=e.projects.filter(e=>!t.projects.includes(e));d.forEach(e=>{r.push(c("project_added",`Added to project #${e}`))}),u.forEach(e=>{r.push(c("project_removed",`Removed from project #${e}`))}),e.priority!==t.priority&&(t.priority&&!e.priority?r.push(c("priority_changed",`Set priority to !!${t.priority}`)):!t.priority&&e.priority?r.push(c("priority_removed",`Removed priority !!${e.priority}`)):t.priority&&e.priority&&r.push(c("priority_changed",`Changed priority from !!${e.priority} to !!${t.priority}`))),e.dueDate!==t.dueDate&&(t.dueDate&&!e.dueDate?r.push(c("duedate_changed",`Set due date to ~${t.dueDate}`)):!t.dueDate&&e.dueDate?r.push(c("duedate_removed","Removed due date")):t.dueDate&&e.dueDate&&r.push(c("duedate_changed",`Changed due date to ~${t.dueDate}`))),e.duration!==t.duration&&(t.duration&&!e.duration?r.push(c("duration_changed",`Set duration to *${t.duration}`)):!t.duration&&e.duration?r.push(c("duration_removed","Removed duration")):t.duration&&e.duration&&r.push(c("duration_changed",`Changed duration to *${t.duration}`))),e.recurring!==t.recurring&&(t.recurring&&!e.recurring?r.push(c("recurring_changed",`Set recurring to %${t.recurring}`)):!t.recurring&&e.recurring?r.push(c("recurring_removed","Removed recurring pattern")):t.recurring&&e.recurring&&r.push(c("recurring_changed",`Changed recurring to %${t.recurring}`)));let m=t.dependencies??[],h=e.dependencies??[],p=m.filter(e=>!h.includes(e)),g=h.filter(e=>!m.includes(e));p.forEach(e=>{r.push(c("dependency_added",`Added dependency >${e}`))}),g.forEach(e=>{r.push(c("dependency_removed",`Removed dependency >${e}`))});let f=t.tags??[],y=e.tags??[],x=f.filter(e=>!y.includes(e)),w=y.filter(e=>!f.includes(e));return x.forEach(e=>{r.push(c("tag_added",`Added tag &${e}`))}),w.forEach(e=>{r.push(c("tag_removed",`Removed tag &${e}`))}),e.context!==t.context&&(t.context&&!e.context?r.push(c("context_changed","Added context")):!t.context&&e.context?r.push(c("context_changed","Removed context")):r.push(c("context_changed","Updated context"))),r}function m(e){let t=Math.floor((Date.now()-e)/1e3),r=Math.floor(t/60),i=Math.floor(r/60),n=Math.floor(i/24);return t<60?"just now":r<60?`${r}m ago`:i<24?`${i}h ago`:n<7?`${n}d ago`:new Date(e).toLocaleDateString()}function h(e){return new Date(e).toLocaleString()}e.s(["createActivity",()=>c,"formatActivityDateTime",()=>h,"formatActivityTime",()=>m,"generateMetadataActivities",()=>u],61998)},60825,e=>{"use strict";function t(e){let t="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return e?`${e}-${t}`:t}function r(){return t("act")}function i(){return t("cmt")}function n(){return t("sub")}function a(){return t("search")}function s(){return t("break")}function o(){return t("view")}function l(){return t("sprint")}e.s(["createActivityId",()=>r,"createBreakPeriodId",()=>s,"createCommentId",()=>i,"createSearchHistoryId",()=>a,"createSprintId",()=>l,"createSubtaskId",()=>n,"createViewPresetId",()=>o,"generatePrefixedUUID",()=>t])},1006,74715,e=>{"use strict";var t=e.i(81391),r=e.i(55584),i=e.i(54759);let n=(e,t=!1)=>{let r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()],i=e.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],a=e.getFullYear(),s=e.getHours(),o=e.getMinutes(),l=(e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(i),d=o.toString().padStart(2,"0");if(t){let e=s.toString().padStart(2,"0");return`${r}, ${i}${l} ${n} ${a} ${e}:${d}`}{let e=s%12||12,t=s>=12?"pm":"am";return`${r}, ${i}${l} ${n} ${a} ${e}:${d}${t}`}},a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=(e,t)=>{let r;if(t.useCommonSchedule)r=t.commonSchedule;else{let i=e.getDay(),n=a[i],s=t.customSchedules[n];r=s||(0===i||6===i?t.weekendSchedule:t.weekdaySchedule)}return{bod:r.startTime||"09:00",eod:r.endTime||"17:00"}},o=(e,t,r)=>{let i=e.trim(),a=/\b([1][3-9]|[2][0-3]):[0-5][0-9]/.test(i),o=((e,t,r)=>{let i=new Date,n=e.toLowerCase().trim(),a=(e,t)=>{let[r,i]=t.split(":").map(Number);e.setHours(r,i,0,0)};switch(n){case"today":case"tod":return i;case"tomorrow":case"tmr":case"tom":{let e=new Date(i);return e.setDate(e.getDate()+1),e}case"yesterday":{let e=new Date(i);return e.setDate(e.getDate()-1),e}case"bod":case"startofday":{let e=new Date(i),{bod:t}=s(e,r);return a(e,t),e}case"eod":case"endofday":{let e=new Date(i),{eod:t}=s(e,r);return a(e,t),e}case"morning":{let e=new Date(i);return a(e,t.morning),e}case"noon":{let e=new Date(i);return a(e,t.noon),e}case"afternoon":{let e=new Date(i);return a(e,t.afternoon),e}case"evening":{let e=new Date(i);return a(e,t.evening),e}case"bow":case"startofweek":{let e=new Date(i),n=e.getDay(),o=7*(n<t.workWeekStart)+n-t.workWeekStart;e.setDate(e.getDate()-o);let{bod:l}=s(e,r);return a(e,l),e}case"eow":case"endofweek":{let e=new Date(i),n=e.getDay(),o=t.workWeekEnd??(t.workWeekStart+4)%7;e.setDate(e.getDate()+(o-n+7)%7);let{eod:l}=s(e,r);return a(e,l),e}case"nextweek":{let e=new Date(i),n=e.getDay(),o=(t.workWeekStart+7-n)%7+7;e.setDate(e.getDate()+o);let{bod:l}=s(e,r);return a(e,l),e}case"weekend":case"nextsaturday":{let e=new Date(i),t=e.getDay();return e.setDate(e.getDate()+((6-t+7)%7||7)),e}case"bom":case"startofmonth":{let e=new Date(i.getFullYear(),i.getMonth(),1),{bod:t}=s(e,r);return a(e,t),e}case"eom":case"endofmonth":{let e=new Date(i.getFullYear(),i.getMonth()+1,0),{eod:t}=s(e,r);return a(e,t),e}case"nextmonth":{let e=new Date(i.getFullYear(),i.getMonth()+1,1),{bod:t}=s(e,r);return a(e,t),e}case"boq":case"startofquarter":{let e=Math.floor(i.getMonth()/3),t=new Date(i.getFullYear(),3*e,1),{bod:n}=s(t,r);return a(t,n),t}case"eoq":case"endofquarter":{let e=Math.floor(i.getMonth()/3),t=new Date(i.getFullYear(),3*e+3,0),{eod:n}=s(t,r);return a(t,n),t}case"nextquarter":{let e=Math.floor(i.getMonth()/3),t=new Date(i.getFullYear(),(e+1)*3,1);t<i&&t.setFullYear(t.getFullYear()+1);let{bod:n}=s(t,r);return a(t,n),t}case"boh":case"startofhalf":{let e=6>i.getMonth()?0:6,t=new Date(i.getFullYear(),e,1),{bod:n}=s(t,r);return a(t,n),t}case"eoh":case"endofhalf":{let e=6>i.getMonth()?5:11,t=new Date(i.getFullYear(),e+1,0),{eod:n}=s(t,r);return a(t,n),t}case"nexthalf":{let e=6*(6>i.getMonth()),t=new Date(i.getFullYear(),e,1);t<i&&t.setFullYear(t.getFullYear()+1);let{bod:n}=s(t,r);return a(t,n),t}case"boy":case"startofyear":{let e=new Date(i.getFullYear(),0,1),{bod:t}=s(e,r);return a(e,t),e}case"eoy":case"endofyear":{let e=new Date(i.getFullYear(),11,31),{eod:t}=s(e,r);return a(e,t),e}case"nextyear":{let e=new Date(i.getFullYear()+1,0,1),{bod:t}=s(e,r);return a(e,t),e}default:return null}})(i,t,r);if(o)return{original:i,formatted:n(o,a),timestamp:o.getTime()};let l=(e=>{for(let t of[/^(\d{1,2})[\/.](\d{1,2})[\/.](\d{4})\s+(\d{1,2}):(\d{2}):(\d{2})$/,/^(\d{1,2})[\/.](\d{1,2})[\/.](\d{4})\s+(\d{1,2}):(\d{2})$/,/^(\d{1,2})[\/.](\d{1,2})[\/.](\d{4})$/]){let r=e.match(t);if(r){let t=parseInt(r[1],10),i=parseInt(r[2],10),n=parseInt(r[3],10),a=r[4]?parseInt(r[4],10):0,s=r[5]?parseInt(r[5],10):0,o=r[6]?parseInt(r[6],10):0;if(t>=1&&t<=12&&i>=1&&i<=31){let e=t-1,r=new Date(n,e,i,a,s,o);if(r.getMonth()===e&&r.getDate()===i)return r}if(i>=1&&i<=12&&t>=1&&t<=31){let r=i-1,l=new Date(n,r,t,a,s,o);if(l.getMonth()===r&&l.getDate()===t&&(e.includes(".")||t>12))return l}}}return null})(i);if(l)return{original:i,formatted:n(l,a),timestamp:l.getTime()};let d=i.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(d){let[,e,t,r]=d,s=new Date(parseInt(e),parseInt(t)-1,parseInt(r));return{original:i,formatted:n(s,a),timestamp:s.getTime()}}let c=new Date(i);return isNaN(c.getTime())?null:{original:i,formatted:n(c,a),timestamp:c.getTime()}},l=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return`${t}-${r}-${i}T${n}:${a}`};e.s(["convertToDateInputFormat",0,(e,t,r)=>{if(!e)return"";if(e.match(/^\d{4}-\d{2}-\d{2}/))return e.split("T")[0];let i=o(e,t,r);if(i){let e=new Date(i.timestamp),t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return`${t}-${r}-${n}`}let n=new Date(e);if(!isNaN(n.getTime())){let e=n.getFullYear(),t=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return`${e}-${t}-${r}`}return""},"convertToTimeInputFormat",0,(e,t,r)=>{if(!e)return"";if(e.includes("T")){let t=e.split("T")[1];if(t)return t.substring(0,5)}let i=o(e,t,r);if(i){let e=new Date(i.timestamp),t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`}return""},"formatDateForDisplay",0,e=>{let t;if(!e)return"";if(e.includes("T")){let[r,i]=e.split("T"),[n,a,s]=r.split("-").map(Number),[o,l]=i.split(":").map(Number);t=new Date(n,a-1,s,o,l)}else{let[r,i,n]=e.split("-").map(Number);t=new Date(r,i-1,n)}return isNaN(t.getTime())?e:e.includes("T")?t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},"normalizeDateValue",0,(e,t,r)=>{if(!e)return;if(e.match(/^\d{4}-\d{2}-\d{2}/))return e;let i=e.toLowerCase().trim(),n=i.match(/^next\s+(monday|tuesday|wednesday|thursday|friday|saturday|sunday)$/);if(n){let e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(n[1]),t=new Date,i=e-t.getDay();i<=0&&(i+=7);let a=new Date(t);a.setDate(t.getDate()+i);let{eod:o}=s(a,r),[d,c]=o.split(":").map(Number);return a.setHours(d,c,0,0),l(a)}if("today"===i){let e=o("eod",t,r);if(e)return l(new Date(e.timestamp))}let a=o(e,t,r);if(a)return l(new Date(a.timestamp))},"parseDate",0,o],74715);var d=e.i(91960),c=e.i(60825);class u{_raw;_settingsModel;_registry;constructor(e,t,r){this._raw=e,this._settingsModel=t,this._registry=r}static createId(){return(0,t.getTodoId)((0,c.generatePrefixedUUID)("todo"))}get raw_DONOTUSE(){return this._raw}get id(){return this._raw.id}get text(){return this._raw.text}get plainText(){return this._raw.plainText}get state(){return this._raw.state}get createdAt(){return this._raw.createdAt}get updatedAt(){return this._raw.updatedAt}get completedAt(){return this._raw.completedAt}get archivedAt(){return this._raw.archivedAt}get deletedAt(){return this._raw.deletedAt}get workflowState(){return this._raw.workflowState}get sortOrder(){return this._raw.sortOrder}get comments(){return this._raw.comments.map(e=>structuredClone(e))}get activity(){return this._raw.activity.map(e=>structuredClone(e))}get context(){return this._raw.context}get assignedPeopleIds(){if(this._raw.assignedPeople.length>0)return[...this._raw.assignedPeople];let e=this._settingsModel.defaultAssignedPerson;if(e&&this._registry){let t=this._registry.findPersonByName(e);if(t)return[t.id]}return[]}get sourcePeopleIds(){if(this._raw.sourcePeople.length>0)return[...this._raw.sourcePeople];let e=this._settingsModel.defaultSourcePerson;if(e&&this._registry){let t=this._registry.findPersonByName(e);if(t)return[t.id]}return[]}get mentionedPeopleIds(){return[...this._raw.mentionedPeople]}get projectIds(){if(this._raw.projects.length>0)return[...this._raw.projects];let e=this._settingsModel.defaultProject;if(e&&this._registry){let t=this._registry.findProjectByName(e);if(t)return[t.id]}return[]}get priorityId(){if(this._raw.priority)return this._raw.priority;let e=this._settingsModel.defaultPriority;if(e){let t=this._settingsModel.findPriority(e);if(t)return t.id}}get dueDate(){if(this._raw.dueDate)return this._raw.dueDate;let e=this._settingsModel.defaultDueDate;if(e){let t=o(e,this._settingsModel.dateTime,this._settingsModel.workHours);if(t)return t.timestamp}}get durationSeconds(){if(this._raw.duration)return this._raw.duration;let e=this._settingsModel.defaultDuration;if(e){let t=(0,d.parseDuration)(e);if(t>0)return 60*t}}get dependencyIds(){return[...this._raw.dependencies||[]]}get tagIds(){return[...this._raw.tags||[]]}get sprintId(){return this._raw.sprint}get tags(){return this.tagIds.map(e=>e)}get dependencies(){return this.dependencyIds.map(e=>e)}get assignedPeople(){let e=this.assignedPeopleIds;return this._registry?e.map(e=>{let t=this._registry.getPerson(e);return t?t.name:e}):e.map(e=>e)}get sourcePeople(){let e=this.sourcePeopleIds;return this._registry?e.map(e=>{let t=this._registry.getPerson(e);return t?t.name:e}):e.map(e=>e)}get mentionedPeople(){let e=this.mentionedPeopleIds;return this._registry?e.map(e=>{let t=this._registry.getPerson(e);return t?t.name:e}):e.map(e=>e)}get projects(){let e=this.projectIds;return this._registry?e.map(e=>{let t=this._registry.getProject(e);return t?t.name:e}):e.map(e=>e)}get priority(){let e=this.priorityId;if(e)return this._settingsModel.findPriorityById(e)?.name}get sprint(){return this.sprintId}get recurring(){return this._raw.recurring}get metadata(){return{assignedPeople:this.assignedPeople,sourcePeople:this.sourcePeople,mentionedPeople:this.mentionedPeople,projects:this.projects,priority:this.priorityName,dueDate:this.dueDateDisplay,duration:this.durationDisplay,recurring:this.recurring,tags:this.tags,dependencies:this.dependencies,sprint:this.sprint,context:this.context}}get dueDateObject(){let e=this.dueDate;if(e)return new Date(e)}get hasDueDate(){return void 0!==this.dueDate}get dueDateKey(){let e=this.dueDateObject;if(!e)return;let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");return`${t}-${r}-${i}`}get durationMinutes(){let e=this.durationSeconds;if(e)return Math.round(e/60)}get hasDuration(){return void 0!==this.durationSeconds}get isRecurring(){return!!this.recurring}get recurringPattern(){let e=this.recurring;return e?(0,i.parseRecurringPattern)(e):null}get isActive(){return"active"===this.state}get isCompleted(){return"completed"===this.state}get isArchived(){return"archived"===this.state}get isDeleted(){return"deleted"===this.state}get isOverdue(){if(this.isCompleted||this.isArchived||this.isDeleted)return!1;let e=this.dueDateObject;return!!e&&e<new Date}get isDueToday(){let e=this.dueDateObject;if(!e)return!1;let t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}get isDueThisWeek(){let e=this.dueDateObject;if(!e)return!1;let t=new Date,r=new Date(t);return r.setDate(t.getDate()+7),e>=t&&e<=r}get daysUntilDue(){let e=this.dueDateObject;if(!e)return;let t=new Date;return t.setHours(0,0,0,0),e.setHours(0,0,0,0),Math.ceil((e.getTime()-t.getTime())/864e5)}get raw(){return structuredClone(this._raw)}get settings(){return this._settingsModel}get hasFields(){return this._raw.assignedPeople.length>0||this._raw.sourcePeople.length>0||this._raw.mentionedPeople.length>0||this._raw.projects.length>0||!!this._raw.priority||!!this._raw.dueDate||!!this._raw.duration||this._raw.dependencies.length>0||this._raw.tags.length>0||!!this._raw.sprint}get priorityColor(){let e=this.priorityId;if(e)return this._settingsModel.getPriorityColorById(e)}get priorityOrder(){let e=this.priorityId;if(e)return this._settingsModel.getPriorityOrderById(e)}get priorityName(){let e=this.priorityId;if(e)return this._settingsModel.findPriorityById(e)?.name}get dueDateDisplay(){let e=this.dueDate;if(!e)return;let t=new Date(e),r=new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=Math.round((i.getTime()-n.getTime())/864e5),s=t.getHours(),o=t.getMinutes(),l=`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`,d=e=>{let[t,r]=e.split(":").map(Number);return{hours:t,minutes:r}},c=this._settingsModel,u=c.getBod(t),m=c.getEod(t),h=c.morningTime,p=c.noonTime,g=c.afternoonTime,f=c.eveningTime,y=d(h),x=d(p),w=d(g),k=d(f),T=()=>{if(0===s&&0===o)return"";if(l===u)return" BOD";if(l===m)return" EOD";if(l===p)return" noon";let e=60*s+o,r=60*y.hours+y.minutes,i=60*x.hours+x.minutes,n=60*w.hours+w.minutes,a=60*k.hours+k.minutes;return e>=r&&e<i?" morning":e>=i&&e<n?" noon":e>=n&&e<a?" afternoon":e>=a&&e<1260?" evening":` ${t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`};if(a<0){let e=Math.abs(a);if(1===e)return"Yesterday";if(e<7)return`${e} days ago`;if(e<30){let t=Math.round(e/7);return`${t} ${1===t?"week":"weeks"} ago`}if(e<365){let t=Math.round(e/30);return`${t} ${1===t?"month":"months"} ago`}let t=Math.round(e/365);return`${t} ${1===t?"year":"years"} ago`}if(0===a){let e=T();return e?`Today${e}`:"Today"}if(1===a){let e=T();return e?`Tomorrow${e}`:"Tomorrow"}if(a<=5){let e=t.toLocaleDateString(void 0,{weekday:"long"}),r=T();return r?`${e}${r}`:`on ${e}`}if(a<=10)return`in ${a} days`;if(a<=56){let e=Math.round(a/7);return`in ${e} ${1===e?"week":"weeks"}`}if(a<=365){let e=Math.round(a/30);return`in ${e} ${1===e?"month":"months"}`}let v=Math.round(a/365);return`in ${v} ${1===v?"year":"years"}`}updateSettings(e,t){this._settingsModel=e,void 0!==t&&(this._registry=t)}canComplete(e){if(this.isCompleted)return{canComplete:!1,reason:"Task is already completed"};if(this.isArchived)return{canComplete:!1,reason:"Task is archived"};if(this.isDeleted)return{canComplete:!1,reason:"Task is deleted"};if(this.dependencies.length>0){let t=this.dependencies.map(t=>e.find(e=>e.id===t)).filter(e=>e&&!e.isCompleted);if(t.length>0){let e=t.map(e=>e.plainText).join(", ");return{canComplete:!1,reason:`Cannot complete: ${t.length} incomplete ${1===t.length?"dependency":"dependencies"}: ${e}`}}}return{canComplete:!0}}canArchive(e){if(this.isArchived)return{canArchive:!1,reason:"Task is already archived"};if(this.isDeleted)return{canArchive:!1,reason:"Task is deleted"};if(this.isActive&&this.dependencies.length>0){let t=this.dependencies.map(t=>e.find(e=>e.id===t)).filter(e=>e&&!e.isCompleted);if(t.length>0){let e=t.map(e=>e.plainText).join(", ");return{canArchive:!1,reason:`Cannot archive: ${t.length} incomplete ${1===t.length?"dependency":"dependencies"}: ${e}`}}}return{canArchive:!0}}canDelete(){return this.isDeleted?{canDelete:!1,reason:"Task is already deleted"}:{canDelete:!0}}canUnarchive(){return this.isArchived?{canUnarchive:!0}:{canUnarchive:!1,reason:"Task is not archived"}}get commentCount(){return this._raw.comments.length}get hasComments(){return this._raw.comments.length>0}get subtasks(){return(this._raw.subtasks||[]).map(e=>structuredClone(e))}get hasSubtasks(){return this.subtaskCount>0}get subtaskCount(){return(this._raw.subtasks||[]).length}get completedSubtaskCount(){return(this._raw.subtasks||[]).filter(e=>e.completed).length}get subtaskProgress(){let e=this.subtaskCount;return 0===e?0:Math.round(this.completedSubtaskCount/e*100)}get allSubtasksCompleted(){let e=this.subtaskCount;return e>0&&this.completedSubtaskCount===e}get timeTracking(){return this._raw.timeTracking?structuredClone(this._raw.timeTracking):void 0}get hasTimeTracking(){return!!this._raw.timeTracking&&this._raw.timeTracking.entries.length>0}get isTrackingTime(){return!!this._raw.timeTracking&&this._raw.timeTracking.entries.some(e=>!e.endTime)}get totalTrackedMinutes(){if(!this._raw.timeTracking)return(0,r.getDurationMin)(0);let e=this._raw.timeTracking.totalMinutes,t=this._raw.timeTracking.entries.find(e=>!e.endTime);return t&&(e+=Math.round((Date.now()-t.startTime)/6e4)),(0,r.getDurationMin)(e)}get totalTrackedTimeDisplay(){let e=this.totalTrackedMinutes;if(0===e)return"0m";let t=Math.floor(e/60),r=e%60;return 0===t?`${r}m`:0===r?`${t}h`:`${t}h ${r}m`}get activeTimeEntry(){if(!this._raw.timeTracking)return null;let e=this._raw.timeTracking.entries.find(e=>!e.endTime);return e?structuredClone(e):null}get activityCount(){return this._raw.activity.length}get hasActivity(){return this._raw.activity.length>0}get latestComment(){if(0===this._raw.comments.length)return null;let e=this._raw.comments[this._raw.comments.length-1],t=e.history[e.history.length-1];return{commentId:e.commentId,content:t.content,timestamp:t.timestamp}}get latestActivity(){return 0===this._raw.activity.length?null:structuredClone(this._raw.activity[this._raw.activity.length-1])}formatDateWithTime(e){let t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}get createdDateDisplay(){return this.formatDateWithTime(this.createdAt)}get updatedDateDisplay(){if(this.updatedAt)return this.formatDateWithTime(this.updatedAt)}get completedDateDisplay(){if(this.completedAt)return this.formatDateWithTime(this.completedAt)}get archivedDateDisplay(){if(this.archivedAt)return this.formatDateWithTime(this.archivedAt)}get ageDisplay(){let e=Math.floor((Date.now()-this.createdAt)/6e4),t=Math.floor(e/60),r=Math.floor(t/24);return r>0?`${r} ${1===r?"day":"days"} ago`:t>0?`${t} ${1===t?"hour":"hours"} ago`:e>0?`${e} ${1===e?"minute":"minutes"} ago`:"just now"}getSummary(e=100){return this.plainText.length<=e?this.plainText:this.plainText.substring(0,e)+"..."}get statusBadge(){return this.isCompleted?"Completed":this.isArchived?"Archived":this.isDeleted?"Deleted":this.isOverdue?"Overdue":this.isDueToday?"Due Today":"Active"}get statusColor(){return this.isCompleted?"#10b981":this.isArchived?"#6b7280":this.isDeleted?"#ef4444":this.isOverdue?"#dc2626":this.isDueToday?"#f59e0b":"#3b82f6"}get metadataSummary(){let e=[],t=this.assignedPeopleIds.length;t>0&&e.push(`${t} ${1===t?"person":"people"}`);let r=this.projectIds.length;r>0&&e.push(`${r} ${1===r?"project":"projects"}`);let i=this.priorityName;i&&e.push(`${i} priority`);let n=this.dueDate;if(n){let t=new Date(n).toLocaleDateString();e.push(`due ${t}`)}this.hasDuration&&e.push(`${this.durationDisplay} duration`);let a=this.tagIds.length;return a>0&&e.push(`${a} ${1===a?"tag":"tags"}`),e.length>0?e.join(", "):"No metadata"}matchesSearch(e){if(""===e)return!0;let t=e.toLowerCase();if(this.plainText.toLowerCase().includes(t)||this.tags.some(e=>e.toLowerCase().includes(t)))return!0;let r=this.priorityName;if(r&&r.toLowerCase().includes(t))return!0;if(this._registry){for(let e of this.assignedPeopleIds){let r=this._registry.getPerson(e);if(r&&r.matchesSearch(t))return!0}for(let e of this.sourcePeopleIds){let r=this._registry.getPerson(e);if(r&&r.matchesSearch(t))return!0}for(let e of this.mentionedPeopleIds){let r=this._registry.getPerson(e);if(r&&r.matchesSearch(t))return!0}for(let e of this.projectIds){let r=this._registry.getProject(e);if(r&&r.matchesSearch(t))return!0}}return!1}get durationDisplay(){let e=this.durationMinutes;if(!e)return;if(e<60)return`${e}m`;let t=e/60;return t===Math.floor(t)?`${t}h`:`${t.toFixed(1)}h`}get formattedDueDateDisplay(){return this.dueDateDisplay}get formattedDurationDisplay(){return this.durationDisplay}isBlockerFor(e){return e.filter(e=>e.dependencies.includes(this.id)&&!e.isCompleted)}get blockedTodosCount(){return 0}}function m(e,t,r){return e.filter(e=>null!=e).map(e=>new u(e,t,r))}e.s(["TodoModel",()=>u,"createTodoModels",()=>m],1006)},18578,e=>{"use strict";var t=e.i(26238),r=e.i(432),i=e.i(24749),n=e.i(45769),a=e.i(14082),s=e.i(60825);let o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class l{static _instance=null;_raw;constructor(e){this._raw=e}static getInstance(){if(!l._instance)throw Error("SettingsModel not initialized. Call createSettingsModel() first.");return l._instance}static isInitialized(){return null!==l._instance}static initialize(e){return l._instance?l._instance._raw=e:l._instance=new l(e),l._instance}static reset_DONOTUSE(){l._instance=null}static createPriorityId(){return(0,t.getPriorityId)((0,s.generatePrefixedUUID)("prio"))}static createLinkPatternId(){return(0,n.getLinkPatternId)((0,s.generatePrefixedUUID)("link"))}static createKanbanStateId(){return(0,r.getKanbanStateId)((0,s.generatePrefixedUUID)("kstate"))}static createKanbanViewId(){return(0,i.getKanbanViewId)((0,s.generatePrefixedUUID)("kview"))}static createProjectCategoryId(){return(0,a.getProjectCategoryId)((0,s.generatePrefixedUUID)("cat"))}get raw_DONOTUSE(){return this._raw}getScheduleForDate(e){let t,r=this._raw.workHours;if(r.useCommonSchedule)t=r.commonSchedule;else{let i=e.getDay(),n=o[i],a=r.customSchedules[n];t=a||(0===i||6===i?r.weekendSchedule:r.weekdaySchedule)}return structuredClone(t)}getBodEod(e){let t=this.getScheduleForDate(e??new Date);return{bod:t.startTime||"09:00",eod:t.endTime||"17:00"}}getBod(e){return this.getScheduleForDate(e??new Date).startTime||"09:00"}getEod(e){return this.getScheduleForDate(e??new Date).endTime||"17:00"}isWeekend(e){let t=e.getDay();return 0===t||6===t}isWorkday(e){return!this.isWeekend(e)}getDayName(e){return o[e.getDay()]}get morningTime(){return this._raw.dateTime.morning}get noonTime(){return this._raw.dateTime.noon}get afternoonTime(){return this._raw.dateTime.afternoon}get eveningTime(){return this._raw.dateTime.evening}get workWeekStart(){return this._raw.dateTime.workWeekStart}get workWeekEnd(){return this._raw.dateTime.workWeekEnd}get fiscalYearStart(){return this._raw.dateTime.fiscalYearStart}get priorities(){return this._raw.priorities.map(e=>structuredClone(e)).sort((e,t)=>e.order-t.order)}findPriority(e){let t=e.toLowerCase(),r=this._raw.priorities.find(e=>e.name.toLowerCase()===t||e.alternatives.some(e=>e.toLowerCase()===t));return r?structuredClone(r):null}getPriorityColor(e){let t=this.findPriority(e);return t?.color||this.priorityColor}getPriorityOrder(e){let t=this.findPriority(e);return t?.order??999}isValidPriority(e){return null!==this.findPriority(e)}findPriorityById(e){let t=this._raw.priorities.find(t=>t.id===e);return t?structuredClone(t):null}getPriorityColorById(e){let t=this.findPriorityById(e);return t?.color||this.priorityColor}getPriorityOrderById(e){let t=this.findPriorityById(e);return t?.order??999}get assignedColor(){return this._raw.markerColors.assigned}get sourceColor(){return this._raw.markerColors.source}get mentionedColor(){return this._raw.markerColors.mentioned}get projectColor(){return this._raw.markerColors.project}get priorityColor(){return this._raw.markerColors.priority}get dueDateColor(){return this._raw.markerColors.dueDate}get durationColor(){return this._raw.markerColors.duration}get recurringColor(){return this._raw.markerColors.recurring}get tagColor(){return this._raw.markerColors.tag}get kanbanStates(){return this._raw.kanban.states.map(e=>structuredClone(e)).sort((e,t)=>e.order-t.order)}findKanbanState(e){let t=this._raw.kanban.states.find(t=>t.id===e);return t?structuredClone(t):null}get systemKanbanStates(){return this._raw.kanban.states.filter(e=>e.isSystem).map(e=>structuredClone(e))}get customKanbanStates(){return this._raw.kanban.states.filter(e=>!e.isSystem).map(e=>structuredClone(e))}isTransitionAllowed(e,t){return this._raw.kanban.allowedTransitions.some(r=>r.fromStateId===e&&r.toStateId===t)}getAllowedTransitionsFrom(e){let t=this._raw.kanban.allowedTransitions.filter(t=>t.fromStateId===e).map(e=>e.toStateId);return this._raw.kanban.states.filter(e=>t.includes(e.id)).map(e=>structuredClone(e))}get kanbanViews(){return this._raw.kanban.views.map(e=>structuredClone(e))}get activeKanbanView(){let e=this._raw.kanban.views.find(e=>e.id===this._raw.kanban.activeViewId);return e?structuredClone(e):null}findKanbanView(e){let t=this._raw.kanban.views.find(t=>t.id===e);return t?structuredClone(t):null}get isGanttViewEnabled(){return this._raw.features.ganttView}get isCalendarViewEnabled(){return this._raw.features.calendarView}get isKanbanViewEnabled(){return this._raw.features.kanbanView}get isSprintsViewEnabled(){return this._raw.features.sprintsView}get isStatsViewEnabled(){return this._raw.features.statsView}get isTemplatesEnabled(){return this._raw.features.templates}get isBatchProcessingEnabled(){return this._raw.features.batchProcessing}get isReorderingEnabled(){return this._raw.features.reordering}get isExportsEnabled(){return this._raw.features.exports}get isFocusModeEnabled(){return this._raw.features.focusMode}get isTimeTrackingEnabled(){return this._raw.features.timeTracking}isFeatureEnabled(e){return this._raw.features[e]}get isAutoAssignEnabled(){return this._raw.autoAssign.enabled}get defaultAssignedPerson(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.assignedPerson}get defaultSourcePerson(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.sourcePerson}get defaultProject(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.project}get defaultPriority(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.priority}get defaultDueDate(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.dueDate}get defaultDuration(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.duration}get defaultRecurring(){if(this._raw.autoAssign.enabled)return this._raw.autoAssign.recurring}get areNotificationsEnabled(){return this._raw.notifications.enabled}get notifyOnOverdue(){return this._raw.notifications.enabled&&this._raw.notifications.notifyOverdue}get notifyOnDueToday(){return this._raw.notifications.enabled&&this._raw.notifications.notifyDueToday}get notifyOnDueSoon(){return this._raw.notifications.enabled&&this._raw.notifications.notifyDueSoon}get dueSoonHours(){return this._raw.notifications.dueSoonHours}get notificationCheckInterval(){return this._raw.notifications.checkInterval}get archiveDays(){return this._raw.general.archiveDays}get isAutoDeleteEnabled(){return this._raw.general.autoDelete.enabled}get deleteDays(){return this._raw.general.autoDelete.deleteDays}get theme(){return this._raw.general.theme}get defaultSprintDuration(){return this._raw.sprints.defaultSprintDuration}get showBacklogInSprint(){return this._raw.sprints.showBacklogInSprint}get isAutoTimeTrackingEnabled(){return this._raw.focus.autoTimeTracking}get isFocusSoundEnabled(){return this._raw.focus.soundEnabled}get focusSoundVolume(){return this._raw.focus.soundVolume}get isAmbientSoundEnabled(){return this._raw.focus.ambientSoundEnabled}get ambientWorkSound(){return this._raw.focus.ambientWorkSound}get ambientBreakSound(){return this._raw.focus.ambientBreakSound}get dateTime(){return structuredClone(this._raw.dateTime)}get workHours(){return structuredClone(this._raw.workHours)}}function d(e){return l.initialize(e)}e.s(["SettingsModel",()=>l,"createSettingsModel",()=>d])},19424,e=>{"use strict";var t=e.i(71645),r=e.i(81391),i=e.i(55584),n=e.i(52497),a=e.i(14082),s=e.i(26238),o=e.i(60095),l=e.i(91960),d=e.i(73986),c=e.i(17047),u=e.i(65095),m=e.i(54759),h=e.i(61998),p=e.i(60825),g=e.i(98901),f=e.i(1006),y=e.i(18578),x=e.i(74715);function w(e,t){let d,c;if(e.duration&&(d=60*(0,l.parseDuration)(e.duration)),e.dueDate){let r=(0,x.parseDate)(e.dueDate,t.dateTime,t.workHours);r&&(c=r.timestamp)}return{assignedPeople:(e.assignedPeople||[]).map(e=>(0,n.getPersonId)(e)),sourcePeople:(e.sourcePeople||[]).map(e=>(0,n.getPersonId)(e)),mentionedPeople:(e.mentionedPeople||[]).map(e=>(0,n.getPersonId)(e)),projects:(e.projects||[]).map(e=>(0,a.getProjectId)(e)),tags:(e.tags||[]).map(e=>(0,r.getTag)(e)),dependencies:(e.dependencies||[]).map(e=>(0,r.getTodoId)(e)),priority:e.priority?(0,s.getPriorityId)(e.priority):void 0,dueDate:c?(0,i.getTimestamp)(c):void 0,duration:d?(0,i.getDurationSec)(d):void 0,recurring:e.recurring,sprint:e.sprint?(0,o.getSprintId)(e.sprint):void 0,context:e.context||""}}function k(){let[e,n]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[x,k]=(0,t.useState)(new Set),[T,v]=(0,t.useState)(null),[b,j]=(0,t.useState)(u.defaultSettings),D=(0,t.useMemo)(()=>(0,y.createSettingsModel)(b),[b]),S=(0,t.useMemo)(()=>(0,f.createTodoModels)(e,D),[e,D]);(0,t.useEffect)(()=>{(0,g.waitForStorageInit)().then(()=>{let e=(0,c.checkAndUpdateVersion)();return Promise.all([(0,g.loadFromStorage)(g.STORAGE_KEYS.SETTINGS,u.defaultSettings),(0,g.loadFromStorage)(g.STORAGE_KEYS.TODOS,[])]).then(([t,r])=>{let i=(0,c.migrateSettings)(t);j(i);let a=(0,c.migrateTodos)(r,i).filter(e=>"deleted"!==e.state);n(a),(e||a.length!==r.length)&&(0,g.saveToStorage)(g.STORAGE_KEYS.TODOS,a).catch(e=>{console.error("Failed to save todos:",e)}),s(!0)})})},[]),(0,t.useEffect)(()=>{a&&(0,g.saveToStorage)(g.STORAGE_KEYS.TODOS,e).catch(e=>{console.error("Failed to save todos:",e)})},[e,a]);let A=(0,t.useCallback)(e=>{"delete"===e.type&&n(t=>t.filter(t=>t.id!==e.todo.id)),k(t=>new Set(t).add(e.id)),setTimeout(()=>{l(t=>t.filter(t=>t.id!==e.id)),k(t=>{let r=new Set(t);return r.delete(e.id),r})},3e3)},[]),C=(0,t.useCallback)(e=>{let t=o.find(t=>t.id===e);if(t){if(clearTimeout(t.timeoutId),"delete"===t.type){if(t.previousState){let e={...t.previousState,activity:[...t.previousState.activity,(0,h.createActivity)("undeleted","Task undeleted")]};n(t=>[e,...t])}}else t.previousState&&n(e=>e.map(e=>{if(e.id===t.todo.id){let e,r;if("complete"===t.type)e="uncompleted",r="Completion undone";else if("uncomplete"===t.type)e="completed",r="Uncompletion undone";else{if("archive"!==t.type)return t.previousState;e="unarchived",r="Archive undone"}return{...t.previousState,activity:[...t.previousState.activity,(0,h.createActivity)(e,r)]}}return e}));l(t=>t.filter(t=>t.id!==e))}},[o]),M=(0,t.useCallback)(e=>{let t=o.find(t=>t.id===e);t&&(clearTimeout(t.timeoutId),A(t))},[o,A]);return{todos:S,addTodo:(e,t,r)=>{let a=(0,i.getTimestamp)(Date.now()),s=w(r,b),o={id:f.TodoModel.createId(),text:e,plainText:t,state:"active",createdAt:a,updatedAt:a,context:s.context,tags:s.tags,dependencies:s.dependencies,assignedPeople:s.assignedPeople,sourcePeople:s.sourcePeople,mentionedPeople:s.mentionedPeople,projects:s.projects,priority:s.priority,dueDate:s.dueDate,duration:s.duration,recurring:s.recurring,sprint:s.sprint,comments:[],activity:[(0,h.createActivity)("created","Task created")],subtasks:[]};n(e=>[o,...e])},duplicateTodo:t=>{let r=e.find(e=>e.id===t);if(!r)return;let a=(0,i.getTimestamp)(Date.now()),s={id:f.TodoModel.createId(),text:r.text,plainText:r.plainText,state:"active",createdAt:a,updatedAt:a,context:r.context||"",tags:r.tags||[],dependencies:[],assignedPeople:r.assignedPeople||[],sourcePeople:r.sourcePeople||[],mentionedPeople:r.mentionedPeople||[],projects:r.projects||[],priority:r.priority,dueDate:r.dueDate,duration:r.duration,recurring:r.recurring,comments:[],activity:[(0,h.createActivity)("created","Task duplicated from another task")],subtasks:[]};return n(e=>[s,...e]),s.id},toggleTodo:t=>{let r=e.find(e=>e.id===t);if(!r)return;let a="completed"===r.state?"active":"completed";if("completed"===a){let e=new f.TodoModel(r,D).canComplete(S);if(!e.canComplete){v(e.reason||"Cannot complete task"),setTimeout(()=>v(null),5e3);return}}let s=JSON.parse(JSON.stringify(r)),o=(0,i.getTimestamp)(Date.now()),d="completed"===a?(0,h.createActivity)("completed","Task completed"):(0,h.createActivity)("uncompleted","Task marked as active"),c=r.duration;"completed"===a&&b.focus?.autoExtendOnOvertime!==!1&&r.timeTracking?.totalMinutes&&r.timeTracking.totalMinutes>0&&(c=60*Math.ceil(r.timeTracking.totalMinutes));let u={...r,state:a,completedAt:"completed"===a?o:void 0,archivedAt:void 0,deletedAt:void 0,updatedAt:o,activity:[...r.activity,d],duration:c};if(n(e=>e.map(e=>e.id===t?u:e)),"completed"===a&&r.recurring){let e=(0,m.parseRecurringPattern)(r.recurring);if(e){let t=r.dueDate?new Date(r.dueDate):new Date,a=(0,m.calculateNextOccurrence)(e,t),s=(0,i.getTimestamp)(a.getTime()),l={...r,id:f.TodoModel.createId(),state:"active",createdAt:o,updatedAt:o,completedAt:void 0,archivedAt:void 0,deletedAt:void 0,context:r.context||"",tags:r.tags||[],dependencies:[],assignedPeople:r.assignedPeople||[],sourcePeople:r.sourcePeople||[],mentionedPeople:r.mentionedPeople||[],projects:r.projects||[],priority:r.priority,dueDate:s,duration:r.duration,recurring:r.recurring,comments:[],activity:[(0,h.createActivity)("created",`Task created from recurring pattern: ${r.recurring}`)],subtasks:[]};l.text=r.text,n(e=>[l,...e])}}let p=`${o}-toggle-${t}`,g=setTimeout(()=>{l(e=>e.filter(e=>e.id!==p))},1e4),y={id:p,type:"completed"===a?"complete":"uncomplete",todo:u,previousState:s,timestamp:o,timeoutId:g};l(e=>[...e,y])},deleteTodo:t=>{let r=e.find(e=>e.id===t);if(!r)return;let a=JSON.parse(JSON.stringify(r)),s=(0,i.getTimestamp)(Date.now()),o={...r,state:"deleted",deletedAt:s,updatedAt:s,activity:[...r.activity,(0,h.createActivity)("deleted","Task deleted")]};n(e=>e.map(e=>e.id===t?o:e));let d=`${s}-delete-${t}`,c=setTimeout(()=>{l(e=>{let t=e.find(e=>e.id===d);return t&&A(t),e})},1e4),u={id:d,type:"delete",todo:o,previousState:a,timestamp:s,timeoutId:c};l(e=>[...e,u])},archiveTodo:t=>{let r=e.find(e=>e.id===t);if(!r)return;let a=new f.TodoModel(r,D).canArchive(S);if(!a.canArchive){v(a.reason||"Cannot archive task"),setTimeout(()=>v(null),5e3);return}let s=JSON.parse(JSON.stringify(r)),o=(0,i.getTimestamp)(Date.now()),d={...r,state:"archived",archivedAt:o,updatedAt:o,deletedAt:void 0,activity:[...r.activity,(0,h.createActivity)("archived","Task archived")]};n(e=>e.map(e=>e.id===t?d:e));let c=`${o}-archive-${t}`,u=setTimeout(()=>{l(e=>e.filter(e=>e.id!==c))},1e4),m={id:c,type:"archive",todo:d,previousState:s,timestamp:o,timeoutId:u};l(e=>[...e,m])},unarchiveTodo:e=>{n(t=>t.map(t=>{if(t.id===e){let e=t.completedAt?"completed":"active";return{...t,state:e,archivedAt:void 0,deletedAt:void 0,updatedAt:(0,i.getTimestamp)(Date.now()),activity:[...t.activity,(0,h.createActivity)("unarchived","Task unarchived")]}}return t}))},editTodo:(e,t,r,a)=>{n(n=>n.map(n=>{if(n.id===e){let e=[];n.plainText!==r&&e.push((0,h.createActivity)("edited","Task text edited"));let s={assignedPeople:(n.assignedPeople||[]).map(e=>e),sourcePeople:(n.sourcePeople||[]).map(e=>e),mentionedPeople:(n.mentionedPeople||[]).map(e=>e),projects:(n.projects||[]).map(e=>e),tags:(n.tags||[]).map(e=>e),dependencies:(n.dependencies||[]).map(e=>e),priority:n.priority,dueDate:n.dueDate?new Date(n.dueDate).toISOString():void 0,duration:n.duration?function(e){let t=Math.round(e/60);if(t<60)return`${t}m`;let r=Math.floor(t/60),i=t%60;return 0===i?`${r}h`:`${r}h${i}m`}(n.duration):void 0,recurring:n.recurring,sprint:n.sprint,context:n.context||""};e.push(...(0,h.generateMetadataActivities)(s,a));let o=w(a,b);return{...n,text:t,plainText:r,context:o.context,tags:o.tags,dependencies:o.dependencies,assignedPeople:o.assignedPeople,sourcePeople:o.sourcePeople,mentionedPeople:o.mentionedPeople,projects:o.projects,priority:o.priority,dueDate:o.dueDate,duration:o.duration,recurring:o.recurring,sprint:o.sprint,updatedAt:(0,i.getTimestamp)(Date.now()),activity:[...n.activity,...e]}}return n}))},addTodoComment:(e,t)=>{let r=(0,i.getTimestamp)(Date.now());n(i=>i.map(i=>{if(i.id===e){let e={commentId:(0,d.getCommentId)((0,p.createCommentId)()),history:[{timestamp:r,content:t}]};return{...i,comments:[...i.comments,e]}}return i}))},editTodoComment:(e,t,r)=>{n(n=>n.map(n=>n.id===e?{...n,comments:n.comments.map(e=>e.commentId===t?{...e,history:[...e.history,{timestamp:(0,i.getTimestamp)(Date.now()),content:r}]}:e)}:n))},deleteTodoComment:(e,t)=>{n(r=>r.map(r=>r.id===e?{...r,comments:r.comments.filter(e=>e.commentId!==t)}:r))},reorderTodos:e=>{n(t=>{let r=new Map(e.map((e,t)=>[e,t]));return t.map(e=>{let t=r.get(e.id);return void 0!==t&&t!==e.sortOrder?{...e,sortOrder:t,updatedAt:(0,i.getTimestamp)(Date.now())}:e})})},addSubtask:(e,t)=>{let a=(0,i.getTimestamp)(Date.now());n(i=>i.map(i=>{if(i.id===e){let e={id:(0,r.getSubtaskId)((0,p.createSubtaskId)()),text:t,completed:!1,createdAt:a};return{...i,subtasks:[...i.subtasks||[],e],updatedAt:a}}return i}))},toggleSubtask:(e,t)=>{let r=(0,i.getTimestamp)(Date.now());n(i=>i.map(i=>i.id===e?{...i,subtasks:(i.subtasks||[]).map(e=>e.id===t?{...e,completed:!e.completed,completedAt:e.completed?void 0:r}:e),updatedAt:r}:i))},editSubtask:(e,t,r)=>{let a=(0,i.getTimestamp)(Date.now());n(i=>i.map(i=>i.id===e?{...i,subtasks:(i.subtasks||[]).map(e=>e.id===t?{...e,text:r}:e),updatedAt:a}:i))},deleteSubtask:(e,t)=>{let r=(0,i.getTimestamp)(Date.now());n(i=>i.map(i=>i.id===e?{...i,subtasks:(i.subtasks||[]).filter(e=>e.id!==t),updatedAt:r}:i))},startTimeTracking:(e,t)=>{let a=(0,i.getTimestamp)(Date.now());n(n=>n.map(n=>{if(n.id===e){let e={id:(0,r.getTimeEntryId)(`time-${a}`),startTime:a,note:t},s=n.timeTracking||{entries:[],totalMinutes:(0,i.getDurationMin)(0)};return{...n,timeTracking:{...s,entries:[...s.entries,e]},updatedAt:a}}return n}))},stopTimeTracking:e=>{let t=(0,i.getTimestamp)(Date.now());n(r=>r.map(r=>{if(r.id===e&&r.timeTracking){let e=r.timeTracking.entries.map(e=>{if(!e.endTime){let r=(0,i.getDurationMin)(Math.round((t-e.startTime)/6e4));return{...e,endTime:t,duration:r}}return e}),n=(0,i.getDurationMin)(e.reduce((e,t)=>e+(t.duration||0),0));return{...r,timeTracking:{entries:e,totalMinutes:n},updatedAt:t}}return r}))},addManualTimeEntry:(e,t,a)=>{let s=(0,i.getTimestamp)(Date.now());n(n=>n.map(n=>{if(n.id===e){let e={id:(0,r.getTimeEntryId)(`time-${s}`),startTime:(0,i.getTimestamp)(s-6e4*t),endTime:s,duration:(0,i.getDurationMin)(t),note:a},o=n.timeTracking||{entries:[],totalMinutes:(0,i.getDurationMin)(0)};return{...n,timeTracking:{entries:[...o.entries,e],totalMinutes:(0,i.getDurationMin)(o.totalMinutes+t)},updatedAt:s}}return n}))},deleteTimeEntry:(e,t)=>{let r=(0,i.getTimestamp)(Date.now());n(n=>n.map(n=>{if(n.id===e&&n.timeTracking){let e=n.timeTracking.entries.filter(e=>e.id!==t),a=(0,i.getDurationMin)(e.reduce((e,t)=>e+(t.duration||0),0));return{...n,timeTracking:{entries:e,totalMinutes:a},updatedAt:r}}return n}))},importTodos:e=>{let t=e.map(e=>({...e,id:f.TodoModel.createId()}));n(e=>[...e,...t])},setWorkflowState:(t,r,a,s)=>{let o=e.find(e=>e.id===t);if(!o)return!1;let l=o.workflowState||"backlog";if(s&&s.length>0&&!s.some(e=>e.fromStateId===l&&e.toStateId===r))return!1;let d=(0,i.getTimestamp)(Date.now()),c=a.find(e=>e.id===r),u=c?.mapsToTodoState,m=a.find(e=>e.id===l)?.name||l,p=c?.name||r;return n(e=>e.map(e=>{if(e.id===t){let t=(0,h.createActivity)("workflow_state_changed",`Moved from "${m}" to "${p}"`,{from:l,to:r}),i={workflowState:r,updatedAt:d,activity:[...e.activity||[],t]};return u&&(i.state=u,"completed"===u&&"completed"!==e.state?i.completedAt=d:"archived"===u&&"archived"!==e.state?i.archivedAt=d:"active"===u&&("completed"===e.state&&(i.completedAt=void 0),"archived"===e.state&&(i.archivedAt=void 0))),{...e,...i}}return e})),!0},isLoaded:a,undoActions:o,fadingOutIds:x,dependencyBlockNotification:T,undo:C,dismissUndo:M,settings:b}}e.s(["useTodos",()=>k])},13204,e=>{"use strict";var t=e.i(71645),r=e.i(65095),i=e.i(17047),n=e.i(98901),a=e.i(18578);function s(){let[e,s]=(0,t.useState)(r.defaultSettings),[o,l]=(0,t.useState)(!1),d=(0,t.useRef)(null);return(0,t.useEffect)(()=>{(async()=>{await (0,n.waitForStorageInit)();let e=await (0,n.loadFromStorage)(n.STORAGE_KEYS.SETTINGS,r.defaultSettings),t=(0,i.migrateSettings)(e);d.current=t,s(t),l(!0)})()},[]),(0,t.useEffect)(()=>{o&&d.current!==e&&(0,n.saveToStorage)(n.STORAGE_KEYS.SETTINGS,e).then(()=>{d.current=e;try{localStorage.setItem(n.STORAGE_KEYS.SETTINGS,JSON.stringify(e))}catch(e){}}).catch(e=>{console.error("Failed to save settings:",e)})},[e,o]),{settings:e,isLoaded:o,addPriority:e=>{let t={...e,id:a.SettingsModel.createPriorityId()};s(e=>({...e,priorities:[...e.priorities,t]}))},updatePriority:(e,t)=>{s(r=>({...r,priorities:r.priorities.map(r=>r.id===e?{...r,...t}:r)}))},deletePriority:e=>{s(t=>({...t,priorities:t.priorities.filter(t=>t.id!==e)}))},addLinkPattern:e=>{let t={...e,id:a.SettingsModel.createLinkPatternId()};s(e=>({...e,linkPatterns:[...e.linkPatterns,t]}))},updateLinkPattern:(e,t)=>{s(r=>({...r,linkPatterns:r.linkPatterns.map(r=>r.id===e?{...r,...t}:r)}))},deleteLinkPattern:e=>{s(t=>({...t,linkPatterns:t.linkPatterns.filter(t=>t.id!==e)}))},updateMarkerColors:e=>{s(t=>({...t,markerColors:{...t.markerColors,...e}}))},updateGeneralSettings:e=>{s(t=>({...t,general:{...t.general,...e}}))},updateDateTimeSettings:e=>{s(t=>({...t,dateTime:{...t.dateTime,...e}}))},updateWorkHoursSettings:e=>{s(t=>({...t,workHours:{...t.workHours,...e}}))},updateGantt:e=>{s(t=>({...t,gantt:{...t.gantt,...e}}))},updateCalendar:e=>{s(t=>({...t,calendar:{...t.calendar,...e}}))},updateNotificationSettings:e=>{s(t=>({...t,notifications:{...t.notifications,...e}}))},updateAutoAssignSettings:e=>{s(t=>({...t,autoAssign:{...t.autoAssign,...e}}))},updateKanbanSettings:e=>{s(t=>({...t,kanban:{...t.kanban,...e}}))},addKanbanState:e=>{let t={...e,id:a.SettingsModel.createKanbanStateId()};return s(e=>({...e,kanban:{...e.kanban,states:[...e.kanban.states,t]}})),t.id},updateKanbanState:(e,t)=>{s(r=>({...r,kanban:{...r.kanban,states:r.kanban.states.map(r=>r.id===e?{...r,...t}:r)}}))},deleteKanbanState:e=>{s(t=>{let r=t.kanban.states.find(t=>t.id===e);return r?.isSystem?t:{...t,kanban:{...t.kanban,states:t.kanban.states.filter(t=>t.id!==e),allowedTransitions:t.kanban.allowedTransitions.filter(t=>t.fromStateId!==e&&t.toStateId!==e),views:t.kanban.views.map(t=>({...t,stateIds:t.stateIds.filter(t=>t!==e)}))}}})},reorderKanbanStates:e=>{s(t=>({...t,kanban:{...t.kanban,states:t.kanban.states.map(t=>({...t,order:e.indexOf(t.id)})).sort((e,t)=>e.order-t.order)}}))},addKanbanTransition:e=>{s(t=>t.kanban.allowedTransitions.some(t=>t.fromStateId===e.fromStateId&&t.toStateId===e.toStateId)?t:{...t,kanban:{...t.kanban,allowedTransitions:[...t.kanban.allowedTransitions,e]}})},removeKanbanTransition:(e,t)=>{s(r=>({...r,kanban:{...r.kanban,allowedTransitions:r.kanban.allowedTransitions.filter(r=>r.fromStateId!==e||r.toStateId!==t)}}))},addKanbanView:e=>{let t={...e,id:a.SettingsModel.createKanbanViewId()};return s(e=>({...e,kanban:{...e.kanban,views:[...e.kanban.views,t]}})),t.id},updateKanbanView:(e,t)=>{s(r=>({...r,kanban:{...r.kanban,views:r.kanban.views.map(r=>r.id===e?{...r,...t}:r)}}))},deleteKanbanView:e=>{s(t=>{if(t.kanban.views.length<=1)return t;let r=t.kanban.views.filter(t=>t.id!==e),i=t.kanban.activeViewId===e?r[0]?.id:t.kanban.activeViewId;return{...t,kanban:{...t.kanban,views:r,activeViewId:i}}})},setActiveKanbanView:e=>{s(t=>({...t,kanban:{...t.kanban,activeViewId:e}}))},addCategory:e=>{let t={...e,id:a.SettingsModel.createProjectCategoryId()};return s(e=>({...e,categories:[...e.categories,t]})),t.id},updateCategory:(e,t)=>{s(r=>({...r,categories:r.categories.map(r=>r.id===e?{...r,...t}:r)}))},deleteCategory:e=>{s(t=>({...t,categories:t.categories.filter(t=>t.id!==e)}))},updateSprintSettings:e=>{s(t=>({...t,sprints:e}))},updateFocusSettings:e=>{s(t=>({...t,focus:e}))},updateFeatureSettings:e=>{s(t=>({...t,features:{...t.features,...e}}))},updateBackupSettings:e=>{s(t=>({...t,backup:{...t.backup,...e}}))}}}e.s(["useSettings",()=>s])},7066,86535,e=>{"use strict";var t=e.i(71645),r=e.i(98901),i=e.i(52497),n=e.i(60825);class a{_raw;constructor(e){this._raw=e}get raw_DONOTUSE(){return this._raw}get id(){return this._raw.id}get name(){return this._raw.name}get alternatives(){return[...this._raw.alternatives]}get color(){return this._raw.color}get context(){return this._raw.context}get comments(){return this._raw.comments.map(e=>structuredClone(e))}get activity(){return this._raw.activity.map(e=>structuredClone(e))}get archived(){return this._raw.archived??!1}get isActive(){return!this.archived}get isArchived(){return this.archived}canArchive(){return this.archived?{canArchive:!1,reason:`${this.entityTypeName} is already archived`}:{canArchive:!0}}canUnarchive(){return this.archived?{canUnarchive:!0}:{canUnarchive:!1,reason:`${this.entityTypeName} is not archived`}}get hasComments(){return this._raw.comments.length>0}get commentCount(){return this._raw.comments.length}get latestComment(){return 0===this._raw.comments.length?null:structuredClone(this._raw.comments[this._raw.comments.length-1])}get hasActivity(){return this._raw.activity.length>0}get activityCount(){return this._raw.activity.length}get latestActivity(){return 0===this._raw.activity.length?null:structuredClone(this._raw.activity[this._raw.activity.length-1])}get displayName(){return 0===this.alternatives.length?this.name:`${this.name} (${this.alternatives.join(", ")})`}getMetadataSummary(e){let t=[];return void 0!==e&&e>0&&t.push(`${e} ${1===e?"todo":"todos"}`),this.commentCount>0&&t.push(`${this.commentCount} ${1===this.commentCount?"comment":"comments"}`),this.activityCount>0&&t.push(`${this.activityCount} ${1===this.activityCount?"activity":"activities"}`),t.push(this.archived?"Archived":"Active"),t.join(" â€¢ ")}get statusBadge(){return this.archived?"Archived":"Active"}get statusColor(){return this.archived?"gray":"blue"}get initials(){let e=this.name.trim().split(/\s+/);return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():this.name.substring(0,2).toUpperCase()}matchesSearch(e){if(""===e.trim())return!0;let t=e.toLowerCase();return!!(this.name.toLowerCase().includes(t)||this.alternatives.some(e=>e.toLowerCase().includes(t))||this.context&&this.context.toLowerCase().includes(t)||this.comments.some(e=>e.history.some(e=>e.content.toLowerCase().includes(t))))}matchesAnyName(e){let t=e.map(e=>e.toLowerCase());return[this.name,...this.alternatives].map(e=>e.toLowerCase()).some(e=>t.includes(e))}get allNames(){return[this.name,...this._raw.alternatives]}}class s extends a{constructor(e){super(e)}static createId(){return(0,i.getPersonId)((0,n.generatePrefixedUUID)("person"))}get entityTypeName(){return"Person"}canDelete(e){return e&&e.some(e=>e.assignedPeople?.includes(this.id))?{canDelete:!1,reason:"Person is assigned to active todos"}:{canDelete:!0}}}function o(e){return e.map(e=>new s(e))}var l=e.i(73986),d=e.i(55584);function c(e,i){let[a,s]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(0,r.waitForStorageInit)().then(()=>(0,r.loadFromStorage)(e.storageKey,[]).then(e=>{s(e.map(e=>({...e,alternatives:e.alternatives||[],comments:e.comments||[],activity:e.activity||[]}))),c(!0)}))},[e.storageKey]),(0,t.useEffect)(()=>{o&&(0,r.saveToStorage)(e.storageKey,a).catch(t=>{console.error(`Failed to save ${e.entityName.toLowerCase()}s:`,t)})},[a,o,e.storageKey,e.entityName]);let u=(0,t.useCallback)((t,r)=>{let i=Date.now(),a={...t,id:r,comments:[],activity:[{id:(0,l.getActivityId)((0,n.createActivityId)()),timestamp:(0,d.getTimestamp)(i),type:"created",description:`${e.entityName} created`}]};s(e=>[...e,a])},[e.entityName]),m=(0,t.useCallback)((e,t)=>{s(r=>r.map(r=>{if(r.id===e){let e={...r,...t};if(void 0!==t.name||void 0!==t.alternatives||void 0!==t.color||void 0!==t.context){let i=Date.now(),a=[];if(void 0!==t.name&&t.name!==r.name&&a.push(`name from "${r.name}" to "${t.name}"`),void 0!==t.alternatives&&JSON.stringify(t.alternatives)!==JSON.stringify(r.alternatives)){let e=r.alternatives.length>0?r.alternatives.join(", "):"none",i=t.alternatives.length>0?t.alternatives.join(", "):"none";a.push(`alternatives from ${e} to ${i}`)}void 0!==t.color&&t.color!==r.color&&a.push(`color from ${r.color} to ${t.color}`),t.context!==r.context&&(t.context&&!r.context?a.push("context added"):!t.context&&r.context?a.push("context removed"):t.context&&r.context&&a.push("context updated")),a.length>0&&(e.activity=[...r.activity||[],{id:(0,l.getActivityId)((0,n.createActivityId)()),timestamp:(0,d.getTimestamp)(i),type:"edited",description:`Updated ${a.join("; ")}`}])}return e}return r}))},[]),h=(0,t.useCallback)(t=>{s(r=>r.map(r=>{if(r.id===t){let t=Date.now();return{...r,archived:!0,activity:[...r.activity||[],{id:(0,l.getActivityId)((0,n.createActivityId)()),timestamp:(0,d.getTimestamp)(t),type:"archived",description:`${e.entityName} archived`}]}}return r}))},[e.entityName]),p=(0,t.useCallback)(t=>{s(r=>r.map(r=>{if(r.id===t){let t=Date.now();return{...r,archived:!1,activity:[...r.activity||[],{id:(0,l.getActivityId)((0,n.createActivityId)()),timestamp:(0,d.getTimestamp)(t),type:"unarchived",description:`${e.entityName} unarchived`}]}}return r}))},[e.entityName]),g=(0,t.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]),f=(0,t.useCallback)((e,t)=>{let r=Date.now();s(i=>i.map(i=>{if(i.id===e){let e={commentId:(0,l.getCommentId)((0,n.createCommentId)()),history:[{timestamp:(0,d.getTimestamp)(r),content:t}]};return{...i,comments:[...i.comments,e]}}return i}))},[]);return{rawEntities:a,isLoaded:o,addEntity:u,updateEntity:m,deleteEntity:g,archiveEntity:h,unarchiveEntity:p,addComment:f,editComment:(0,t.useCallback)((e,t,r)=>{let i=Date.now();s(n=>n.map(n=>n.id===e?{...n,comments:n.comments.map(e=>e.commentId===t?{...e,history:[...e.history,{timestamp:(0,d.getTimestamp)(i),content:r}]}:e)}:n))},[]),deleteComment:(0,t.useCallback)((e,t)=>{s(r=>r.map(r=>r.id===e?{...r,comments:r.comments.filter(e=>e.commentId!==t)}:r))},[]),createModels:i}}function u(){let e=c({storageKey:r.STORAGE_KEYS.PEOPLE,entityName:"Person",createModels:o},o),i=(0,t.useMemo)(()=>o(e.rawEntities),[e.rawEntities]),n=(0,t.useCallback)(t=>{e.addEntity(t,s.createId())},[e]);return{people:i,isLoaded:e.isLoaded,addPerson:n,updatePerson:e.updateEntity,deletePerson:e.deleteEntity,archivePerson:e.archiveEntity,unarchivePerson:e.unarchiveEntity,addPersonComment:e.addComment,editPersonComment:e.editComment,deletePersonComment:e.deleteComment}}e.s(["usePeople",()=>u],7066);var m=e.i(14082);class h extends a{constructor(e){super(e)}static createId(){return(0,m.getProjectId)((0,n.generatePrefixedUUID)("proj"))}get entityTypeName(){return"Project"}get category(){return this._raw.category}canDelete(e){return e&&e.some(e=>e.projects?.includes(this.id))?{canDelete:!1,reason:"Project is used in active todos"}:{canDelete:!0}}}function p(e){return e.map(e=>new h(e))}function g(){let e=c({storageKey:r.STORAGE_KEYS.PROJECTS,entityName:"Project",createModels:p},p),i=(0,t.useMemo)(()=>p(e.rawEntities),[e.rawEntities]),n=(0,t.useCallback)(t=>{e.addEntity(t,h.createId())},[e]);return{projects:i,isLoaded:e.isLoaded,addProject:n,updateProject:e.updateEntity,deleteProject:e.deleteEntity,archiveProject:e.archiveEntity,unarchiveProject:e.unarchiveEntity,addProjectComment:e.addComment,editProjectComment:e.editComment,deleteProjectComment:e.deleteComment}}e.s(["useProjects",()=>g],86535)},91161,e=>{"use strict";let t=new class{hasWindow(){return!0}createAudioContext(){if(!this.hasWindow())return null;try{return new(window.AudioContext||window.webkitAudioContext)}catch(e){return console.error("Failed to create AudioContext:",e),null}}createAudio(e){if(!this.hasWindow())return null;try{return new Audio(e)}catch(e){return console.error("Failed to create Audio:",e),null}}hasNotificationSupport(){return this.hasWindow()&&"Notification"in window}getNotificationPermission(){return this.hasNotificationSupport()?Notification.permission:"denied"}async requestNotificationPermission(){if(!this.hasNotificationSupport())return"denied";try{return await Notification.requestPermission()}catch(e){return console.error("Failed to request notification permission:",e),"denied"}}createNotification(e,t){if(!this.hasNotificationSupport()||"granted"!==Notification.permission)return null;try{return new Notification(e,{icon:"/favicon.ico",badge:"/favicon.ico",...t})}catch(e){return console.error("Failed to create notification:",e),null}}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}},r=null,i=null,n=null,a=0,s=[{id:"swedish-summer",name:"Swedish Summer Evening",file:"10-minutes-swedish-summer-evening-19559.mp3"},{id:"wind-bushes",name:"Wind in Bushes",file:"bushes-medium-heavy-wind-in-dry-vegetation-19537.mp3"},{id:"crickets",name:"Crickets at Night",file:"crickets_night_2-19628.mp3"},{id:"crickets-frogs",name:"Crickets and Frogs",file:"cricketsandfrogs-19596.mp3"},{id:"backyard-ny",name:"Backyard New York",file:"field-recording-backyard-new-york-19524.mp3"},{id:"rain-window",name:"Rain on Window",file:"gentle-rain-on-window-for-sleep-422420.mp3"},{id:"rain-metal-roof",name:"Rain on Metal Roof",file:"light-rain-on-metal-roof-114527.mp3"},{id:"rain-thunder-distant",name:"Rain & Distant Thunder",file:"rain-and-distant-thunder-60230.mp3"},{id:"rain-thunder",name:"Rain & Thunder",file:"rain-and-thunder-61426.mp3"},{id:"relaxing-rain-1",name:"Relaxing Rain",file:"relaxing-rain-387677.mp3"},{id:"relaxing-rain-2",name:"Relaxing Rain 2",file:"relaxing-rain-444802.mp3"},{id:"rooftop-city",name:"Rooftop City Morning",file:"rooftop-city-neighbourhood-morning-distant-traffic-residents-activity-19574.mp3"},{id:"sea",name:"Ocean Waves",file:"sea-sound-4-19385.mp3"},{id:"small-town",name:"Small Town Ambiance",file:"small-town-ambiance-60015.mp3"},{id:"spring-birds",name:"Springtime Birds",file:"sweden-springtime-birds-field-recording-190420-19629.mp3"},{id:"tranquil-flow",name:"Tranquil Flow",file:"tranquil-flow-387676.mp3"},{id:"tranquil-stream",name:"Tranquil Stream",file:"tranquil-stream-387678.mp3"},{id:"winter-morning",name:"Winter Morning",file:"winter-morning-60210.mp3"}];function o(e,r=.3){if(!t.hasWindow()||!e)return;if(a++,i&&n===e){i.volume=Math.max(0,Math.min(1,r)),i.paused&&i.play().catch(()=>{});return}i&&(i.pause(),i.src="",i=null,n=null);let s=t.createAudio(`/sounds/${e}`);s&&((i=s).loop=!0,i.volume=Math.max(0,Math.min(1,r)),n=e,i.play().catch(()=>{}))}function l(){let e=a;t.setTimeout(()=>{a===e&&i&&(i.pause(),i.src="",i=null,n=null)},50)}function d(e){let t=s.find(t=>t.id===e);return t?.file||""}let c=[],u=!1;function m(e){c.push(...e),function e(){u||0===c.length||(u=!0,g(c.shift()),c.length>0?t.setTimeout(()=>{u=!1,e()},3e3):u=!1)}()}function h(){c.length=0}function p(e){g(e)}function g(e){let i=t.hasWindow()?(r||(r=t.createAudioContext()),r):null;if(i){"suspended"===i.state&&i.resume();try{let t=i.createOscillator(),r=i.createGain();switch(t.connect(r),r.connect(i.destination),e){case"task-start":t.type="square",t.frequency.setValueAtTime(262,i.currentTime),t.frequency.setValueAtTime(330,i.currentTime+.08),t.frequency.setValueAtTime(392,i.currentTime+.16),t.frequency.setValueAtTime(523,i.currentTime+.24),r.gain.setValueAtTime(.15,i.currentTime),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.35),t.start(i.currentTime),t.stop(i.currentTime+.35);break;case"task-complete":t.type="sine",t.frequency.setValueAtTime(523,i.currentTime),t.frequency.setValueAtTime(659,i.currentTime+.12),t.frequency.setValueAtTime(784,i.currentTime+.24),r.gain.setValueAtTime(.15,i.currentTime),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.4),t.start(i.currentTime),t.stop(i.currentTime+.4);break;case"short-break":t.type="sine",t.frequency.setValueAtTime(659,i.currentTime),t.frequency.linearRampToValueAtTime(440,i.currentTime+.3),r.gain.setValueAtTime(.25,i.currentTime),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.4),t.start(i.currentTime),t.stop(i.currentTime+.4);break;case"long-break":t.type="sine",t.frequency.setValueAtTime(784,i.currentTime),t.frequency.setValueAtTime(659,i.currentTime+.15),t.frequency.setValueAtTime(523,i.currentTime+.3),t.frequency.linearRampToValueAtTime(392,i.currentTime+.5),r.gain.setValueAtTime(.25,i.currentTime),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.6),t.start(i.currentTime),t.stop(i.currentTime+.6);break;case"break-end":t.type="sine",t.frequency.setValueAtTime(880,i.currentTime),t.frequency.setValueAtTime(880,i.currentTime+.1),t.frequency.setValueAtTime(880,i.currentTime+.2),r.gain.setValueAtTime(.2,i.currentTime),r.gain.setValueAtTime(.02,i.currentTime+.08),r.gain.setValueAtTime(.2,i.currentTime+.1),r.gain.setValueAtTime(.02,i.currentTime+.18),r.gain.setValueAtTime(.2,i.currentTime+.2),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.3),t.start(i.currentTime),t.stop(i.currentTime+.3);break;case"pause":t.type="sine",t.frequency.setValueAtTime(523,i.currentTime),t.frequency.setValueAtTime(392,i.currentTime+.12),r.gain.setValueAtTime(.12,i.currentTime),r.gain.exponentialRampToValueAtTime(.01,i.currentTime+.25),t.start(i.currentTime),t.stop(i.currentTime+.25)}}catch(e){console.error("Failed to play notification sound:",e)}}}function f(){return t.hasNotificationSupport()}function y(){return t.getNotificationPermission()}async function x(){return await t.requestNotificationPermission()}function w(e,r){if(!t.hasNotificationSupport()||"granted"!==t.getNotificationPermission())return null;let i=t.createNotification(e,r);return i&&t.setTimeout(()=>i.close(),5e3),i}function k(e,t,r){let i=new Set(t),n=new Date;return e.forEach(e=>{var a;if(!e.isActive||!e.dueDateObject||t.has(e.id))return;let s=e.dueDateObject,o=s.getTime()-n.getTime(),l=o/36e5;if(r.notifyOverdue&&o<0){w(`Overdue: ${e.plainText}`,{body:`This task was due ${e.dueDateDisplay}`,tag:`overdue-${e.id}`,requireInteraction:!1}),i.add(e.id);return}if(r.notifyDueToday&&l>=0&&l<=24){let t=new Date(n);t.setHours(0,0,0,0);let r=new Date(n);if(r.setHours(23,59,59,999),s>=t&&s<=r){w(`Due Today: ${e.plainText}`,{body:e.priorityName?`Priority: ${e.priorityName}`:"Remember to complete this task",tag:`due-today-${e.id}`,requireInteraction:!1}),i.add(e.id);return}}r.notifyDueSoon&&l>0&&l<=r.dueSoonHours&&(a=Math.ceil(l),w(`Due in ${a} hour${1===a?"":"s"}: ${e.plainText}`,{body:e.priorityName?`Priority: ${e.priorityName}`:"Task deadline approaching",tag:`due-soon-${e.id}`,requireInteraction:!1}),i.add(e.id))}),i}e.s(["AMBIENT_SOUNDS",0,s,"checkAndNotifyDueTasks",()=>k,"clearSoundQueue",()=>h,"getAmbientSoundFile",()=>d,"getNotificationPermission",()=>y,"isNotificationSupported",()=>f,"playAmbientSound",()=>o,"playNotificationSound",()=>p,"queueSounds",()=>m,"requestNotificationPermission",()=>x,"sendNotification",()=>w,"stopAmbientSound",()=>l],91161)},56689,1346,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(74080);function n({content:e,title:n,size:a="sm",position:s="auto",maxWidth:o=320,asSpan:l=!1}){let[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)({x:0,y:0,placement:"bottom"}),h=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(d&&h.current){let e=h.current.getBoundingClientRect(),t=window.innerWidth,r=window.innerHeight,i=s,n=e.left+e.width/2,a=e.bottom+8;if("auto"===s){let n=r-e.bottom,a=e.top,s=t-e.right,l=e.left;i=n>=200?"bottom":a>=200?"top":s>=o+20?"right":l>=o+20?"left":"bottom"}switch(i){case"top":n=e.left+e.width/2,a=e.top-8;break;case"bottom":n=e.left+e.width/2,a=e.bottom+8;break;case"left":n=e.left-8,a=e.top+e.height/2;break;case"right":n=e.right+8,a=e.top+e.height/2}m({x:n=Math.max(10,Math.min(n,t-o-10)),y:a=Math.max(10,Math.min(a,r-100)),placement:i})}},[d,s,o]);let g={ref:h,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onFocus:()=>c(!0),onBlur:()=>c(!1),className:`${{sm:"w-4 h-4 text-xs",md:"w-5 h-5 text-sm",lg:"w-6 h-6 text-base"}[a]} inline-flex items-center justify-center rounded-full bg-zinc-200 dark:bg-zinc-700 text-zinc-500 dark:text-zinc-400 hover:bg-zinc-300 dark:hover:bg-zinc-600 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors cursor-help flex-shrink-0`,"aria-label":"More information"};return(0,t.jsxs)(t.Fragment,{children:[l?(0,t.jsx)("span",{...g,ref:h,role:"button",tabIndex:0,children:"i"}):(0,t.jsx)("button",{...g,ref:h,type:"button",children:"i"}),d&&"undefined"!=typeof document&&(0,i.createPortal)((0,t.jsx)("div",{ref:p,className:"fixed z-[9999] animate-in fade-in-0 zoom-in-95 duration-150",style:{left:u.x,top:u.y,maxWidth:o,transform:"top"===u.placement?"translate(-50%, -100%)":"left"===u.placement?"translate(-100%, -50%)":"right"===u.placement?"translate(0, -50%)":"translate(-50%, 0)"},children:(0,t.jsxs)("div",{className:"bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 rounded-lg shadow-xl border border-zinc-700 dark:border-zinc-300 p-3",children:[n&&(0,t.jsx)("div",{className:"font-semibold text-sm mb-2 pb-2 border-b border-zinc-700 dark:border-zinc-300",children:n}),(0,t.jsx)("div",{className:"text-xs leading-relaxed",children:e})]})}),document.body)]})}let a={smartInput:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Use markers to quickly add metadata:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"@name"})," - Assign to person"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"$name"})," - Source person"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"%project"})," - Link to project"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"!!priority"})," - Set priority"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"#tag"})," - Add tag"]})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Dates, recurring patterns, and mentions are auto-detected!"})]}),dueDate:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Set when the task should be completed."}),(0,t.jsx)("p",{className:"font-medium",children:"Auto-detected formats:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ Natural: "tomorrow", "next Friday", "Dec 25"'}),(0,t.jsx)("li",{children:'â€¢ Shortcuts: "eod", "eow", "bow", "bom"'}),(0,t.jsx)("li",{children:'â€¢ Relative: "in 3 days", "next week"'})]})]}),duration:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Estimated time to complete the task."}),(0,t.jsx)("p",{className:"font-medium",children:"Formats:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Minutes: 30m, 45m"}),(0,t.jsx)("li",{children:"â€¢ Hours: 1h, 2h, 1.5h"}),(0,t.jsx)("li",{children:"â€¢ Combined: 1h30m, 2h15m"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Used for Gantt chart scheduling."})]}),recurring:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Create repeating tasks automatically."}),(0,t.jsx)("p",{className:"font-medium",children:"Examples:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ "every day", "every 2 days"'}),(0,t.jsx)("li",{children:'â€¢ "every monday", "every weekday"'}),(0,t.jsx)("li",{children:'â€¢ "every week", "every 2 weeks"'}),(0,t.jsx)("li",{children:'â€¢ "every first monday"'}),(0,t.jsx)("li",{children:'â€¢ "every month", "every last friday"'})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"A new task is created when completed."})]}),dependencies:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Block this task until dependencies are completed."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Tasks with incomplete dependencies show a warning"}),(0,t.jsx)("li",{children:"â€¢ You'll be warned when trying to complete blocked tasks"}),(0,t.jsx)("li",{children:"â€¢ Circular dependencies are prevented"})]})]}),assignedPeople:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Who is responsible for this task."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"@name"})," in task text"]}),(0,t.jsx)("li",{children:"â€¢ Or select from the dropdown"}),(0,t.jsx)("li",{children:"â€¢ Multiple people can be assigned"})]})]}),sourcePeople:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Who requested or is the source of this task."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"$name"})," in task text"]}),(0,t.jsx)("li",{children:'â€¢ Auto-detected: "from John", "via Sarah"'}),(0,t.jsx)("li",{children:"â€¢ Helps track task origins"})]})]}),projects:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Link tasks to projects for organization."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"%project"})," in task text"]}),(0,t.jsx)("li",{children:'â€¢ Auto-detected: "on Project", "for Project"'}),(0,t.jsx)("li",{children:"â€¢ Group and filter tasks by project"})]})]}),priority:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Set task importance level."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"!!priority"})," in task text"]}),(0,t.jsx)("li",{children:'â€¢ Auto-detected: "urgent", "high", "low"'}),(0,t.jsx)("li",{children:"â€¢ Customize priorities in Settings"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Priority colors show on task checkboxes."})]}),tags:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Add flexible labels to categorize tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"#tag"})," in task text"]}),(0,t.jsx)("li",{children:"â€¢ Filter by tags in list view"}),(0,t.jsx)("li",{children:"â€¢ Tags are created automatically"})]})]}),mentionedPeople:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"People referenced in the task but not assigned."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Auto-detected from task text"}),(0,t.jsx)("li",{children:"â€¢ Useful for tracking who's involved"}),(0,t.jsx)("li",{children:"â€¢ Different from @assigned people"})]})]}),archiveDays:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Completed tasks move to Archive after this many days."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Set to 0 to archive immediately"}),(0,t.jsx)("li",{children:"â€¢ Archived tasks stay visible but collapsed"}),(0,t.jsx)("li",{children:"â€¢ Reduces clutter in your active list"})]})]}),autoDelete:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Permanently remove old tasks automatically."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Counts from completion date"}),(0,t.jsx)("li",{children:"â€¢ Affects both completed and archived tasks"}),(0,t.jsx)("li",{children:"â€¢ Cannot be undone - be careful!"})]})]}),kanbanStates:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Workflow columns for the Kanban board."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Drag tasks between states"}),(0,t.jsx)("li",{children:'â€¢ "Backlog", "Completed", and "Archived" are system states'}),(0,t.jsx)("li",{children:"â€¢ Set WIP (Work-In-Progress) limits on non-system states"}),(0,t.jsx)("li",{children:"â€¢ Columns turn red when over WIP limit"}),(0,t.jsx)("li",{children:"â€¢ Configure allowed transitions"})]})]}),kanbanTransitions:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Define allowed state-to-state transitions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Control which states can move to others"}),(0,t.jsx)("li",{children:"â€¢ Prevents invalid workflow jumps"}),(0,t.jsx)("li",{children:"â€¢ Check = transition allowed"})]})]}),kanbanViews:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Create filtered views of your Kanban board."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Show only selected states"}),(0,t.jsx)("li",{children:'â€¢ Create views like "Active Work" or "Done"'}),(0,t.jsx)("li",{children:"â€¢ Set a default view"})]})]}),sprints:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Time-boxed periods for agile planning."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create sprints with goals and dates"}),(0,t.jsx)("li",{children:"â€¢ Assign tasks to sprints"}),(0,t.jsx)("li",{children:"â€¢ Filter Kanban by sprint"}),(0,t.jsx)("li",{children:"â€¢ Track sprint progress"})]})]}),templates:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Save task configurations for reuse."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create from existing tasks"}),(0,t.jsx)("li",{children:"â€¢ Include metadata (people, projects, tags)"}),(0,t.jsx)("li",{children:"â€¢ Quickly create similar tasks"})]})]}),prioritization:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"How tasks are ordered for scheduling."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Priority"}),": High-priority tasks scheduled first"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Due Date"}),": Earliest deadlines scheduled first"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Duration"}),": Shortest tasks scheduled first"]})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Affects order on timeline, not task completion."})]}),sequential:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Simple task-to-task scheduling."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Fixed buffer between tasks"}),(0,t.jsx)("li",{children:"â€¢ No structured breaks"}),(0,t.jsx)("li",{children:"â€¢ Predictable, even spacing"}),(0,t.jsx)("li",{children:"â€¢ Good for varied task lengths"})]})]}),pomodoro:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Time management technique with breaks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Short breaks between tasks"}),(0,t.jsx)("li",{children:"â€¢ Long breaks after N tasks"}),(0,t.jsx)("li",{children:"â€¢ Presets: Standard (25/5/15/4)"}),(0,t.jsx)("li",{children:"â€¢ Use Focus Mode for timer & sounds"})]})]}),flow:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Work/break/context cycles for deep focus."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Extended work sessions"}),(0,t.jsx)("li",{children:"â€¢ Fixed break after each session"}),(0,t.jsx)("li",{children:"â€¢ Context switch time between tasks"}),(0,t.jsx)("li",{children:"â€¢ Presets: 52/17, Ultradian (90/20)"})]})]}),workHours:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Define when you're available to work."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Sets Beginning/End of Day times"}),(0,t.jsx)("li",{children:'â€¢ Used for "eod", "bod" shortcuts'}),(0,t.jsx)("li",{children:"â€¢ Affects Gantt chart scheduling"}),(0,t.jsx)("li",{children:"â€¢ Configure per-day or weekday/weekend"})]})]}),timeBlocks:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Block out time for non-task activities."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Meetings, lunch, focus time, etc."}),(0,t.jsx)("li",{children:"â€¢ Shown on Gantt timeline"}),(0,t.jsx)("li",{children:"â€¢ Tasks scheduled around blocks"}),(0,t.jsx)("li",{children:"â€¢ Custom colors and icons"})]})]}),backup:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Save and restore your data."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Export all data as JSON"}),(0,t.jsx)("li",{children:"â€¢ Restore from backup file"}),(0,t.jsx)("li",{children:"â€¢ Includes tasks, people, projects, settings"})]})]}),selectionMode:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Select multiple tasks for batch operations."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Click checkboxes to select"}),(0,t.jsx)("li",{children:"â€¢ Shift+click for range selection"}),(0,t.jsx)("li",{children:"â€¢ Batch complete, archive, delete, or edit"})]})]}),filters:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Narrow down visible tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Filter by person, project, priority"}),(0,t.jsx)("li",{children:"â€¢ Due date ranges"}),(0,t.jsx)("li",{children:"â€¢ Tags, recurring, dependencies"}),(0,t.jsx)("li",{children:"â€¢ Combine multiple filters"})]})]}),grouping:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Organize tasks into sections."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Group by person, project, priority"}),(0,t.jsx)("li",{children:"â€¢ Due date, sprint, category"}),(0,t.jsx)("li",{children:"â€¢ Collapse/expand groups"})]})]}),categories:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Custom groupings for tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create your own categories"}),(0,t.jsx)("li",{children:"â€¢ Different from projects"}),(0,t.jsx)("li",{children:"â€¢ Use for areas of life, contexts, etc."})]})]}),linkPatterns:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Auto-link text patterns to URLs."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ Define patterns like "JIRA-123"'}),(0,t.jsx)("li",{children:"â€¢ Automatically creates clickable links"}),(0,t.jsx)("li",{children:"â€¢ Use $1, $2 for captured groups"})]})]}),markers:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Customize colors for metadata markers."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ @assigned, $source people"}),(0,t.jsx)("li",{children:"â€¢ %project, !!priority, #tags"}),(0,t.jsx)("li",{children:"â€¢ Dates, durations, recurring"})]})]}),autoAssign:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Default values for new tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Auto-assign person, project"}),(0,t.jsx)("li",{children:"â€¢ Default priority, due date"}),(0,t.jsx)("li",{children:"â€¢ Applied when not specified"})]})]}),storage:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Where your data is stored."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ IndexedDB (preferred, larger capacity)"}),(0,t.jsx)("li",{children:"â€¢ LocalStorage (fallback)"}),(0,t.jsx)("li",{children:"â€¢ Data stays in your browser"}),(0,t.jsx)("li",{children:"â€¢ Use Backup for data portability"})]})]}),subtasks:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Break down tasks into smaller steps."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Add subtasks to any task"}),(0,t.jsx)("li",{children:"â€¢ Check off as you complete"}),(0,t.jsx)("li",{children:"â€¢ Progress shown on parent task"})]})]}),comments:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Add notes and updates to tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Track progress and discussions"}),(0,t.jsx)("li",{children:"â€¢ Timestamped entries"}),(0,t.jsx)("li",{children:"â€¢ Visible in task detail"})]})]}),activity:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"History of changes to a task."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Auto-logged state changes"}),(0,t.jsx)("li",{children:"â€¢ Metadata updates tracked"}),(0,t.jsx)("li",{children:"â€¢ See when and what changed"})]})]}),timeTracking:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Track time spent on tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Start/stop timer for active tracking"}),(0,t.jsx)("li",{children:"â€¢ Add manual time entries"}),(0,t.jsx)("li",{children:"â€¢ View total time and individual entries"}),(0,t.jsx)("li",{children:"â€¢ Optional notes for each entry"})]})]}),dateTimeSettings:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Customize time shortcuts and calendar settings."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ Define what "morning", "noon", etc. mean'}),(0,t.jsx)("li",{children:"â€¢ Set your work week start day"}),(0,t.jsx)("li",{children:"â€¢ Configure fiscal year start"}),(0,t.jsx)("li",{children:"â€¢ BOD/EOD from Work Hours settings"})]})]}),viewModes:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Different ways to visualize your tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"List"}),": Traditional todo list with filters"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Kanban"}),": Visual board with drag-and-drop"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Gantt"}),": Timeline for task planning"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Calendar"}),": Monthly view with task dots"]})]})]}),ganttView:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Timeline visualization for task planning."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ View tasks on a horizontal timeline"}),(0,t.jsx)("li",{children:"â€¢ Auto-schedule based on due dates & durations"}),(0,t.jsx)("li",{children:"â€¢ Respects work hours and time blocks"}),(0,t.jsx)("li",{children:"â€¢ Group by project or view all tasks"})]})]}),calendarView:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Monthly calendar view of your tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Dots indicate tasks due on each day"}),(0,t.jsx)("li",{children:"â€¢ Click a day to see task details"}),(0,t.jsx)("li",{children:"â€¢ Navigate between months easily"}),(0,t.jsx)("li",{children:"â€¢ Quick overview of upcoming deadlines"})]})]}),features:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Enable or disable app features."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Toggle views you don't use"}),(0,t.jsx)("li",{children:"â€¢ Simplify the interface"}),(0,t.jsx)("li",{children:"â€¢ Disabled features hide their tabs"}),(0,t.jsx)("li",{children:"â€¢ Re-enable anytime in Settings"})]})]}),search:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Find tasks quickly across all your data."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Search task text, people, projects"}),(0,t.jsx)("li",{children:"â€¢ Search tags, comments, and context"}),(0,t.jsx)("li",{children:"â€¢ Recent searches saved automatically"}),(0,t.jsx)("li",{children:"â€¢ Press Escape to clear"})]})]}),importData:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Import tasks from external sources."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Plain text (one task per line)"}),(0,t.jsx)("li",{children:"â€¢ Markdown checkboxes"}),(0,t.jsx)("li",{children:"â€¢ CSV format"}),(0,t.jsx)("li",{children:"â€¢ Duplicate detection available"})]})]}),exportData:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Export your tasks for use elsewhere."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Markdown format with checkboxes"}),(0,t.jsx)("li",{children:"â€¢ CSV for spreadsheets"}),(0,t.jsx)("li",{children:"â€¢ JSON for full data backup"}),(0,t.jsx)("li",{children:"â€¢ Choose which tasks to include"})]})]}),undoRedo:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Undo or redo your recent changes."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Undo accidental deletions"}),(0,t.jsx)("li",{children:"â€¢ Redo if you change your mind"}),(0,t.jsx)("li",{children:"â€¢ Keyboard: Cmd/Ctrl + Z, Cmd/Ctrl + Shift + Z"})]})]}),focusMode:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Timer-based task execution with breaks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Work through tasks one at a time"}),(0,t.jsx)("li",{children:"â€¢ Built-in timer with sound alerts"}),(0,t.jsx)("li",{children:"â€¢ Short/long breaks between tasks"}),(0,t.jsx)("li",{children:"â€¢ Auto time tracking option"}),(0,t.jsx)("li",{children:"â€¢ Launch from Gantt toolbar"})]})]}),context:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Rich text notes for additional details."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Add formatted notes"}),(0,t.jsx)("li",{children:"â€¢ Include links and lists"}),(0,t.jsx)("li",{children:"â€¢ Background info and references"}),(0,t.jsx)("li",{children:"â€¢ Click to edit, blur to save"})]})]}),links:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Auto-detected links in your task."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Pattern-based link detection"}),(0,t.jsx)("li",{children:"â€¢ Click to open in new tab"}),(0,t.jsx)("li",{children:"â€¢ Configure patterns in Settings â†’ Links"})]})]}),theme:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Choose your preferred appearance."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Light"}),": Bright, clean interface"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Dark"}),": Easy on the eyes at night"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"System"}),": Matches your device setting"]})]})]}),reordering:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Manually order your tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Drag and drop to reorder"}),(0,t.jsx)("li",{children:"â€¢ Manual order persists"}),(0,t.jsx)("li",{children:"â€¢ Disable to use automatic sorting"})]})]}),focusSounds:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Audio cues for Focus Mode transitions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ ðŸŽ¯ Task Start - begin work"}),(0,t.jsx)("li",{children:"â€¢ âœ… Task Complete - finished"}),(0,t.jsx)("li",{children:"â€¢ â˜• Short Break - quick rest"}),(0,t.jsx)("li",{children:"â€¢ ðŸ§˜ Long Break - extended rest"}),(0,t.jsx)("li",{children:"â€¢ â° Break End - back to work"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"3 second delay between sounds for natural flow."})]}),ambientSounds:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Background sounds for focus sessions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Choose different sounds for work & breaks"}),(0,t.jsx)("li",{children:"â€¢ Rain, nature, city ambiance, and more"}),(0,t.jsx)("li",{children:"â€¢ Sounds loop continuously"}),(0,t.jsx)("li",{children:"â€¢ Separate volume control"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Only plays during active Focus Mode."})]}),batchProcessing:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Edit multiple tasks at once."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Select multiple tasks"}),(0,t.jsx)("li",{children:"â€¢ Batch complete, archive, or delete"}),(0,t.jsx)("li",{children:"â€¢ Batch edit metadata (priority, project, etc.)"}),(0,t.jsx)("li",{children:"â€¢ Shift+click for range selection"})]})]}),notifications:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Get browser notifications for due tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Enable browser notifications permission"}),(0,t.jsx)("li",{children:"â€¢ Get notified when tasks become overdue"}),(0,t.jsx)("li",{children:"â€¢ Alerts for tasks due today or soon"}),(0,t.jsx)("li",{children:"â€¢ Customize check interval and timing"})]})]}),priorities:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Define priority levels for your tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create custom priority levels"}),(0,t.jsx)("li",{children:"â€¢ Assign colors to each priority"}),(0,t.jsx)("li",{children:'â€¢ Add alternative names (e.g., "critical" = "urgent")'}),(0,t.jsx)("li",{children:"â€¢ Priority colors show on task checkboxes"})]})]}),sorting:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Order tasks in the list."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Sort by due date, priority, created date"}),(0,t.jsx)("li",{children:"â€¢ Ascending or descending order"}),(0,t.jsx)("li",{children:"â€¢ Combined with grouping for organization"}),(0,t.jsx)("li",{children:"â€¢ Manual order also available"})]})]}),viewPresets:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Save your favorite view configurations."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Save filter and sort combinations"}),(0,t.jsx)("li",{children:"â€¢ Quick switch between views"}),(0,t.jsx)("li",{children:"â€¢ Share presets across sessions"}),(0,t.jsx)("li",{children:"â€¢ Create presets for different workflows"})]})]}),focusKeyboard:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"Keyboard Shortcuts"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"Space"})," - Start/pause timer"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"Shift+Enter"})," - Complete early"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"Enter"})," - Open task details"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"S"})," - Skip to Next"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"N"})," - Skip Task"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"M"})," - Toggle sound"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"Esc"})," - Exit focus mode"]})]}),(0,t.jsxs)("div",{className:"border-t border-zinc-700 dark:border-zinc-300 pt-2 mt-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"How completion works:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-zinc-400 dark:text-zinc-600",children:[(0,t.jsxs)("li",{children:["â€¢ Tasks ",(0,t.jsx)("strong",{children:"auto-complete"})," when timer reaches zero"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Complete button"}),": Finish early & mark done"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Skip to Next"}),": End segment, move to break (doesn't mark done)"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Skip Task"}),": Skip entirely without progress"]})]})]})]})};function s(e,t,r){let i=t.find(t=>t.name===e||t.alternatives.includes(e));return i?.color||r}function o(e,t,r){let i=t.find(t=>t.name===e||t.alternatives.includes(e));return i?.color||r}function l(e,t,r){let i=t.find(t=>t.name===e||t.alternatives.includes(e));return i?.color||r}function d(e){if(!e)return"#000000";let t=e;if(e.startsWith("hsl(")){let t=e.match(/hsl\(\s*\d+\s*,\s*\d+%\s*,\s*(\d+)%\s*\)/);return t?parseInt(t[1])>50?"#000000":"#FFFFFF":"#000000"}return 3===(t=t.replace("#","")).length&&(t=t.split("").map(e=>e+e).join("")),(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255>.5?"#000000":"#FFFFFF"}e.s(["InfoTooltip",()=>n,"tooltipContent",0,a],56689),e.s(["findPersonColor",()=>s,"findPriorityColor",()=>l,"findProjectColor",()=>o,"getTextColor",()=>d],1346)},91900,51747,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function i({message:e,type:i,onClose:n,duration:a=4e3}){return(0,r.useEffect)(()=>{if(a>0){let e=setTimeout(()=>{n()},a);return()=>clearTimeout(e)}},[a,n]),(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg animate-slide-in ${(()=>{switch(i){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-900 dark:text-green-100";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-900 dark:text-red-100";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-900 dark:text-yellow-100";case"info":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-900 dark:text-blue-100"}})()}`,children:[(0,t.jsx)("span",{className:"text-xl font-bold",children:(()=>{switch(i){case"success":return"âœ“";case"error":return"âœ•";case"warning":return"âš ";case"info":return"â„¹"}})()}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e}),(0,t.jsx)("button",{onClick:n,className:"ml-2 text-lg hover:opacity-70 transition-opacity","aria-label":"Close notification",children:"Ã—"})]})}function n({title:e,message:r,confirmText:i="Confirm",cancelText:n="Cancel",confirmVariant:a="primary",onConfirm:s,onCancel:o}){return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-800 max-w-md w-full mx-4 animate-slide-up",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:e}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 whitespace-pre-line",children:r})]}),(0,t.jsxs)("div",{className:"flex gap-3 p-6 pt-0",children:[(0,t.jsx)("button",{onClick:o,className:"flex-1 px-4 py-2 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 rounded-lg font-medium transition-colors",children:n}),(0,t.jsx)("button",{onClick:s,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${"danger"===a?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i})]})]})})}function a(){let[e,i]=(0,r.useState)(null),a=(0,r.useCallback)(e=>{i(e)},[]),s=(0,r.useCallback)(()=>{i(null)},[]),o=e?(0,t.jsx)(n,{title:e.title,message:e.message,confirmText:e.confirmText,confirmVariant:e.confirmVariant,onConfirm:async()=>{await e.onConfirm(),i(null)},onCancel:s}):null;return{showConfirmDialog:a,hideConfirmDialog:s,ConfirmDialogComponent:o}}e.s(["ConfirmDialog",()=>n,"Notification",()=>i],51747),e.s(["useConfirmDialog",()=>a],91900)},24078,8410,e=>{"use strict";var t=e.i(43476);function r({value:e,onChange:r,defaultColor:i,label:n="Color",showLabel:a=!0}){return(0,t.jsxs)("div",{children:[a&&(0,t.jsxs)("label",{className:"block text-xs font-semibold text-zinc-600 dark:text-zinc-400 mb-2",children:[n," (optional - defaults to ",i,")"]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"color",value:e||i,onChange:e=>r(e.target.value),className:"w-20 h-10 rounded-lg cursor-pointer border border-zinc-300 dark:border-zinc-700"}),(0,t.jsx)("input",{type:"text",value:e||"",onChange:e=>r(e.target.value),className:"flex-1 px-3 py-2 text-sm rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`${i} (default)`}),e&&(0,t.jsx)("button",{type:"button",onClick:()=>r(void 0),className:"px-3 py-2 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-700 dark:text-zinc-300 rounded-md text-sm font-medium transition-colors whitespace-nowrap",children:"Use Default"})]})]})}function i({value:e,onChange:r,label:i="Alternatives",placeholder:n="e.g., alias1, alias2, alias3",showPreview:a=!0}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-zinc-600 dark:text-zinc-400 mb-2",children:i}),(0,t.jsx)("input",{type:"text",value:e.join(", "),onChange:e=>{r(e.target.value.split(",").map(e=>e.trim()).filter(e=>e))},placeholder:n,className:"w-full px-3 py-2 text-sm rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 placeholder-zinc-400 dark:placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a&&e.length>0&&(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.map((e,r)=>(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400",children:["aka: ",e]},r))})]})}e.s(["ColorPicker",()=>r],24078),e.s(["AlternativesInput",()=>i],8410)}]);