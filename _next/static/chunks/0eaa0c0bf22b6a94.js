(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13399,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016),n=e.i(13204),a=e.i(73986),i=e.i(24078),c=e.i(8410),l=e.i(12600);let d={edit:l.EditIcon,delete:l.TrashIcon,remove:l.CloseIcon,archive:l.ArchiveIcon,unarchive:l.UndoIcon,duplicate:l.DuplicateIcon,add:l.PlusIcon,close:l.CloseIcon,download:l.DownloadIcon,restore:l.UndoIcon},o={sm:{button:"p-1",icon:"w-3 h-3"},md:{button:"p-1.5",icon:"w-4 h-4"},lg:{button:"p-2",icon:"w-5 h-5"}},x={default:"bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300",danger:"bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-400",success:"bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:hover:bg-green-900/50 text-green-700 dark:text-green-400",warning:"bg-amber-100 hover:bg-amber-200 dark:bg-amber-900/30 dark:hover:bg-amber-900/50 text-amber-700 dark:text-amber-400",info:"bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-400",ghost:"hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"},m={edit:"default",delete:"danger",remove:"danger",archive:"warning",unarchive:"success",duplicate:"info",add:"info",close:"ghost",download:"info",restore:"success"},u={edit:"Edit",delete:"Delete",remove:"Remove",archive:"Archive",unarchive:"Unarchive",duplicate:"Duplicate",add:"Add",close:"Close",download:"Download",restore:"Restore"};function h({icon:e,onClick:r,title:s,size:n="md",variant:a,disabled:i=!1,className:c=""}){let l=a??m[e],h=s??u[e],b=d[e];return(0,t.jsx)("button",{onClick:r,disabled:i,className:`${o[n].button} ${x[l]} rounded-md transition-colors ${i?"opacity-50 cursor-not-allowed":""} ${c}`,"aria-label":h,title:h,children:(0,t.jsx)(b,{className:o[n].icon,strokeWidth:2})})}function b(){return(0,t.jsx)("div",{className:"text-zinc-600 dark:text-zinc-400",children:"Loading..."})}var p=e.i(56689);function g({title:e,tooltip:r,description:s,action:n}){let a=n&&!n.hidden;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[(0,t.jsx)("span",{children:e}),r&&(0,t.jsx)(p.InfoTooltip,{content:r})]}),s&&(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:s})]}),a&&(0,t.jsx)("button",{onClick:n.onClick,className:((e="secondary")=>{switch(e){case"primary":return"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors";case"subtle":return"text-sm px-3 py-1.5 rounded-md bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-300 dark:hover:bg-zinc-600 transition-colors";default:return"px-3 py-1.5 text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors"}})(n.variant),children:n.label})]})})}let k=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Set task importance level."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ Use ",(0,t.jsx)("code",{className:"bg-zinc-700 dark:bg-zinc-300 px-1 rounded",children:"!!priority"})," in task text"]}),(0,t.jsx)("li",{children:'â€¢ Auto-detected: "urgent", "high", "low"'}),(0,t.jsx)("li",{children:"â€¢ Customize priorities in Settings"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Priority colors show on task checkboxes."})]}),f=()=>({name:"",alternatives:[],color:(0,a.getColor)(""),order:1});function j(){let{settings:e,isLoaded:s,addPriority:l,updatePriority:d,deletePriority:o}=(0,n.useSettings)(),[x,m]=(0,r.useState)(null),[u,p]=(0,r.useState)({}),[j,z]=(0,r.useState)(!1),[v,N]=(0,r.useState)(f());if(!s)return(0,t.jsx)(b,{});let y=e.priorities,w=()=>""!==v.name.trim(),S=()=>{x&&u.name?.trim()&&(d(x,u),m(null),p({}))},C=()=>{m(null),p({})},D=[...y].sort((e,t)=>e.order-t.order);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Priorities",tooltip:k,description:(0,t.jsxs)(t.Fragment,{children:["Manage priority levels for your tasks. Use"," ",(0,t.jsx)("span",{className:"font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded",children:"!!"})," marker to assign priorities. Lower order numbers appear first."]}),action:{label:"Add Priority",onClick:()=>z(!0),variant:"primary",hidden:j}}),(0,t.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,t.jsx)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700",children:x===e.id?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:u.name||"",onChange:e=>p({...u,name:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)(c.AlternativesInput,{value:u.alternatives||[],onChange:e=>p({...u,alternatives:e}),placeholder:"e.g., asap, critical",label:"Alternatives (comma-separated)",showPreview:!1}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(i.ColorPicker,{value:u.color,onChange:e=>p({...u,color:e?(0,a.getColor)(e):void 0}),defaultColor:"#ffd4d4",label:"Color"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Order"}),(0,t.jsx)("input",{type:"number",value:u.order||1,onChange:e=>p({...u,order:parseInt(e.target.value)||1}),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:S,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors",children:"Save"}),(0,t.jsx)("button",{onClick:C,className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-zinc-300 dark:border-zinc-600",style:{backgroundColor:e.color||"#ffd4d4"}}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:[e.name,(0,t.jsxs)("span",{className:"ml-2 text-sm text-zinc-500 dark:text-zinc-400",children:["(Order: ",e.order,")"]})]}),e.alternatives.length>0&&(0,t.jsxs)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:["Alternatives: ",e.alternatives.join(", ")]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h,{icon:"edit",onClick:()=>{m(e.id),p({...e})}}),(0,t.jsx)(h,{icon:"delete",onClick:()=>o(e.id)})]})]})},e.id))}),j&&(0,t.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:v.name,onChange:e=>N({...v,name:e.target.value}),placeholder:"e.g., urgent, high, low",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)(c.AlternativesInput,{value:v.alternatives,onChange:e=>N({...v,alternatives:e}),placeholder:"e.g., asap, critical",label:"Alternatives (comma-separated)",showPreview:!1}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(i.ColorPicker,{value:v.color||void 0,onChange:e=>N({...v,color:(0,a.getColor)(e||"")}),defaultColor:"#ffd4d4",label:"Color"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Order"}),(0,t.jsx)("input",{type:"number",value:v.order,onChange:e=>N({...v,order:parseInt(e.target.value)||1}),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{w()&&(l({...v,order:y.length+1,color:v.color||void 0}),N(f()),z(!1))},disabled:!w(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:"Add Priority"}),(0,t.jsx)("button",{onClick:()=>{z(!1),N(f())},className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]})]})}let z={info:{container:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",title:"text-blue-900 dark:text-blue-100",text:"text-blue-800 dark:text-blue-200",icon:(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{container:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",title:"text-amber-900 dark:text-amber-100",text:"text-amber-800 dark:text-amber-200",icon:(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},danger:{container:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",title:"text-red-900 dark:text-red-100",text:"text-red-800 dark:text-red-200",icon:(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},success:{container:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",title:"text-green-900 dark:text-green-100",text:"text-green-800 dark:text-green-200",icon:(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}},v={info:"How it works",warning:"Warning",danger:"Danger",success:"Success"};function N({title:e,variant:r="info",items:s,children:n}){let a=z[r],i=e??v[r];return(0,t.jsx)("div",{className:`p-4 rounded-lg border ${a.container}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[a.icon,(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:`font-semibold text-sm mb-2 ${a.title}`,children:i}),s?(0,t.jsx)("ul",{className:`text-sm space-y-1 list-disc list-inside ${a.text}`,children:s.map((e,r)=>(0,t.jsx)("li",{children:e},r))}):(0,t.jsx)("div",{className:`text-sm ${a.text}`,children:n})]})]})})}let y=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Auto-link text patterns to URLs."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ Define patterns like "JIRA-123"'}),(0,t.jsx)("li",{children:"â€¢ Automatically creates clickable links"}),(0,t.jsx)("li",{children:"â€¢ Use $1, $2 for captured groups"})]})]}),w=()=>({prefix:"",urlTemplate:"",description:"",color:"#3b82f6"});function S(){let{settings:e,isLoaded:s,addLinkPattern:i,updateLinkPattern:c,deleteLinkPattern:l}=(0,n.useSettings)(),[d,o]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null),[u,p]=(0,r.useState)(w());if(!s)return(0,t.jsx)(b,{});let k=e.linkPatterns;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Link Patterns",tooltip:y,description:(0,t.jsxs)(t.Fragment,{children:["Define custom link patterns to convert text markers into clickable links. Use ",(0,t.jsx)("code",{children:"{id}"})," as a placeholder for the identifier."]}),action:{label:"Add Link Pattern",onClick:()=>o(!0),variant:"primary",hidden:d}}),d&&(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""===u.prefix.trim()||""===u.urlTemplate.trim())return;let t={prefix:u.prefix.trim().toUpperCase(),urlTemplate:u.urlTemplate.trim(),description:u.description.trim(),color:(0,a.getColor)(u.color)};x?(c(x,t),m(null)):i(t),p(w()),o(!1)},className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Prefix"}),(0,t.jsx)("input",{type:"text",value:u.prefix,onChange:e=>p({...u,prefix:e.target.value.toUpperCase()}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"T",maxLength:3,pattern:"[A-Z]{1,3}",required:!0}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Enter 1-3 capital letters (e.g., T, D, S, ABC)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"URL Template"}),(0,t.jsx)("input",{type:"text",value:u.urlTemplate,onChange:e=>p({...u,urlTemplate:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"http://www.google.com/{id}",required:!0}),(0,t.jsxs)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:["Use ","{id}"," where the number should be inserted"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Description (optional)"}),(0,t.jsx)("input",{type:"text",value:u.description,onChange:e=>p({...u,description:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ticket link"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Link Color (optional)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:u.color,onChange:e=>p({...u,color:(0,a.getColor)(e.target.value)}),className:"w-10 h-10 rounded cursor-pointer border border-zinc-300 dark:border-zinc-600"}),(0,t.jsx)("input",{type:"text",value:u.color,onChange:e=>p({...u,color:(0,a.getColor)(e.target.value)}),className:"flex-1 px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{type:"submit",disabled:""===u.prefix.trim()||""===u.urlTemplate.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:[x?"Update":"Add"," Pattern"]}),(0,t.jsx)("button",{type:"button",onClick:()=>{o(!1),m(null),p(w())},className:"flex-1 px-4 py-2 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===k.length?(0,t.jsx)("p",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:'No link patterns added yet. Click "Add Link Pattern" to get started.'}):k.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center font-bold text-lg text-white",style:{backgroundColor:e.color||"#3b82f6"},children:e.prefix}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:[e.prefix,"##### â†’ Link"]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 font-mono break-all",children:e.urlTemplate}),e.description&&(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-500 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h,{icon:"edit",onClick:()=>{m(e.id),p({prefix:e.prefix,urlTemplate:e.urlTemplate,description:e.description,color:e.color||"#3b82f6"}),o(!0)}}),(0,t.jsx)(h,{icon:"delete",onClick:()=>l(e.id)})]})]},e.id))}),(0,t.jsxs)(N,{children:[(0,t.jsxs)("p",{className:"mb-2",children:["Link patterns convert text like"," ",(0,t.jsx)("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 py-0.5 rounded",children:"T12345"})," into clickable links."]}),(0,t.jsxs)("p",{children:["Pattern: Capital letter followed by 4+ digits. Use"," ",(0,t.jsx)("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 py-0.5 rounded",children:"{id}"})," in the URL template as a placeholder for the number."]})]})]})}var C=e.i(91007);let D=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Customize colors for metadata markers."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ @assigned, $source people"}),(0,t.jsx)("li",{children:"â€¢ %project, !!priority, #tags"}),(0,t.jsx)("li",{children:"â€¢ Dates, durations, recurring"})]})]}),T=[{key:"assigned",symbol:"@/$",label:"People (Default)",description:"Default color for new people (assigned, source, mentioned)"},{key:"project",symbol:"%",label:"Project (Default)",description:"Default color for new projects"},{key:"priority",symbol:"!!",label:"Priority (Default)",description:"Default color for new priorities"},{key:"sprint",symbol:(0,t.jsx)(l.LightningIcon,{className:"w-6 h-6"}),label:"Sprint (Default)",description:"Default color for new sprints"},{key:"dueDate",symbol:(0,t.jsx)(l.CalendarIcon,{className:"w-6 h-6"}),label:"Due Date",description:"Color for auto-detected due dates"},{key:"duration",symbol:(0,t.jsx)(l.ClockIcon,{className:"w-6 h-6"}),label:"Duration",description:"Color for task durations"},{key:"recurring",symbol:(0,t.jsx)(l.RepeatIcon,{className:"w-6 h-6"}),label:"Recurring",description:"Color for auto-detected recurring patterns"},{key:"dependency",symbol:(0,t.jsx)(l.LinkIcon,{className:"w-6 h-6"}),label:"Dependency",description:"Color for task dependencies"},{key:"tag",symbol:"#",label:"Tag",description:"Color for free-form tags"}];function I(){let{settings:e,isLoaded:r,updateMarkerColors:s}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let i=e.markerColors,c=(e,t)=>{s({[e]:(0,a.getColor)(t)})};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Marker Colors",tooltip:D,description:"Configure default colors used when creating new items.",action:{label:"Reset to Defaults",onClick:()=>{s(C.defaultMarkerColors)}}}),(0,t.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center font-bold text-2xl flex-shrink-0",style:{backgroundColor:i[e.key],color:"#333"},children:e.symbol}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"color",value:i[e.key],onChange:t=>c(e.key,t.target.value),className:"h-10 w-20 rounded cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:i[e.key],onChange:t=>c(e.key,t.target.value),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"#cce5ff",pattern:"^#[0-9A-Fa-f]{6}$"})]})]})]})},e.key))})]})}var B=e.i(65095),A=e.i(55584);let L=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Choose your preferred appearance."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Light"}),": Bright, clean interface"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Dark"}),": Easy on the eyes at night"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"System"}),": Matches your device setting"]})]})]}),P=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Completed tasks move to Archive after this many days."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Set to 0 to archive immediately"}),(0,t.jsx)("li",{children:"â€¢ Archived tasks stay visible but collapsed"}),(0,t.jsx)("li",{children:"â€¢ Reduces clutter in your active list"})]})]}),E=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Permanently remove old tasks automatically."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Counts from completion date"}),(0,t.jsx)("li",{children:"â€¢ Affects both completed and archived tasks"}),(0,t.jsx)("li",{children:"â€¢ Cannot be undone - be careful!"})]})]}),M=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Enable or disable app features."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Toggle views you don't use"}),(0,t.jsx)("li",{children:"â€¢ Simplify the interface"}),(0,t.jsx)("li",{children:"â€¢ Disabled features hide their tabs"}),(0,t.jsx)("li",{children:"â€¢ Re-enable anytime in Settings"})]})]});function O(){let{settings:e,isLoaded:r,updateGeneralSettings:s,updateFeatureSettings:a}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let i=e.general,c=e.features??B.defaultFeatureSettings,d=e=>{s({theme:e})};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"General Settings",description:"Configure general application behavior and preferences.",action:{label:"Reset to Defaults",onClick:()=>s(B.defaultGeneralSettings)}}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Theme"}),(0,t.jsx)(p.InfoTooltip,{content:L})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Choose your preferred color scheme. System will automatically match your device settings."}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)("button",{onClick:()=>d("light"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border transition-all ${"light"===i.theme?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 ring-2 ring-blue-500/20":"border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:border-zinc-400 dark:hover:border-zinc-600"}`,children:[(0,t.jsx)(l.SunIcon,{className:"w-5 h-5"}),"Light"]}),(0,t.jsxs)("button",{onClick:()=>d("dark"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border transition-all ${"dark"===i.theme?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 ring-2 ring-blue-500/20":"border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:border-zinc-400 dark:hover:border-zinc-600"}`,children:[(0,t.jsx)(l.MoonIcon,{className:"w-5 h-5"}),"Dark"]}),(0,t.jsxs)("button",{onClick:()=>d("system"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border transition-all ${"system"===i.theme?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 ring-2 ring-blue-500/20":"border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:border-zinc-400 dark:hover:border-zinc-600"}`,children:[(0,t.jsx)(l.DesktopIcon,{className:"w-5 h-5"}),"System"]})]})]})})}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Archive Completed Tasks"}),(0,t.jsx)(p.InfoTooltip,{content:P})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Automatically move completed tasks to the archived section after a specified number of days. Set to 0 to archive immediately upon completion."}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"365",value:i.archiveDays,onChange:e=>{let t;return t=Math.max(0,parseInt(e.target.value)||0),void s({archiveDays:(0,A.getDurationDay)(t)})},className:"w-24 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"days"})]})]})})}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4 mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Auto-Delete Tasks"}),(0,t.jsx)(p.InfoTooltip,{content:E})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Automatically delete completed and archived tasks after a specified number of days. This is useful for keeping your todo list clean and removing old tasks you no longer need."}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer mb-4",children:[(0,t.jsx)("input",{type:"checkbox",checked:i.autoDelete.enabled,onChange:e=>{var t;return t=e.target.checked,void s({autoDelete:{...i.autoDelete,enabled:t}})},className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Enable auto-delete"})]}),i.autoDelete.enabled&&(0,t.jsxs)("div",{className:"flex items-center gap-4 ml-7",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Delete after"}),(0,t.jsx)("input",{type:"number",min:"1",max:"365",value:i.autoDelete.deleteDays,onChange:e=>{let t;return t=Math.max(1,parseInt(e.target.value)||1),void s({autoDelete:{...i.autoDelete,deleteDays:(0,A.getDurationDay)(t)}})},className:"w-24 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"days"})]})]})})}),(0,t.jsx)(N,{items:["Active tasks appear in the main 'Active' section","When marked complete, tasks move to the 'Completed' section","After the specified archive days, completed tasks move to the 'Archived' section","Archived tasks are collapsed by default but remain visible","If auto-delete is enabled, both completed and archived tasks are permanently deleted after the specified delete days","Auto-delete countdown starts from completion date for completed tasks, and from archive date for archived tasks"]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Features"}),(0,t.jsx)(p.InfoTooltip,{content:M})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Enable or disable features to simplify the interface. Disabled features will hide their views and related settings."}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 flex items-center gap-2",children:[(0,t.jsx)(l.GridIcon,{className:"w-4 h-4"}),"Views"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.kanbanView,onChange:e=>a({kanbanView:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Kanban Board"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Visual task board with workflow states"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.ganttView,onChange:e=>a({ganttView:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Gantt Chart"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Timeline visualization for planning"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.calendarView,onChange:e=>a({calendarView:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Calendar View"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Monthly calendar with task dots"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.sprintsView,onChange:e=>a({sprintsView:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Sprints"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Scrum-style sprint planning"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.statsView,onChange:e=>a({statsView:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Statistics"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Charts and task analytics"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 flex items-center gap-2",children:[(0,t.jsx)(l.SettingsIcon,{className:"w-4 h-4"}),"Tools"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.templates,onChange:e=>a({templates:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Templates"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Create and use task templates"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.batchProcessing,onChange:e=>a({batchProcessing:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Batch Processing"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Select and edit multiple tasks"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.reordering,onChange:e=>a({reordering:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Drag & Drop Reordering"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Manual task ordering mode"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.exports,onChange:e=>a({exports:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Export"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Export to Markdown, CSV, JSON"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.focusMode,onChange:e=>a({focusMode:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Focus Mode"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Distraction-free task view"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.timeTracking,onChange:e=>a({timeTracking:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Time Tracking"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Track time spent on tasks"})]})]})]})]})]})]})]})}let F=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Customize time shortcuts and calendar settings."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:'â€¢ Define what "morning", "noon", etc. mean'}),(0,t.jsx)("li",{children:"â€¢ Set your work week start/end days"}),(0,t.jsx)("li",{children:"â€¢ Configure fiscal year start"}),(0,t.jsx)("li",{children:"â€¢ BOD/EOD are derived from Work Hours settings"})]})]});function $(){let{settings:e,isLoaded:r,updateDateTimeSettings:s}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let a=e.dateTime,i=(e,t)=>{s({...a,[e]:t})};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Date & Time Settings",tooltip:F,description:"Customize how date and time shortcuts are interpreted throughout the app.",action:{label:"Reset to Defaults",onClick:()=>{s(B.defaultDateTimeSettings)}}}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Morning"}),(0,t.jsx)("input",{type:"time",value:a.morning,onChange:e=>i("morning",e.target.value),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when interpreting "morning" in due dates'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Noon"}),(0,t.jsx)("input",{type:"time",value:a.noon,onChange:e=>i("noon",e.target.value),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when interpreting "noon" in due dates (typically 12:00)'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Afternoon"}),(0,t.jsx)("input",{type:"time",value:a.afternoon,onChange:e=>i("afternoon",e.target.value),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when interpreting "afternoon" in due dates'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Evening"}),(0,t.jsx)("input",{type:"time",value:a.evening,onChange:e=>i("evening",e.target.value),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when interpreting "evening" in due dates'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Work Week Start Day"}),(0,t.jsxs)("select",{value:a.workWeekStart,onChange:e=>i("workWeekStart",parseInt(e.target.value)),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"0",children:"Sunday"}),(0,t.jsx)("option",{value:"1",children:"Monday"}),(0,t.jsx)("option",{value:"2",children:"Tuesday"}),(0,t.jsx)("option",{value:"3",children:"Wednesday"}),(0,t.jsx)("option",{value:"4",children:"Thursday"}),(0,t.jsx)("option",{value:"5",children:"Friday"}),(0,t.jsx)("option",{value:"6",children:"Saturday"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when calculating "bow" (beginning of week)'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Work Week End Day"}),(0,t.jsxs)("select",{value:a.workWeekEnd,onChange:e=>i("workWeekEnd",parseInt(e.target.value)),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"0",children:"Sunday"}),(0,t.jsx)("option",{value:"1",children:"Monday"}),(0,t.jsx)("option",{value:"2",children:"Tuesday"}),(0,t.jsx)("option",{value:"3",children:"Wednesday"}),(0,t.jsx)("option",{value:"4",children:"Thursday"}),(0,t.jsx)("option",{value:"5",children:"Friday"}),(0,t.jsx)("option",{value:"6",children:"Saturday"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:'Used when calculating "eow" (end of week)'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Fiscal Year Start Month"}),(0,t.jsxs)("select",{value:a.fiscalYearStart,onChange:e=>i("fiscalYearStart",parseInt(e.target.value)),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"1",children:"January"}),(0,t.jsx)("option",{value:"2",children:"February"}),(0,t.jsx)("option",{value:"3",children:"March"}),(0,t.jsx)("option",{value:"4",children:"April"}),(0,t.jsx)("option",{value:"5",children:"May"}),(0,t.jsx)("option",{value:"6",children:"June"}),(0,t.jsx)("option",{value:"7",children:"July"}),(0,t.jsx)("option",{value:"8",children:"August"}),(0,t.jsx)("option",{value:"9",children:"September"}),(0,t.jsx)("option",{value:"10",children:"October"}),(0,t.jsx)("option",{value:"11",children:"November"}),(0,t.jsx)("option",{value:"12",children:"December"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Used when calculating fiscal quarters and year boundaries"})]})]})}),(0,t.jsx)(N,{title:"Shorthand Date Examples",items:["morning, noon, afternoon, evening - Time-of-day shortcuts","bod, eod - Beginning/End of day (from Work Hours)","bow, eow - Beginning/End of week","bom, eom - Beginning/End of month","boy, eoy - Beginning/End of year","bofy, eofy - Beginning/End of fiscal year","today, tomorrow, yesterday - Day-relative dates","mon, tue, wed, thu, fri, sat, sun - Next occurrence of weekday"]})]})]})}var W=e.i(22870),R=e.i(82431),V=e.i(1346),U=e.i(60825);let K=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Define when you're available to work."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Sets Beginning/End of Day times"}),(0,t.jsx)("li",{children:'â€¢ Used for "eod", "bod" shortcuts'}),(0,t.jsx)("li",{children:"â€¢ Affects Gantt chart scheduling"}),(0,t.jsx)("li",{children:"â€¢ Configure per-day or weekday/weekend"})]})]}),_=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Block out time for non-task activities."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Meetings, lunch, focus time, etc."}),(0,t.jsx)("li",{children:"â€¢ Shown on Gantt timeline"}),(0,t.jsx)("li",{children:"â€¢ Tasks scheduled around blocks"}),(0,t.jsx)("li",{children:"â€¢ Custom colors and icons"})]})]}),G=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],J={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};function Y(e){if(e.color)return e.color;let t=R.DEFAULT_BLOCK_TYPES.find(t=>t.id===e.blockType);return t?.color||R.DEFAULT_BLOCK_TYPES[0].color}function q(e){let t=R.DEFAULT_BLOCK_TYPES.find(t=>t.id===e);return t?.icon||"ğŸ“…"}function H(){let{settings:e,isLoaded:s,updateWorkHoursSettings:i}=(0,n.useSettings)(),[c,l]=(0,r.useState)(!1);if(!s)return(0,t.jsx)(b,{});let d=e.workHours,o=(e,t)=>{let r="common"===e?"commonSchedule":"weekday"===e?"weekdaySchedule":"weekendSchedule";i({...d,[r]:{...d[r],...t}})},x=(e,t)=>{let r=d.customSchedules[e]||d.weekdaySchedule;i({...d,customSchedules:{...d.customSchedules,[e]:{...r,...t}}})},m=(e,t,r)=>{let s="common"===e?"commonSchedule":"weekday"===e?"weekdaySchedule":"weekendSchedule",n=d[s];i({...d,[s]:{...n,breaks:n.breaks.map(e=>e.id===t?{...e,...r}:e)}})},u=(e,r,s)=>{let n=!1!==e.enabled;return(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:s}),("weekday"===r||"weekend"===r)&&(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:n,onChange:e=>o(r,{enabled:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:n?"Enabled":"Disabled"})]})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:e.startTime,onChange:e=>o(r,{startTime:(0,A.getShortTime)(e.target.value)}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:e.endTime,onChange:e=>o(r,{endTime:(0,A.getShortTime)(e.target.value)}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex items-center gap-1.5",children:[(0,t.jsx)("span",{children:"Time Blocks"}),(0,t.jsx)(p.InfoTooltip,{content:_,size:"sm"})]}),(0,t.jsx)("button",{onClick:()=>{let e,t,s;return t=d[e="common"===r?"commonSchedule":"weekday"===r?"weekdaySchedule":"weekendSchedule"],s={id:(0,W.getBreakPeriodId)((0,U.createBreakPeriodId)()),name:"Break",startTime:(0,A.getShortTime)("12:00"),endTime:(0,A.getShortTime)("13:00"),blockType:(0,R.getTimeBlockId)("break")},void i({...d,[e]:{...t,breaks:[...t.breaks,s]}})},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"+ Add Block"})]}),0===e.breaks.length?(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 italic",children:"No time blocks configured"}):(0,t.jsx)("div",{className:"space-y-3",children:e.breaks.map(e=>{let s=Y(e),n=(0,V.getTextColor)(s);return(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 space-y-3 border-l-4",style:{borderLeftColor:s},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("span",{className:"text-lg",title:`${R.DEFAULT_BLOCK_TYPES.find(t=>t.id===e.blockType)?.name||"Block"}`,children:q(e.blockType)}),(0,t.jsx)("select",{value:e.blockType||"break",onChange:t=>{let s=(0,R.getTimeBlockId)(t.target.value),n=R.DEFAULT_BLOCK_TYPES.find(e=>e.id===s);m(r,e.id,{blockType:s,name:n?.name||e.name,color:void 0})},className:"flex-1 px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500",children:R.DEFAULT_BLOCK_TYPES.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,t.jsx)("input",{type:"text",value:e.name,onChange:t=>m(r,e.id,{name:t.target.value}),className:"flex-1 px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Block name"}),(0,t.jsx)(h,{icon:"remove",onClick:()=>{var t;let s,n;return t=e.id,n=d[s="common"===r?"commonSchedule":"weekday"===r?"weekdaySchedule":"weekendSchedule"],void i({...d,[s]:{...n,breaks:n.breaks.filter(e=>e.id!==t)}})},size:"sm",title:"Remove block"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"time",value:e.startTime,onChange:t=>m(r,e.id,{startTime:(0,A.getShortTime)(t.target.value)}),className:"px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-zinc-400",children:"â†’"}),(0,t.jsx)("input",{type:"time",value:e.endTime,onChange:t=>m(r,e.id,{endTime:(0,A.getShortTime)(t.target.value)}),className:"px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,t.jsx)("label",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Color:"}),(0,t.jsx)("input",{type:"color",value:e.color||Y(e),onChange:t=>m(r,e.id,{color:(0,a.getColor)(t.target.value)}),className:"w-8 h-6 rounded border border-zinc-300 dark:border-zinc-700 cursor-pointer",title:"Custom color"}),e.color&&(0,t.jsx)("button",{onClick:()=>m(r,e.id,{color:void 0}),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",title:"Reset to default color",children:"Reset"})]})]}),(0,t.jsxs)("div",{className:"px-2 py-1 rounded text-xs font-medium text-center",style:{backgroundColor:s,color:n},children:[q(e.blockType)," ",e.name," (",e.startTime," -"," ",e.endTime,")"]})]},e.id)})})]})]})]})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Work Hours Configuration",tooltip:K,description:"Configure your daily work schedule. These hours are used in the Gantt view for task planning.",action:{label:"Reset to Defaults",onClick:()=>i(B.defaultWorkHoursSettings)}}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:d.useCommonSchedule,onChange:()=>i({...d,useCommonSchedule:!0}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Use same schedule for all days"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:!d.useCommonSchedule&&!c,onChange:()=>{l(!1),i({...d,useCommonSchedule:!1})},className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Different schedules for weekdays and weekends"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:!d.useCommonSchedule&&c,onChange:()=>{l(!0),i({...d,useCommonSchedule:!1})},className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Custom schedule for each day"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[d.useCommonSchedule&&u(d.commonSchedule,"common","Common Schedule (All Days)"),!d.useCommonSchedule&&!c&&(0,t.jsxs)(t.Fragment,{children:[u(d.weekdaySchedule,"weekday","Weekday Schedule (Mon-Fri)"),u(d.weekendSchedule,"weekend","Weekend Schedule (Sat-Sun)")]}),!d.useCommonSchedule&&c&&(0,t.jsx)("div",{className:"space-y-4",children:G.map(e=>{let r=d.customSchedules[e]||d.weekdaySchedule,s=!1!==r.enabled;return(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:J[e]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s,onChange:t=>x(e,{enabled:t.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:s?"Enabled":"Disabled"})]})]}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:r.startTime,onChange:t=>x(e,{startTime:(0,A.getShortTime)(t.target.value)}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:r.endTime,onChange:t=>x(e,{endTime:(0,A.getShortTime)(t.target.value)}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Time Blocks"}),(0,t.jsx)("button",{onClick:()=>{let t=d.customSchedules[e]||d.weekdaySchedule,r={id:(0,W.getBreakPeriodId)((0,U.createBreakPeriodId)()),name:"Break",startTime:(0,A.getShortTime)("12:00"),endTime:(0,A.getShortTime)("13:00"),blockType:(0,R.getTimeBlockId)("break")};x(e,{breaks:[...t.breaks,r]})},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"+ Add Block"})]}),0===r.breaks.length?(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 italic",children:"No time blocks configured"}):(0,t.jsx)("div",{className:"space-y-3",children:r.breaks.map(r=>{let s=Y(r),n=(0,V.getTextColor)(s);return(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 space-y-3 border-l-4",style:{borderLeftColor:s},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("span",{className:"text-lg",title:`${R.DEFAULT_BLOCK_TYPES.find(e=>e.id===r.blockType)?.name||"Block"}`,children:q(r.blockType)}),(0,t.jsx)("select",{value:r.blockType||"break",onChange:t=>{let s=(0,R.getTimeBlockId)(t.target.value),n=R.DEFAULT_BLOCK_TYPES.find(e=>e.id===s),a=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:a.breaks.map(e=>e.id===r.id?{...e,blockType:s,name:n?.name||e.name,color:void 0}:e)})},className:"flex-1 px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500",children:R.DEFAULT_BLOCK_TYPES.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,t.jsx)("input",{type:"text",value:r.name,onChange:t=>{let s=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:s.breaks.map(e=>e.id===r.id?{...e,name:t.target.value}:e)})},className:"flex-1 px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Block name"}),(0,t.jsx)(h,{icon:"remove",onClick:()=>{let t=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:t.breaks.filter(e=>e.id!==r.id)})},size:"sm",title:"Remove block"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"time",value:r.startTime,onChange:t=>{let s=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:s.breaks.map(e=>e.id===r.id?{...e,startTime:(0,A.getShortTime)(t.target.value)}:e)})},className:"px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-zinc-400",children:"â†’"}),(0,t.jsx)("input",{type:"time",value:r.endTime,onChange:t=>{let s=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:s.breaks.map(e=>e.id===r.id?{...e,endTime:(0,A.getShortTime)(t.target.value)}:e)})},className:"px-2 py-1 text-sm rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,t.jsx)("label",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Color:"}),(0,t.jsx)("input",{type:"color",value:r.color||Y(r),onChange:t=>{let s=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:s.breaks.map(e=>e.id===r.id?{...e,color:(0,a.getColor)(t.target.value)}:e)})},className:"w-8 h-6 rounded border border-zinc-300 dark:border-zinc-700 cursor-pointer",title:"Custom color"}),r.color&&(0,t.jsx)("button",{onClick:()=>{let t=d.customSchedules[e]||d.weekdaySchedule;x(e,{breaks:t.breaks.map(e=>e.id===r.id?{...e,color:void 0}:e)})},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",title:"Reset to default color",children:"Reset"})]})]}),(0,t.jsxs)("div",{className:"px-2 py-1 rounded text-xs font-medium text-center",style:{backgroundColor:s,color:n},children:[q(r.blockType)," ",r.name," (",r.startTime," -"," ",r.endTime,")"]})]},r.id)})})]})]})]},e)})})]})]})}var Z=e.i(7889),X=e.i(47662);let Q=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Simple task-to-task scheduling."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Fixed buffer between tasks"}),(0,t.jsx)("li",{children:"â€¢ No structured breaks"}),(0,t.jsx)("li",{children:"â€¢ Predictable, even spacing"}),(0,t.jsx)("li",{children:"â€¢ Good for varied task lengths"})]})]}),ee=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Time management technique with breaks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Short breaks between tasks"}),(0,t.jsx)("li",{children:"â€¢ Long breaks after N tasks"}),(0,t.jsx)("li",{children:"â€¢ Presets: Standard (25/5/15/4)"}),(0,t.jsx)("li",{children:"â€¢ Use Focus Mode for timer & sounds"})]})]}),et=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Work/break/context cycles for deep focus."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Extended work sessions"}),(0,t.jsx)("li",{children:"â€¢ Fixed break after each session"}),(0,t.jsx)("li",{children:"â€¢ Context switch time between tasks"}),(0,t.jsx)("li",{children:"â€¢ Presets: 52/17, Ultradian (90/20)"})]})]});function er(){let{settings:e,isLoaded:r,updateGantt:s}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let a=e.gantt,i=e=>{s({...a,schedulingTechnique:e.technique,contextSwitchingTime:e.contextSwitchingTime,defaultTaskDuration:e.defaultTaskDuration,durationMultiplier:e.durationMultiplier,pomodoroWorkDuration:e.pomodoroWorkDuration??a.pomodoroWorkDuration,pomodoroShortBreak:e.pomodoroShortBreak??a.pomodoroShortBreak,pomodoroLongBreak:e.pomodoroLongBreak??a.pomodoroLongBreak,pomodoroLongBreakInterval:e.pomodoroLongBreakInterval??a.pomodoroLongBreakInterval,flowWorkDuration:e.flowWorkDuration??a.flowWorkDuration,flowBreakDuration:e.flowBreakDuration??a.flowBreakDuration,flowContextSwitchingTime:e.flowContextSwitchingTime??a.flowContextSwitchingTime,activePresetId:e.id})},c=e=>{X.defaultGanttPresets.map(e=>e.id).includes((0,X.getGanttPresetId)(e))||s({...a,presets:(a.presets||X.defaultGanttPresets).filter(t=>t.id!==e),activePresetId:a.activePresetId===e?void 0:a.activePresetId})},l=a.presets||X.defaultGanttPresets,d=l.filter(e=>"sequential"===e.technique),o=l.filter(e=>"pomodoro"===e.technique),x=l.filter(e=>"flow"===e.technique),m=e=>{switch(e.technique){case"sequential":return`Context: ${e.contextSwitchingTime}m, Duration: ${e.defaultTaskDuration}m, Multiplier: ${e.durationMultiplier}x`;case"pomodoro":return`${e.pomodoroWorkDuration}m work, ${e.pomodoroShortBreak}m short break, ${e.pomodoroLongBreak}m long break every ${e.pomodoroLongBreakInterval} sessions`;case"flow":return`${e.flowWorkDuration}m work, ${e.flowBreakDuration}m break, ${e.flowContextSwitchingTime}m context switch`}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Gantt View Settings",description:"Configure scheduling techniques and settings for the Gantt view.",action:{label:"Reset to Defaults",onClick:()=>{s(Z.defaultGantt)}}}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Common Settings"}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"These settings apply to all scheduling techniques. Switch between techniques in the Gantt view toolbar."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Default Task Duration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"5",max:"480",step:"5",value:a.defaultTaskDuration,onChange:e=>s({...a,defaultTaskDuration:(0,A.getDurationMin)(parseInt(e.target.value)||30),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"When no duration specified (5-480)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Duration Multiplier"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0.5",max:"5",step:"0.1",value:a.durationMultiplier,onChange:e=>s({...a,durationMultiplier:parseFloat(e.target.value)||1,activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Ã—"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Safety factor for scheduling (0.5-5.0)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Minimum Remaining Duration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"1",max:"30",step:"1",value:a.minimumRemainingDuration??1,onChange:e=>s({...a,minimumRemainingDuration:(0,A.getDurationMin)(Math.max(1,parseInt(e.target.value)||1)),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Minimum time left on tasks with tracked time (1-30)"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"ğŸ“‹"}),(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Sequential"}),(0,t.jsx)(p.InfoTooltip,{content:Q}),"sequential"===a.schedulingTechnique&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full",children:"Active"})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Simple task-to-task scheduling with a fixed context switching buffer between tasks. Good for when you want predictable spacing without structured breaks."}),d.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>{let r=a.activePresetId===e.id,s=!X.defaultGanttPresets.map(e=>e.id).includes(e.id);return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("button",{onClick:()=>i(e),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${r?"bg-blue-600 text-white":"bg-white dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-600 border border-zinc-200 dark:border-zinc-600"}`,title:m(e),children:e.name}),s&&(0,t.jsx)("button",{onClick:()=>c(e.id),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Delete preset",children:"Ã—"})]},e.id)})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Context Switching Time"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"60",value:a.contextSwitchingTime,onChange:e=>s({...a,contextSwitchingTime:(0,A.getDurationMin)(parseInt(e.target.value)||0),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Buffer between tasks (0-60)"})]})})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"ğŸ…"}),(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Pomodoro"}),(0,t.jsx)(p.InfoTooltip,{content:ee}),"pomodoro"===a.schedulingTechnique&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-full",children:"Active"})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Work in focused sessions with short breaks, and longer breaks after every few sessions. Great for maintaining focus and preventing burnout."}),o.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>{let r=a.activePresetId===e.id,s=!X.defaultGanttPresets.map(e=>e.id).includes(e.id);return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("button",{onClick:()=>i(e),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors flex items-center gap-1.5 ${r?"bg-red-500 text-white":"bg-white dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-600 border border-zinc-200 dark:border-zinc-600"}`,title:m(e),children:e.name}),s&&(0,t.jsx)("button",{onClick:()=>c(e.id),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Delete preset",children:"Ã—"})]},e.id)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Work Duration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"10",max:"90",step:"5",value:a.pomodoroWorkDuration,onChange:e=>s({...a,pomodoroWorkDuration:(0,A.getDurationMin)(parseInt(e.target.value)||25),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Focus time per session"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Short Break"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"1",max:"30",value:a.pomodoroShortBreak,onChange:e=>s({...a,pomodoroShortBreak:(0,A.getDurationMin)(parseInt(e.target.value)||5),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Between sessions"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Long Break"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"5",max:"60",value:a.pomodoroLongBreak,onChange:e=>s({...a,pomodoroLongBreak:(0,A.getDurationMin)(parseInt(e.target.value)||15),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"After interval"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Long Break Every"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"2",max:"10",value:a.pomodoroLongBreakInterval,onChange:e=>s({...a,pomodoroLongBreakInterval:parseInt(e.target.value)||4,activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"sessions"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Sessions before long break"})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,t.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,t.jsx)("strong",{children:"Schedule preview:"})," (",a.pomodoroWorkDuration,"min work â†’ ",a.pomodoroShortBreak,"min short break) Ã— ",a.pomodoroLongBreakInterval-1,", then ",a.pomodoroWorkDuration,"min work â†’"," ",a.pomodoroLongBreak,"min long break"]}),(0,t.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:["One cycle = ",a.pomodoroLongBreakInterval," work sessions, ",a.pomodoroLongBreakInterval-1," short breaks, 1 long break ="," ",a.pomodoroWorkDuration*a.pomodoroLongBreakInterval+a.pomodoroShortBreak*(a.pomodoroLongBreakInterval-1)+a.pomodoroLongBreak," ","minutes (",Math.round((a.pomodoroWorkDuration*a.pomodoroLongBreakInterval+a.pomodoroShortBreak*(a.pomodoroLongBreakInterval-1)+a.pomodoroLongBreak)/60*10)/10," ","hours)"]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"ğŸŒŠ"}),(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Flow"}),(0,t.jsx)(p.InfoTooltip,{content:et}),"flow"===a.schedulingTechnique&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 rounded-full",children:"Active"})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"A simplified version of Pomodoro with just work time, break, and context switching. Great for longer focus sessions like the 52/17 method or Ultradian rhythm cycles."}),x.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>{let r=a.activePresetId===e.id,s=!X.defaultGanttPresets.map(e=>e.id).includes(e.id);return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("button",{onClick:()=>i(e),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors flex items-center gap-1.5 ${r?"bg-cyan-500 text-white":"bg-white dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-600 border border-zinc-200 dark:border-zinc-600"}`,title:m(e),children:e.name}),s&&(0,t.jsx)("button",{onClick:()=>c(e.id),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Delete preset",children:"Ã—"})]},e.id)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Work Duration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"10",max:"120",step:"5",value:a.flowWorkDuration,onChange:e=>s({...a,flowWorkDuration:(0,A.getDurationMin)(parseInt(e.target.value)||52),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Focus time per session"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Break Duration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"5",max:"60",value:a.flowBreakDuration,onChange:e=>s({...a,flowBreakDuration:(0,A.getDurationMin)(parseInt(e.target.value)||17),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Rest between sessions"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Context Switch"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"30",value:a.flowContextSwitchingTime,onChange:e=>s({...a,flowContextSwitchingTime:(0,A.getDurationMin)(parseInt(e.target.value)||10),activePresetId:void 0}),className:"flex-1 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"min"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Buffer between tasks"})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:[(0,t.jsxs)("p",{className:"text-sm text-cyan-800 dark:text-cyan-200",children:[(0,t.jsx)("strong",{children:"Schedule preview:"})," ",a.flowWorkDuration,"min work â†’ ",a.flowBreakDuration,"min break â†’"," ",a.flowContextSwitchingTime,"min context switch"]}),(0,t.jsxs)("p",{className:"text-xs text-cyan-600 dark:text-cyan-300 mt-1",children:["One cycle = ",a.flowWorkDuration+a.flowBreakDuration+a.flowContextSwitchingTime," minutes (",Math.round((a.flowWorkDuration+a.flowBreakDuration+a.flowContextSwitchingTime)/60*10)/10," ","hours)"]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"View Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Timeline Zoom Level"}),(0,t.jsxs)("select",{value:a.zoomLevel||"1hour",onChange:e=>s({...a,zoomLevel:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"15min",children:"15 minutes"}),(0,t.jsx)("option",{value:"30min",children:"30 minutes"}),(0,t.jsx)("option",{value:"1hour",children:"1 hour"}),(0,t.jsx)("option",{value:"2hour",children:"2 hours"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Granularity of time markers"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Task Row Height"}),(0,t.jsxs)("select",{value:a.taskRowHeight||"normal",onChange:e=>s({...a,taskRowHeight:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"compact",children:"Compact (32px)"}),(0,t.jsx)("option",{value:"normal",children:"Normal (40px)"}),(0,t.jsx)("option",{value:"comfortable",children:"Comfortable (48px)"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Height of task bars"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-zinc-700 border border-zinc-200 dark:border-zinc-600 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-600 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==a.showWeekends,onChange:e=>s({...a,showWeekends:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Show Weekends"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Include Sat/Sun in week view"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-zinc-700 border border-zinc-200 dark:border-zinc-600 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-600 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==a.showDependencies,onChange:e=>s({...a,showDependencies:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Show Dependencies"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Draw arrows between tasks"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-zinc-700 border border-zinc-200 dark:border-zinc-600 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-600 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==a.showBufferZones,onChange:e=>s({...a,showBufferZones:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Show Buffer Zones"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Display buffer/overdue indicators"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-zinc-700 border border-zinc-200 dark:border-zinc-600 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-600 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==a.showNowLine,onChange:e=>s({...a,showNowLine:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Show Now Line"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Current time indicator"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-zinc-700 border border-zinc-200 dark:border-zinc-600 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-600 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:!0===a.collapseCompleted,onChange:e=>s({...a,collapseCompleted:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Collapse Completed"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Minimize completed tasks"})]})]})]})]})]})}var es=e.i(51710);let en=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Monthly calendar view of your tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Dots indicate tasks due on each day"}),(0,t.jsx)("li",{children:"â€¢ Click a day to see task details"}),(0,t.jsx)("li",{children:"â€¢ Navigate between months easily"}),(0,t.jsx)("li",{children:"â€¢ Quick overview of upcoming deadlines"})]})]});function ea(){let{settings:e,isLoaded:r,updateCalendar:s}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let a=e.calendar;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(g,{title:"Calendar Settings",tooltip:en,description:"Configure calendar view display options and task appearance.",action:{label:"Reset to Defaults",onClick:()=>s(es.defaultCalendar)}}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"View Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Week Start Day"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Choose which day the week starts on"})]}),(0,t.jsxs)("select",{value:a.weekStartDay,onChange:e=>s({weekStartDay:(0,A.getWeekday)(Number(e.target.value))}),className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:0,children:"Sunday"}),(0,t.jsx)("option",{value:1,children:"Monday"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Default View"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"The view shown when opening the calendar"})]}),(0,t.jsxs)("select",{value:a.defaultView,onChange:e=>s({defaultView:e.target.value}),className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"month",children:"Month"}),(0,t.jsx)("option",{value:"week",children:"Week"}),(0,t.jsx)("option",{value:"agenda",children:"Agenda"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Show Week Numbers"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Display week numbers in the calendar sidebar"})]}),(0,t.jsx)("button",{onClick:()=>s({showWeekNumbers:!a.showWeekNumbers}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a.showWeekNumbers?"bg-blue-600":"bg-zinc-300 dark:bg-zinc-600"}`,role:"switch","aria-checked":a.showWeekNumbers,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showWeekNumbers?"translate-x-6":"translate-x-1"}`})})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Task Display"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Dot Color Based On"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"How to color the task indicator dots"})]}),(0,t.jsxs)("select",{value:a.dotColorBy,onChange:e=>s({dotColorBy:e.target.value}),className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"state",children:"Task State (Active/Completed)"}),(0,t.jsx)("option",{value:"priority",children:"Priority Level"}),(0,t.jsx)("option",{value:"project",children:"Project Color"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Maximum Dots Per Day"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:'How many task dots to show before showing "+X more"'})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:a.taskDotLimit,onChange:e=>s({taskDotLimit:Number(e.target.value)}),className:"w-24"}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 w-6 text-center",children:a.taskDotLimit})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Show Task Count Badge"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Display the number of tasks as a badge on each day"})]}),(0,t.jsx)("button",{onClick:()=>s({showTaskCount:!a.showTaskCount}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a.showTaskCount?"bg-blue-600":"bg-zinc-300 dark:bg-zinc-600"}`,role:"switch","aria-checked":a.showTaskCount,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showTaskCount?"translate-x-6":"translate-x-1"}`})})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Indicators"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Highlight Overdue Tasks"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Show visual indicator for tasks past their due date"})]}),(0,t.jsx)("button",{onClick:()=>s({showOverdueBadge:!a.showOverdueBadge}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a.showOverdueBadge?"bg-blue-600":"bg-zinc-300 dark:bg-zinc-600"}`,role:"switch","aria-checked":a.showOverdueBadge,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showOverdueBadge?"translate-x-6":"translate-x-1"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Show Recurring Indicator"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Display a symbol for tasks that repeat"})]}),(0,t.jsx)("button",{onClick:()=>s({showRecurringIndicator:!a.showRecurringIndicator}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a.showRecurringIndicator?"bg-blue-600":"bg-zinc-300 dark:bg-zinc-600"}`,role:"switch","aria-checked":a.showRecurringIndicator,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showRecurringIndicator?"translate-x-6":"translate-x-1"}`})})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Preview"}),(0,t.jsx)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Dots:"}),(0,t.jsxs)("div",{className:"flex gap-0.5 items-center",children:[Array.from({length:a.taskDotLimit}).map((e,r)=>(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${(()=>{if("project"===a.dotColorBy)return"bg-purple-500";if("priority"===a.dotColorBy){let e=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500"];return e[Math.min(r,e.length-1)]}let e=["bg-blue-500","bg-blue-500","bg-green-500","bg-green-500","bg-zinc-400"];return e[Math.min(r,e.length-1)]})()}`},r)),(0,t.jsx)("span",{className:"text-xs text-zinc-500 ml-0.5",children:"+2"})]})]}),a.showTaskCount&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Count badge:"}),(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-blue-600 rounded-full",children:a.taskDotLimit+2})]}),a.showOverdueBadge&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Overdue:"}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium text-red-700 bg-red-100 dark:bg-red-900/30 dark:text-red-400 rounded",children:[(0,t.jsx)(l.WarningSolidIcon,{className:"w-3 h-3"}),"2"]})]}),a.showRecurringIndicator&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Recurring:"}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",children:[(0,t.jsx)(l.RefreshIcon,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"2"})]})]})]})})]})]})}var ei=e.i(432),ec=e.i(64672),el=e.i(24749),ed=e.i(18578);let eo=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Workflow columns for the Kanban board."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Drag tasks between states"}),(0,t.jsx)("li",{children:'â€¢ "Backlog", "Completed", and "Archived" are system states'}),(0,t.jsx)("li",{children:"â€¢ Set WIP (Work-In-Progress) limits on non-system states"}),(0,t.jsx)("li",{children:"â€¢ Columns turn red when over WIP limit"}),(0,t.jsx)("li",{children:"â€¢ Configure allowed transitions"})]})]}),ex=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Define allowed state-to-state transitions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Control which states can move to others"}),(0,t.jsx)("li",{children:"â€¢ Prevents invalid workflow jumps"}),(0,t.jsx)("li",{children:"â€¢ Check = transition allowed"})]})]}),em=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Create filtered views of your Kanban board."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Show only selected states"}),(0,t.jsx)("li",{children:'â€¢ Create views like "Active Work" or "Done"'}),(0,t.jsx)("li",{children:"â€¢ Set a default view"})]})]}),eu=["ğŸ“‹","ğŸ“","ğŸ”„","ğŸ‘€","âœ…","ğŸ“¦","ğŸš€","â³","ğŸ¯","ğŸ’¡","ğŸ”¥","â­","ğŸ·ï¸","ğŸ“Œ"];function eh(){let{settings:e,isLoaded:s,updateKanbanSettings:i}=(0,n.useSettings)(),[c,l]=(0,r.useState)("states"),[d,o]=(0,r.useState)(null),[x,m]=(0,r.useState)(null),[u,k]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[z,v]=(0,r.useState)(""),[N,y]=(0,r.useState)("#6366f1"),[w,S]=(0,r.useState)("ğŸ“‹"),[C,D]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[B,A]=(0,r.useState)([]);if(!s)return(0,t.jsx)(b,{});let L=e.kanban,P=(e,t)=>{let r=[...L.states],s=r.findIndex(t=>t.id===e);if(-1===s)return;let n="up"===t?s-1:s+1;if(n<0||n>=r.length)return;[r[s],r[n]]=[r[n],r[s]];let a=r.map((e,t)=>({...e,order:t}));i({...L,states:a})},E=e=>{i({...L,[e]:!L[e]})},M=[...L.states].sort((e,t)=>e.order-t.order);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Kanban Board Settings",tooltip:eo,description:"Configure workflow states, transitions, and views for your Kanban board.",action:{label:"Reset to Defaults",onClick:()=>{i({...L,states:ei.defaultKanbanStates,allowedTransitions:ec.defaultKanbanTransitions,views:el.defaultKanbanViews,activeViewId:"all"})}}}),(0,t.jsxs)("div",{className:"flex gap-1 border-b border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("button",{onClick:()=>l("states"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${"states"===c?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:["Workflow States",(0,t.jsx)(p.InfoTooltip,{content:eo,asSpan:!0})]}),(0,t.jsxs)("button",{onClick:()=>l("transitions"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${"transitions"===c?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:["Transitions",(0,t.jsx)(p.InfoTooltip,{content:ex,asSpan:!0})]}),(0,t.jsxs)("button",{onClick:()=>l("views"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${"views"===c?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:["Views",(0,t.jsx)(p.InfoTooltip,{content:em,asSpan:!0})]})]}),"states"===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Define the workflow states for your Kanban board. System states (Completed, Archived) cannot be deleted."}),!u&&(0,t.jsx)("button",{onClick:()=>k(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition-colors",children:"Add State"})]}),u&&(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"State Name"}),(0,t.jsx)("input",{type:"text",value:z,onChange:e=>v(e.target.value),placeholder:"e.g., In Review",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Color"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"color",value:N,onChange:e=>y(e.target.value),className:"w-12 h-10 rounded-lg cursor-pointer border border-zinc-300 dark:border-zinc-700"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>y(e.target.value),className:"flex-1 px-3 py-2 text-sm rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"#6366f1"})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Icon"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:eu.map(e=>(0,t.jsx)("button",{onClick:()=>S(e),className:`w-8 h-8 text-lg rounded ${w===e?"bg-blue-100 dark:bg-blue-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{if(""===z.trim())return;let e={id:ed.SettingsModel.createKanbanStateId(),name:z.trim(),color:(0,a.getColor)(N),icon:w,order:L.states.length};i({...L,states:[...L.states,e]}),v(""),y("#6366f1"),S("ğŸ“‹"),k(!1)},disabled:!z.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:"Add State"}),(0,t.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:M.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsx)("button",{onClick:()=>P(e.id,"up"),disabled:0===r,className:"p-0.5 text-zinc-400 hover:text-zinc-600 disabled:opacity-30",children:"â–²"}),(0,t.jsx)("button",{onClick:()=>P(e.id,"down"),disabled:r===M.length-1,className:"p-0.5 text-zinc-400 hover:text-zinc-600 disabled:opacity-30",children:"â–¼"})]}),(0,t.jsx)("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsx)("span",{className:"flex-1 font-medium text-zinc-900 dark:text-zinc-100",children:e.name}),!e.isSystem&&void 0!==e.wipLimit&&e.wipLimit>0&&(0,t.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded",children:["WIP: ",e.wipLimit]}),e.isSystem&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-zinc-200 dark:bg-zinc-700 text-zinc-600 dark:text-zinc-400 rounded",children:"System"}),e.mapsToTodoState&&(0,t.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded",children:["â†’ ",e.mapsToTodoState]}),!e.isSystem&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{icon:"edit",onClick:()=>o(e)}),(0,t.jsx)(h,{icon:"delete",onClick:()=>{var t;let r;return t=e.id,r=L.states.find(e=>e.id===t),void(!r?.isSystem&&i({...L,states:L.states.filter(e=>e.id!==t),allowedTransitions:L.allowedTransitions.filter(e=>e.fromStateId!==t&&e.toStateId!==t),views:L.views.map(e=>({...e,stateIds:e.stateIds.filter(e=>e!==t)}))}))}})]})]},e.id))}),d&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 max-w-md w-full mx-4 space-y-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Edit State"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:d.name,onChange:e=>o({...d,name:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Color"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"color",value:d.color,onChange:e=>o({...d,color:(0,a.getColor)(e.target.value)}),className:"w-12 h-10 rounded-lg cursor-pointer border border-zinc-300 dark:border-zinc-700"}),(0,t.jsx)("input",{type:"text",value:d.color,onChange:e=>o({...d,color:(0,a.getColor)(e.target.value)}),className:"flex-1 px-3 py-2 text-sm rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"#6366f1"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Icon"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:eu.map(e=>(0,t.jsx)("button",{onClick:()=>o({...d,icon:e}),className:`w-8 h-8 text-lg rounded ${d.icon===e?"bg-blue-100 dark:bg-blue-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:e},e))})]}),!d.isSystem&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"WIP Limit (Work-In-Progress)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0",value:d.wipLimit??"",onChange:e=>o({...d,wipLimit:e.target.value?parseInt(e.target.value,10):void 0}),placeholder:"No limit",className:"w-24 px-3 py-2 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"}),(0,t.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Leave empty for no limit"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 text-sm text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{i({...L,states:L.states.map(e=>e.id===d.id?d:e)}),o(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Save"})]})]})})]}),"transitions"===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Define which state transitions are allowed. Click a cell to toggle the transition."}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-2 text-left text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"From â†“ / To â†’"}),M.map(e=>(0,t.jsx)("th",{className:"p-2 text-center text-sm font-medium text-zinc-600 dark:text-zinc-400",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{className:"text-xs",children:e.name})]})},e.id))]})}),(0,t.jsx)("tbody",{children:M.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"p-2 text-sm font-medium text-zinc-900 dark:text-zinc-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.name})]})}),M.map(r=>{let s=L.allowedTransitions.some(t=>t.fromStateId===e.id&&t.toStateId===r.id),n=e.id===r.id;return(0,t.jsx)("td",{className:"p-2 text-center",children:n?(0,t.jsx)("span",{className:"text-zinc-300 dark:text-zinc-600",children:"â€”"}):(0,t.jsx)("button",{onClick:()=>{var t,s;return t=e.id,s=r.id,void(L.allowedTransitions.some(e=>e.fromStateId===t&&e.toStateId===s)?i({...L,allowedTransitions:L.allowedTransitions.filter(e=>e.fromStateId!==t||e.toStateId!==s)}):i({...L,allowedTransitions:[...L.allowedTransitions,{fromStateId:(0,ei.getKanbanStateId)(t),toStateId:(0,ei.getKanbanStateId)(s)}]}))},className:`w-8 h-8 rounded-md transition-colors ${s?"bg-green-500 text-white":"bg-zinc-200 dark:bg-zinc-700 text-zinc-400"}`,children:s?"âœ“":""})},r.id)})]},e.id))})]})}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded bg-green-500"}),(0,t.jsx)("span",{children:"Allowed"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded bg-zinc-200 dark:bg-zinc-700"}),(0,t.jsx)("span",{children:"Not Allowed"})]})]})]}),"views"===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Create views to show specific combinations of workflow states."}),!f&&(0,t.jsx)("button",{onClick:()=>j(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition-colors",children:"Add View"})]}),f&&(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"View Name"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>D(e.target.value),placeholder:"e.g., Daily Standup",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Description (optional)"}),(0,t.jsx)("input",{type:"text",value:T,onChange:e=>I(e.target.value),placeholder:"e.g., Tasks currently in progress",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Include States"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(e=>(0,t.jsxs)("button",{onClick:()=>{B.includes(e.id)?A(B.filter(t=>t!==e.id)):A([...B,e.id])},className:`px-3 py-1.5 rounded-full text-sm flex items-center gap-1.5 transition-colors ${B.includes(e.id)?"text-white":"bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300"}`,style:B.includes(e.id)?{backgroundColor:e.color}:void 0,children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.name})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{if(!C.trim()||0===B.length)return;let e={id:ed.SettingsModel.createKanbanViewId(),name:C.trim(),description:T.trim()||void 0,stateIds:B.map(ei.getKanbanStateId)};i({...L,views:[...L.views,e]}),D(""),I(""),A([]),j(!1)},disabled:!C.trim()||0===B.length,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:"Add View"}),(0,t.jsx)("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:L.views.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:e.name}),e.isDefault&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded",children:"Default"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!e.isDefault&&(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void i({...L,views:L.views.map(e=>({...e,isDefault:e.id===t}))})},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Set as Default"}),(0,t.jsx)(h,{icon:"edit",onClick:()=>m(e)}),L.views.length>1&&(0,t.jsx)(h,{icon:"delete",onClick:()=>{var t;return t=e.id,void(!(L.views.length<=1)&&i({...L,views:L.views.filter(e=>e.id!==t),activeViewId:L.activeViewId===t?L.views[0].id:L.activeViewId}))}})]})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:e.description}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.stateIds.map(e=>{let r=L.states.find(t=>t.id===e);return r?(0,t.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs text-white flex items-center gap-1",style:{backgroundColor:r.color},children:[(0,t.jsx)("span",{children:r.icon}),(0,t.jsx)("span",{children:r.name})]},e):null})})]},e.id))}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 max-w-md w-full mx-4 space-y-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Edit View"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:x.name,onChange:e=>m({...x,name:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:x.description||"",onChange:e=>m({...x,description:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Include States"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(e=>(0,t.jsxs)("button",{onClick:()=>{x.stateIds.includes(e.id)?m({...x,stateIds:x.stateIds.filter(t=>t!==e.id)}):m({...x,stateIds:[...x.stateIds,e.id]})},className:`px-3 py-1.5 rounded-full text-sm flex items-center gap-1.5 transition-colors ${x.stateIds.includes(e.id)?"text-white":"bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300"}`,style:x.stateIds.includes(e.id)?{backgroundColor:e.color}:void 0,children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.name})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>m(null),className:"px-4 py-2 text-sm text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{i({...L,views:L.views.map(e=>e.id===x.id?x:e)}),m(null)},disabled:0===x.stateIds.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"Save"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Display Options"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.showEmptyColumns,onChange:()=>E("showEmptyColumns"),className:"w-4 h-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Show empty columns"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.showTaskCount,onChange:()=>E("showTaskCount"),className:"w-4 h-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Show task count in column headers"})]})]})]})}let eb=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Time-boxed periods for agile planning."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create sprints with goals and dates"}),(0,t.jsx)("li",{children:"â€¢ Assign tasks to sprints"}),(0,t.jsx)("li",{children:"â€¢ Filter Kanban by sprint"}),(0,t.jsx)("li",{children:"â€¢ Track sprint progress"})]})]});function ep(){let{settings:e,isLoaded:r,updateSprintSettings:s}=(0,n.useSettings)();if(!r)return(0,t.jsx)(b,{});let a=e.sprints;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Sprint Settings",tooltip:eb,description:"Configure default settings for sprints. Manage individual sprints in the Sprints tab on the main view.",action:{label:"Reset to Defaults",onClick:()=>s(B.defaultSprintSettings)}}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Default Sprint Duration (days)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"90",value:a.defaultSprintDuration,onChange:e=>s({...a,defaultSprintDuration:(0,A.getDurationDay)(parseInt(e.target.value)||14)}),className:"w-full max-w-xs px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"New sprints will default to this duration (typically 7-14 days for Scrum)"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"showBacklogInSprint",checked:a.showBacklogInSprint,onChange:e=>s({...a,showBacklogInSprint:e.target.checked}),className:"h-4 w-4 mt-0.5 rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"showBacklogInSprint",className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Show backlog items in sprint view"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:'When enabled, tasks without a sprint assigned will appear in the Kanban "Backlog" filter'})]})]})]}),(0,t.jsx)(N,{title:"Managing Sprints",children:(0,t.jsxs)("p",{children:["To create, start, complete, or archive sprints, go to the ",(0,t.jsx)("strong",{children:"Sprints"})," tab on the main view. The Sprints tab provides full sprint lifecycle management, including burndown charts and velocity tracking."]})})]})}var eg=e.i(91161);let ek=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Audio cues for Focus Mode transitions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ ğŸ¯ Task Start - begin work"}),(0,t.jsx)("li",{children:"â€¢ âœ… Task Complete - finished"}),(0,t.jsx)("li",{children:"â€¢ â˜• Short Break - quick rest"}),(0,t.jsx)("li",{children:"â€¢ ğŸ§˜ Long Break - extended rest"}),(0,t.jsx)("li",{children:"â€¢ â° Break End - back to work"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"3 second delay between sounds for natural flow."})]}),ef=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Background sounds for focus sessions."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Choose different sounds for work & breaks"}),(0,t.jsx)("li",{children:"â€¢ Rain, nature, city ambiance, and more"}),(0,t.jsx)("li",{children:"â€¢ Sounds loop continuously"}),(0,t.jsx)("li",{children:"â€¢ Separate volume control"})]}),(0,t.jsx)("p",{className:"text-zinc-400 dark:text-zinc-600 pt-1",children:"Only plays during active Focus Mode."})]});function ej(){let{settings:e,isLoaded:s,updateFocusSettings:a}=(0,n.useSettings)(),[i,c]=(0,r.useState)(null);if((0,r.useEffect)(()=>()=>{(0,eg.stopAmbientSound)()},[]),!s)return(0,t.jsx)(b,{});let d=e.focus,o=e=>{if(i===e)(0,eg.stopAmbientSound)(),c(null);else{let t=eg.AMBIENT_SOUNDS.find(t=>t.id===e);t&&((0,eg.playAmbientSound)(t.file,d.ambientVolume),c(e))}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Focus Mode Settings",description:"Configure timer behavior, sounds, and time tracking for Focus Mode.",action:{label:"Reset to Defaults",onClick:()=>{a(B.defaultFocusSettings)}}}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["Transition Confirmation",(0,t.jsx)(p.InfoTooltip,{content:"When enabled, the timer pauses between work and break phases until you confirm. Reminder sounds will repeat until you acknowledge the transition."})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Pause and wait for confirmation when transitioning between work and break phases."})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.requireConfirmation,onChange:e=>a({...d,requireConfirmation:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),d.requireConfirmation&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2 border-t border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Reminder Interval"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"10",max:"120",step:"5",value:d.confirmationRepeatInterval,onChange:e=>a({...d,confirmationRepeatInterval:(0,A.getDurationSec)(parseInt(e.target.value)||30)}),className:"w-24 px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"seconds"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"How often to repeat the notification sound"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Max Repeats"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"20",step:"1",value:d.confirmationMaxRepeats,onChange:e=>a({...d,confirmationMaxRepeats:parseInt(e.target.value)||0}),className:"w-24 px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"times"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"0 = infinite (never auto-proceed)"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["Auto Time Tracking",(0,t.jsx)(p.InfoTooltip,{content:"Automatically track time spent on each task while in Focus Mode. Time tracking starts when you begin a task and stops when you complete or pause it."})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Automatically start/stop time tracking when working on tasks."})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.autoTimeTracking,onChange:e=>a({...d,autoTimeTracking:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Compare Actual vs Estimated Time"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Record how long tasks actually took compared to estimated duration"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.trackActualVsEstimated,onChange:e=>a({...d,trackActualVsEstimated:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["Timer Controls",(0,t.jsx)(p.InfoTooltip,{content:"Configure options for extending task time and completing tasks early. Extend time if your estimate was too short, or complete early if you finish ahead of schedule."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Default Extend Time"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"1",max:"60",step:"1",value:d.defaultExtendMinutes,onChange:e=>a({...d,defaultExtendMinutes:(0,A.getDurationMin)(parseInt(e.target.value)||5)}),className:"w-24 px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"minutes"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Time added when using quick extend"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Early Complete Prompt"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Ask to record actual time when completing early"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.showEarlyCompletePrompt,onChange:e=>a({...d,showEarlyCompletePrompt:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Use Tracked Time for Duration"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Subtract already-tracked time from task duration (shows remaining time)"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==d.useTrackedTimeForDuration,onChange:e=>a({...d,useTrackedTimeForDuration:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Auto-Extend on Overtime"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Automatically extend duration when tracked time exceeds estimate"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1!==d.autoExtendOnOvertime,onChange:e=>a({...d,autoExtendOnOvertime:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Quick Extend Options"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[d.extendOptions.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-white dark:bg-zinc-700 border border-zinc-300 dark:border-zinc-600 rounded-md",children:[(0,t.jsx)("input",{type:"number",min:"1",max:"120",value:e,onChange:e=>{var t;let s,n;return t=parseInt(e.target.value)||5,(s=[...d.extendOptions])[r]=(0,A.getDurationMin)(t),n=[...new Set(s.filter(e=>e>0))].sort((e,t)=>e-t),void a({...d,extendOptions:n})},className:"w-12 text-center bg-transparent text-zinc-900 dark:text-zinc-100 focus:outline-none"}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"m"}),d.extendOptions.length>1&&(0,t.jsx)("button",{onClick:()=>(e=>{if(d.extendOptions.length<=1)return;let t=d.extendOptions.filter((t,r)=>r!==e);a({...d,extendOptions:t})})(r),className:"ml-1 text-zinc-400 hover:text-red-500 transition-colors",children:(0,t.jsx)(l.CloseIcon,{className:"w-4 h-4"})})]},r)),(0,t.jsx)("button",{onClick:()=>{let e=(0,A.getDurationMin)(Math.max(...d.extendOptions)+5);a({...d,extendOptions:[...d.extendOptions,e].sort((e,t)=>e-t)})},className:"px-3 py-1.5 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",children:"+ Add"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-2",children:"Quick options shown in the extend menu during focus mode"})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["Notifications & Sound",(0,t.jsx)(p.InfoTooltip,{content:ek})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"ğŸ”” Browser Notifications"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Show browser notifications for breaks and task events"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.notificationsEnabled,onChange:e=>a({...d,notificationsEnabled:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"ğŸ”Š Sound Effects"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Play audio cues for task and break transitions"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.soundEnabled,onChange:e=>a({...d,soundEnabled:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),d.soundEnabled&&(0,t.jsxs)("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-700 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Volume"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.soundVolume,onChange:e=>a({...d,soundVolume:parseFloat(e.target.value)}),className:"flex-1 h-2 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400 w-12 text-right",children:[Math.round(100*d.soundVolume),"%"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Test Sounds"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>(0,eg.playNotificationSound)("task-start"),className:"px-3 py-1.5 text-xs rounded bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors",title:"Played when starting a new task",children:"ğŸ¯ Task Start"}),(0,t.jsx)("button",{type:"button",onClick:()=>(0,eg.playNotificationSound)("task-complete"),className:"px-3 py-1.5 text-xs rounded bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors",title:"Played when completing a task",children:"âœ… Task Complete"}),(0,t.jsx)("button",{type:"button",onClick:()=>(0,eg.playNotificationSound)("short-break"),className:"px-3 py-1.5 text-xs rounded bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 hover:bg-cyan-200 dark:hover:bg-cyan-800/50 transition-colors",title:"Played when a short break starts",children:"â˜• Short Break"}),(0,t.jsx)("button",{type:"button",onClick:()=>(0,eg.playNotificationSound)("long-break"),className:"px-3 py-1.5 text-xs rounded bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800/50 transition-colors",title:"Played when a long break starts",children:"ğŸ§˜ Long Break"}),(0,t.jsx)("button",{type:"button",onClick:()=>(0,eg.playNotificationSound)("break-end"),className:"px-3 py-1.5 text-xs rounded bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors",title:"Played when a break ends",children:"â° Break End"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-2",children:"Click to preview each sound effect"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["ğŸ§ Ambient Sounds",(0,t.jsx)(p.InfoTooltip,{content:ef})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Play background sounds during work and break periods."})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.ambientSoundEnabled,onChange:e=>a({...d,ambientSoundEnabled:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),d.ambientSoundEnabled&&(0,t.jsxs)("div",{className:"space-y-4 pt-2 border-t border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Ambient Volume"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.ambientVolume,onChange:e=>a({...d,ambientVolume:parseFloat(e.target.value)}),className:"flex-1 h-2 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400 w-12 text-right",children:[Math.round(100*d.ambientVolume),"%"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"ğŸ¯ Work Phase Sound"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{value:d.ambientWorkSound,onChange:e=>a({...d,ambientWorkSound:e.target.value}),className:"flex-1 px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100 text-sm",children:[(0,t.jsx)("option",{value:"",children:"None"}),eg.AMBIENT_SOUNDS.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),d.ambientWorkSound&&(0,t.jsx)("button",{type:"button",onClick:()=>o(d.ambientWorkSound),className:`px-3 py-2 text-sm rounded-md transition-colors ${i===d.ambientWorkSound?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/50"}`,children:i===d.ambientWorkSound?"â¹ Stop":"â–¶ Preview"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Plays during work sessions"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"â˜• Break Phase Sound"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{value:d.ambientBreakSound,onChange:e=>a({...d,ambientBreakSound:e.target.value}),className:"flex-1 px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100 text-sm",children:[(0,t.jsx)("option",{value:"",children:"None"}),eg.AMBIENT_SOUNDS.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),d.ambientBreakSound&&(0,t.jsx)("button",{type:"button",onClick:()=>o(d.ambientBreakSound),className:`px-3 py-2 text-sm rounded-md transition-colors ${i===d.ambientBreakSound?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/50"}`,children:i===d.ambientBreakSound?"â¹ Stop":"â–¶ Preview"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"Plays during short and long breaks"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Display Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Show Next Task Preview"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500",children:"Show upcoming task during breaks"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.showNextTask,onChange:e=>a({...d,showNextTask:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Show Session Statistics"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500",children:"Display tasks completed and time worked"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.showSessionStats,onChange:e=>a({...d,showSessionStats:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Show Keyboard Hints"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500",children:"Display keyboard shortcuts at bottom"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:d.showKeyboardHints,onChange:e=>a({...d,showKeyboardHints:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]})]})]})]})}var ez=e.i(7066),ev=e.i(86535);function eN({label:e,marker:s,value:n,badgeStyle:a,placeholder:i,items:c,onSelect:l,onClear:d,emptyMessage:o="No items found",allowCustomValue:x=!1,limit:m=30}){let[u,h]=(0,r.useState)(!1),[b,p]=(0,r.useState)(""),g=c.filter(e=>""===b||e.label.toLowerCase().includes(b.toLowerCase())).slice(0,m),k=e=>{l(e),p(""),h(!1)},f=()=>{h(!1),p("")};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:[e,s&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("code",{className:"text-xs bg-zinc-100 dark:bg-zinc-800 px-1 py-0.5 rounded",children:s})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[n&&(0,t.jsxs)("button",{onClick:d,className:"text-xs px-2 py-1 rounded border transition-colors hover:opacity-80",style:a,children:[s,n," âœ•"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>h(!u),className:"text-xs px-2 py-1 rounded border border-zinc-300 dark:border-zinc-600 bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors font-bold",children:n?"Change":"+"}),u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:f}),(0,t.jsxs)("div",{className:"absolute z-20 mt-1 w-64 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded shadow-lg",children:[(0,t.jsx)("input",{type:"text",value:b,onChange:e=>p(e.target.value),onKeyDown:e=>{if("Escape"===e.key)f();else if("Enter"===e.key&&x){e.preventDefault();let t=g.length>0?g[0].label:b.trim();t&&k(t)}},placeholder:i,autoFocus:!0,className:"w-full text-xs px-3 py-2 border-b border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none"}),(0,t.jsxs)("div",{className:"max-h-48 overflow-y-auto",children:[g.map(e=>(0,t.jsxs)("button",{onClick:()=>k(e.label),className:"w-full text-left text-xs px-3 py-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors",children:[s,e.label]},e.id)),0===g.length&&(0,t.jsx)("div",{className:"text-xs px-3 py-2 text-zinc-500 dark:text-zinc-400 italic",children:o})]})]})]})]})]})]})}let ey=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Default values for new tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Auto-assign person, project"}),(0,t.jsx)("li",{children:"â€¢ Default priority, due date"}),(0,t.jsx)("li",{children:"â€¢ Applied when not specified"})]})]});function ew(){let{people:e,isLoaded:r}=(0,ez.usePeople)(),{projects:s,isLoaded:a}=(0,ev.useProjects)(),{settings:i,isLoaded:c,updateAutoAssignSettings:l}=(0,n.useSettings)(),d=i.priorities,o=i.autoAssign,x=i.markerColors;if(!(r&&a&&c))return(0,t.jsx)(b,{});let m=e=>{let t=x[e],r=(0,V.getTextColor)(t);return{backgroundColor:t,color:r,borderColor:"#000000"===r?"rgba(0,0,0,0.2)":"rgba(255,255,255,0.3)"}},u=(e,t)=>{"enabled"!==e&&l({...o,[e]:t||void 0})},h=e.map(e=>({id:e.id,label:e.name})),p=s.map(e=>({id:e.id,label:e.name})),k=d.sort((e,t)=>e.order-t.order).map(e=>({id:e.id,label:e.name})),f=A.dueDateDefaultItems.map(e=>({id:e,label:e})),j=A.durationDefaultItems.map(e=>({id:e,label:e})),z=A.recurringDefaultItems.map(e=>({id:e,label:e}));return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Auto-Assign Metadata",tooltip:ey,description:"Automatically assign default values to new todos when markers are not explicitly provided.",action:{label:"Reset to Defaults",onClick:()=>l(B.defaultAutoAssignSettings)}}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(eN,{label:"Default Assigned Person",marker:"@",value:o.assignedPerson,badgeStyle:m("assigned"),placeholder:"Search people...",items:h,onSelect:e=>u("assignedPerson",e),onClear:()=>u("assignedPerson",""),emptyMessage:"No people found"}),(0,t.jsx)(eN,{label:"Default Source Person",marker:"$",value:o.sourcePerson,badgeStyle:m("source"),placeholder:"Search people...",items:h,onSelect:e=>u("sourcePerson",e),onClear:()=>u("sourcePerson",""),emptyMessage:"No people found"}),(0,t.jsx)(eN,{label:"Default Project",marker:"%",value:o.project,badgeStyle:m("project"),placeholder:"Search projects...",items:p,onSelect:e=>u("project",e),onClear:()=>u("project",""),emptyMessage:"No projects found"}),(0,t.jsx)(eN,{label:"Default Priority",marker:"!!",value:o.priority,badgeStyle:m("priority"),placeholder:"Search priorities...",items:k,onSelect:e=>u("priority",e),onClear:()=>u("priority",""),emptyMessage:"No priorities found"}),(0,t.jsx)(eN,{label:"Default Due Date",value:o.dueDate,badgeStyle:m("dueDate"),placeholder:"e.g., today, tomorrow, next week",items:f,onSelect:e=>u("dueDate",e),onClear:()=>u("dueDate",""),allowCustomValue:!0}),(0,t.jsx)(eN,{label:"Default Duration",value:o.duration,badgeStyle:m("duration"),placeholder:"e.g., 2h, 30m, 1d",items:j,onSelect:e=>u("duration",e),onClear:()=>u("duration",""),allowCustomValue:!0}),(0,t.jsx)(eN,{label:"Default Recurring",value:o.recurring,badgeStyle:m("recurring"),placeholder:"e.g., daily, weekly, every monday",items:z,onSelect:e=>u("recurring",e),onClear:()=>u("recurring",""),allowCustomValue:!0})]})}),(0,t.jsx)(N,{items:["Auto-assignment default values are applied only if markers are not provided","Explicitly provided markers always override auto-assignment defaults","Leave fields empty if you don't want automatic assignment for that metadata type"]})]})}var eS=e.i(98901),eC=e.i(51711);async function eD(){let e=[];try{let t=(0,eS.getStorageAdapter)(),r=await t.getAllKeys();for(let s of Array.isArray(r)?r:[])if(s&&s.startsWith(eC.BACKUP_KEY_PREFIX)){let r=await t.getItem(s),n="string"==typeof r?r:null;if(n)try{let t=JSON.parse(n);t.timestamp&&!isNaN(t.timestamp)&&t.timestamp>0&&e.push(t)}catch(e){console.warn(`Failed to parse backup ${s}:`,e)}}e.sort((e,t)=>t.timestamp-e.timestamp)}catch(e){console.error("Failed to load backups:",e)}return e}async function eT(e="manual"){try{let t=(0,eS.getStorageAdapter)(),r=await t.getItem(eS.STORAGE_KEYS.TODOS),s=await t.getItem(eS.STORAGE_KEYS.SETTINGS),n=new Date,a={timestamp:n.getTime(),date:n.toISOString(),todos:"string"==typeof r?r:JSON.stringify(r||[]),settings:"string"==typeof s?s:JSON.stringify(s||{}),source:e},i=`${eC.BACKUP_KEY_PREFIX}${n.getTime()}`;return await t.setItem(i,JSON.stringify(a)),!0}catch(e){return console.error("Failed to create backup:",e),!1}}async function eI(e){try{let t=(0,eS.getStorageAdapter)();return await t.setItem(eS.STORAGE_KEYS.TODOS,e.todos),await t.setItem(eS.STORAGE_KEYS.SETTINGS,e.settings),!0}catch(e){return console.error("Failed to restore backup:",e),!1}}async function eB(e){try{let t=(0,eS.getStorageAdapter)(),r=`${eC.BACKUP_KEY_PREFIX}${e}`;return await t.removeItem(r),!0}catch(e){return console.error("Failed to delete backup:",e),!1}}function eA(e){let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`doit-backup-${new Date(e.timestamp).toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}async function eL(){let e=(0,eS.getStorageAdapter)(),t=await e.getItem(eS.STORAGE_KEYS.TODOS),r=await e.getItem(eS.STORAGE_KEYS.SETTINGS),s=new Date;eA({timestamp:s.getTime(),date:s.toISOString(),todos:"string"==typeof t?t:JSON.stringify(t||[]),settings:"string"==typeof r?r:JSON.stringify(r||{}),source:"manual"})}var eP=e.i(51747),eE=e.i(91900);let eM=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Save and restore your data."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Export all data as JSON"}),(0,t.jsx)("li",{children:"â€¢ Restore from backup file"}),(0,t.jsx)("li",{children:"â€¢ Includes tasks, people, projects, settings"})]})]}),eO=e=>new Date(e).toLocaleString(),eF=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`;function e$(){let{backups:e,stats:s,backupSettings:a,isLoaded:i,isCreating:c,isImporting:d,fileInputRef:o,createBackup:x,restoreBackup:m,deleteBackup:u,exportBackup:p,exportCurrent:k,importFile:f,triggerFileInput:j,resetFileInput:z,updateSettings:v,resetToDefaults:y}=function(){let{settings:e,isLoaded:t,updateBackupSettings:s}=(0,n.useSettings)(),a=e.backup,[i,c]=(0,r.useState)([]),[l,d]=(0,r.useState)({count:0,totalSize:0,oldestDate:null,newestDate:null,lastAutoBackupDate:null}),[o,x]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),h=(0,r.useRef)(null),b=(0,r.useCallback)(async()=>{let e,t,r,n=await eD();c(n);let i=(e=n.reduce((e,t)=>e+("string"==typeof t.todos?t.todos.length:0)+("string"==typeof t.settings?t.settings.length:0),0),r=(t=n.filter(e=>"auto"===e.source)).length>0?new Date(t[0].timestamp).toISOString().split("T")[0]:null,{count:n.length,oldestDate:n.length>0?n[n.length-1].date:null,newestDate:n.length>0?n[0].date:null,totalSize:e,lastAutoBackupDate:r});d(i),i.lastAutoBackupDate&&a.lastBackupDate!==i.lastAutoBackupDate&&s({lastBackupDate:i.lastAutoBackupDate})},[a.lastBackupDate,s]);(0,r.useEffect)(()=>{t&&b()},[t,b]);let p=(0,r.useCallback)(async()=>{x(!0);try{let e=await eT("manual");return e&&await b(),e}catch(e){return console.error("Backup error:",e),!1}finally{x(!1)}},[b]),g=(0,r.useCallback)(async e=>await eI(e),[]),k=(0,r.useCallback)(async e=>{let t=await eB(e);return t&&await b(),t},[b]),f=(0,r.useCallback)(e=>{eA(e)},[]),j=(0,r.useCallback)(async()=>{await eL()},[]),z=(0,r.useCallback)(async e=>{u(!0);try{let t=await new Promise(t=>{let r=new FileReader;r.onload=e=>{try{let r=e.target?.result,s=JSON.parse(r);if(!s.timestamp||!s.date||!s.todos||!s.settings)return void t({success:!1,error:"Invalid backup file format"});let n=Date.now(),a={...s,uploadedAt:n,source:"imported"},i=`${eC.BACKUP_KEY_PREFIX}${s.timestamp}`;(0,eS.getStorageAdapter)().setItem(i,JSON.stringify(a)),t({success:!0})}catch(e){console.error("Failed to import backup:",e),t({success:!1,error:"Failed to parse backup file"})}},r.onerror=()=>{t({success:!1,error:"Failed to read file"})},r.readAsText(e)});return t.success&&await b(),t}catch(e){return console.error("Import error:",e),{success:!1,error:"An error occurred while importing the backup."}}finally{u(!1)}},[b]),v=(0,r.useCallback)(()=>{h.current?.click()},[]),N=(0,r.useCallback)(()=>{h.current&&(h.current.value="")},[]);return{backups:i,stats:l,backupSettings:a,isLoaded:t,isCreating:o,isImporting:m,fileInputRef:h,loadBackups:b,createBackup:p,restoreBackup:g,deleteBackup:k,exportBackup:f,exportCurrent:j,importFile:z,triggerFileInput:v,resetFileInput:N,updateSettings:(0,r.useCallback)(e=>{s(e)},[s]),resetToDefaults:(0,r.useCallback)(()=>{s({autoBackupEnabled:!0,retentionDays:30})},[s])}}(),{showSuccess:w,showError:S,NotificationComponent:C}=function(){let[e,s]=(0,r.useState)(null),n=(0,r.useCallback)((e,t)=>{s({message:e,type:t})},[]),a=(0,r.useCallback)(e=>{s({message:e,type:"success"})},[]),i=(0,r.useCallback)(e=>{s({message:e,type:"error"})},[]),c=(0,r.useCallback)(e=>{s({message:e,type:"warning"})},[]),l=(0,r.useCallback)(e=>{s({message:e,type:"info"})},[]),d=(0,r.useCallback)(()=>{s(null)},[]),o=e?(0,t.jsx)(eP.Notification,{message:e.message,type:e.type,onClose:d}):null;return{showNotification:n,showSuccess:a,showError:i,showWarning:c,showInfo:l,hideNotification:d,NotificationComponent:o}}(),{showConfirmDialog:D,ConfirmDialogComponent:T}=(0,eE.useConfirmDialog)();if(!i)return(0,t.jsx)(b,{});let I=async()=>{await x()?w("Backup created successfully!"):S("Failed to create backup. Please try again.")},B=async e=>{let t=e.target.files?.[0];if(!t)return;let r=await f(t);r.success?w("Backup imported successfully!"):S(`Failed to import backup: ${r.error||"Unknown error"}`),z()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Backup & Restore",tooltip:eM,description:"Automatically back up your data and restore from previous backups. Backups are stored locally in your browser.",action:{label:"Reset to Defaults",onClick:y}}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Auto-Backup Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.autoBackupEnabled,onChange:e=>v({autoBackupEnabled:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Enable Auto-Backup"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Automatically create a daily backup when you use the app"})]})]}),a.autoBackupEnabled&&(0,t.jsxs)("div",{className:"ml-7",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Keep Backups For"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"number",min:"1",max:"365",value:a.retentionDays,onChange:e=>v({retentionDays:parseInt(e.target.value)||1}),className:"w-24 px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"days"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Backups older than this will be automatically deleted"})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{className:"font-medium",children:"Last Auto-Backup:"})," ",a.lastBackupDate?new Date(a.lastBackupDate).toLocaleDateString():"Never"]})})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Manual Actions"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:"Create a backup of your current data at any time."}),(0,t.jsx)("button",{onClick:I,disabled:c,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-zinc-400 text-white rounded-lg font-medium transition-colors",children:c?"Creating...":"Create Backup Now"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:"Export your current data as a JSON file to save offline."}),(0,t.jsx)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Export Current Data"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:"Import a backup file from your computer. It will be added to your backup list."}),(0,t.jsx)("input",{ref:o,type:"file",accept:".json,application/json",onChange:B,className:"hidden"}),(0,t.jsx)("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-zinc-400 text-white rounded-lg font-medium transition-colors",children:d?"Importing...":"Import Backup File"})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(l.ChartBarIcon,{className:"w-4 h-4"})," Backup Statistics"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm text-blue-800 dark:text-blue-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Total Backups:"})," ",s.count]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Total Size:"})," ",eF(s.totalSize)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Oldest:"})," ",s.oldestDate?new Date(s.oldestDate).toLocaleDateString():"N/A"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Newest:"})," ",s.newestDate?new Date(s.newestDate).toLocaleDateString():"N/A"]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Available Backups"}),0===e.length?(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 text-center py-8",children:"No backups available. Create your first backup above."}):(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(e=>(0,t.jsx)("div",{className:"group bg-white dark:bg-zinc-900 p-4 rounded-lg shadow-sm border transition-all hover:shadow-md border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:eO(e.timestamp)}),(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400",children:"auto"===e.source?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(l.ClockIcon,{className:"w-3 h-3"})," Auto"]}):"imported"===e.source?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(l.UploadIcon,{className:"w-3 h-3"})," Imported"]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(l.EditIcon,{className:"w-3 h-3"})," Manual"]})})]}),(0,t.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1 space-y-0.5",children:[(0,t.jsxs)("div",{children:["Size: ",eF((e.todos?.length||0)+(e.settings?.length||0))]}),e.uploadedAt&&(0,t.jsxs)("div",{children:["Uploaded: ",eO(e.uploadedAt)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h,{icon:"restore",onClick:()=>{D({title:"Restore Backup",message:`Are you sure you want to restore the backup from ${new Date(e.timestamp).toLocaleString()}?

This will replace all current data. Consider creating a backup first!`,confirmText:"Restore",confirmVariant:"danger",onConfirm:async()=>{await m(e)?(w("Backup restored successfully! The page will reload."),setTimeout(()=>window.location.reload(),1e3)):S("Failed to restore backup. Please try again.")}})}}),(0,t.jsx)(h,{icon:"download",onClick:()=>p(e),title:"Export"}),(0,t.jsx)(h,{icon:"delete",onClick:()=>{var t;return t=e.timestamp,void D({title:"Delete Backup",message:"Are you sure you want to delete this backup? This action cannot be undone.",confirmText:"Delete",confirmVariant:"danger",onConfirm:async()=>{await u(t)?w("Backup deleted successfully."):S("Failed to delete backup. Please try again.")}})}})]})]})},e.timestamp))})]}),(0,t.jsx)(N,{title:"Important Notes",variant:"warning",items:["Backups are stored in your browser's local storage","Clearing browser data will delete all backups","Export backups to save them outside the browser","Restoring a backup will replace all current data"]}),C,T]})}let eW=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Where your data is stored."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ IndexedDB (preferred, larger capacity)"}),(0,t.jsx)("li",{children:"â€¢ LocalStorage (fallback)"}),(0,t.jsx)("li",{children:"â€¢ Data stays in your browser"}),(0,t.jsx)("li",{children:"â€¢ Use Backup for data portability"})]})]});function eR(){let[e,s]=(0,r.useState)([]),[n,a]=(0,r.useState)(0),[i,c]=(0,r.useState)(0),[d,o]=(0,r.useState)("fallback"),[x,m]=(0,r.useState)("localStorage"),[u,h]=(0,r.useState)("current"),[b,p]=(0,r.useState)(!1),[k,f]=(0,r.useState)(null),[j,z]=(0,r.useState)(!0),[v,N]=(0,r.useState)(!1),[y,w]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),D=async e=>{let t=e||(0,eS.getStorageType)();m(t);let r=await (0,eS.estimateStorageQuota)(t);c(r.available),o(r.detectionMethod),await T(t)};(0,r.useEffect)(()=>{(async()=>{z(await (0,eS.isIndexedDBAvailable)()),await D()})()},[]);let T=async e=>{let t=[],r=0,n={[eS.STORAGE_KEYS.TODOS]:{label:"Todos",color:"#3b82f6"},[eS.STORAGE_KEYS.PEOPLE]:{label:"People",color:"#10b981"},[eS.STORAGE_KEYS.PROJECTS]:{label:"Projects",color:"#8b5cf6"},[eS.STORAGE_KEYS.SETTINGS]:{label:"Settings",color:"#f59e0b"},[eS.STORAGE_KEYS.VERSION]:{label:"Version",color:"#6b7280"}},i=(0,eS.getStorageAdapter)();for(let[e,s]of Object.entries(n))try{let n=await i.getItem(e);if(n){let a=new Blob([n]).size;t.push({key:e,size:a,label:s.label,color:s.color}),r+=a}}catch(t){console.error(`Failed to get size for ${e}:`,t)}let c=0;for(let e of(await i.getAllKeys()))if(e&&e.startsWith("doit-backup-")&&"doit-backup-settings"!==e)try{let t=await i.getItem(e);t&&(c+=new Blob([t]).size)}catch(t){console.error(`Failed to get size for backup ${e}:`,t)}if(c>0&&(t.push({key:"backups",size:c,label:"Backups",color:"#ec4899"}),r+=c),"localStorage"===e){let e=0;for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);if(r&&!r.startsWith("doit-")){let t=localStorage.getItem(r);t&&(e+=new Blob([t]).size)}}e>0&&(t.push({key:"other",size:e,label:"Other",color:"#94a3b8"}),r+=e)}s(t.sort((e,t)=>t.size-e.size)),a(r)},I=e=>{if(0===e)return"0 Bytes";let t=["Bytes","KB","MB","GB","TB"],r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1);return`${parseFloat((e/Math.pow(1024,r)).toFixed(2))} ${t[r]}`},B=n/i*100,A=async()=>{if(!j)return;p(!0),f("Migrating to IndexedDB...");let e=await (0,eS.migrateToIndexedDB)();e.success?(f(`Successfully migrated ${e.migratedCount} items to IndexedDB. Please reload the page.`),await D("indexedDB")):f("Migration failed. Please try again."),p(!1)},L=async()=>{p(!0),f("Migrating to localStorage...");let e=await (0,eS.migrateToLocalStorage)();e.success?(f(`Successfully migrated ${e.migratedCount} items to localStorage. Please reload the page.`),await D("localStorage")):f("Migration failed. Please try again."),p(!1)},P=async()=>{"DELETE ALL DATA"!==y||(C(!0),await (0,eS.clearAllAppData)()?(N(!1),w(""),window.location.reload()):alert("Failed to clear data. Please try again."),C(!1))};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Storage",tooltip:eW,description:(0,t.jsxs)(t.Fragment,{children:["Using"," ",(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"indexedDB"===x?"IndexedDB":"localStorage"})]}),action:{label:"Refresh",onClick:()=>D(),variant:"subtle"}}),(0,t.jsxs)("div",{className:"flex border-b border-zinc-200 dark:border-zinc-700",children:[(0,t.jsx)("button",{onClick:()=>h("current"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"current"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:"Current Storage"}),(0,t.jsx)("button",{onClick:()=>h("switch"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"switch"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:"Switch Storage"})]}),"current"===u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:["View your ","indexedDB"===x?"IndexedDB":"local"," storage usage. This shows how much browser storage is being used by Doit."]}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"h-12 w-full bg-zinc-100 dark:bg-zinc-800 rounded-lg overflow-hidden flex",children:e.map((e,r)=>{let s=e.size/i*100;return s<.5?null:(0,t.jsx)("div",{style:{width:`${s}%`,backgroundColor:e.color},className:"relative group transition-all",title:`${e.label}: ${I(e.size)}`,children:(0,t.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,t.jsxs)("div",{className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 text-xs px-2 py-1 rounded whitespace-nowrap",children:[e.label,": ",I(e.size)]})})},e.key)})})}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsxs)("div",{className:"text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:I(n)})," used of"," ",(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:I(i)})]}),(0,t.jsxs)("div",{className:"text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:I(i-n)})," ","available"]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsx)("span",{className:`text-xs font-medium ${(()=>{switch(d){case"api":return"text-green-600 dark:text-green-400";case"fallback":return"text-amber-600 dark:text-amber-400"}})()}`,children:(()=>{switch(d){case"api":return"Detected via Storage API";case"fallback":return"indexedDB"===x?"Conservative estimate (50MB)":"Conservative estimate (5MB)"}})()})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:[B.toFixed(1),"%"]}),(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400 ml-1",children:"used"})]})]})}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Storage Breakdown"}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>{let r=e.size/i*100;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:e.label})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400 min-w-[80px] text-right",children:I(e.size)}),(0,t.jsxs)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400 min-w-[60px] text-right",children:[r.toFixed(1),"%"]})]})]},e.key)})})]}),B>80&&(0,t.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"Storage Almost Full"}),(0,t.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:["Your local storage is ",B.toFixed(0),"% full. Consider deleting old backups or archived todos to free up space."]})]})]})}),(0,t.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:["About ","indexedDB"===x?"IndexedDB":"Local Storage"]}),(0,t.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"indexedDB"===x?(0,t.jsxs)(t.Fragment,{children:["IndexedDB provides significantly more storage capacity (typically 50MB-1GB+) compared to localStorage.","api"===d&&" Storage limit detected using browser's Storage API. ","fallback"===d&&" Using conservative 50MB estimate. Actual limit may be much higher. ","Your data is stored locally on this device and is not synced across browsers or devices."]}):(0,t.jsxs)(t.Fragment,{children:["api"===d&&"Storage limit detected using browser's Storage API. ","fallback"===d&&"Using conservative 5MB estimate. Actual limit may be higher. ","This data is stored locally on your device and is not synced across browsers or devices."]})})]})]})}),(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-red-900 dark:text-red-100 mb-1",children:"Danger Zone"}),(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200 mb-3",children:"Clear all app data including todos, people, projects, settings, and backups. This action cannot be undone."}),v?(0,t.jsxs)("div",{className:"space-y-3 bg-red-100 dark:bg-red-900/30 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-900 dark:text-red-100",children:[(0,t.jsx)(l.WarningTriangleIcon,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"Are you absolutely sure?"})]}),(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"This will permanently delete:"}),(0,t.jsxs)("ul",{className:"text-sm text-red-800 dark:text-red-200 list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"All your todos (active, completed, and archived)"}),(0,t.jsx)("li",{children:"All people and projects"}),(0,t.jsx)("li",{children:"All settings and preferences"}),(0,t.jsx)("li",{children:"All backups stored in the browser"}),(0,t.jsx)("li",{children:"All view presets and saved filters"})]}),(0,t.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium",children:["Type ",(0,t.jsx)("code",{className:"bg-red-200 dark:bg-red-800 px-1 py-0.5 rounded",children:"DELETE ALL DATA"})," to confirm:"]}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"Type DELETE ALL DATA",className:"w-full px-3 py-2 text-sm border border-red-300 dark:border-red-700 rounded-md bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 placeholder-zinc-400 dark:placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-red-500"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:P,disabled:"DELETE ALL DATA"!==y||S,className:"px-4 py-2 text-sm font-medium rounded-md bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:S?"Clearing...":"Permanently Delete All Data"}),(0,t.jsx)("button",{onClick:()=>{N(!1),w("")},className:"px-4 py-2 text-sm font-medium rounded-md bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-300 dark:hover:bg-zinc-600 transition-colors",children:"Cancel"})]})]}):(0,t.jsx)("button",{onClick:()=>N(!0),className:"px-4 py-2 text-sm font-medium rounded-md bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Clear All Data"})]})]})})]}),"switch"===u&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Switch between localStorage and IndexedDB storage backends. IndexedDB offers more capacity but may not be available in all browsers (e.g., Safari Private Mode)."}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Current Storage Backend"}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"indexedDB"===x?"IndexedDB":"localStorage"})]}),(0,t.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${"indexedDB"===x?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:"Active"})]})}),k&&(0,t.jsxs)("div",{className:`p-4 rounded-lg border ${k.includes("Successfully")?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":k.includes("failed")?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}`,children:[(0,t.jsx)("p",{className:"text-sm",children:k}),k.includes("reload")&&(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 text-sm font-medium underline hover:no-underline",children:"Reload Now"})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsx)("div",{className:`p-4 rounded-lg border-2 transition-colors ${"localStorage"===x?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["localStorage","localStorage"===x&&(0,t.jsx)("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"(Current)"})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Traditional browser storage. Limited to ~5MB but widely supported."}),(0,t.jsxs)("ul",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-500 space-y-1",children:[(0,t.jsx)("li",{children:"âœ“ Works in all browsers including Safari Private Mode"}),(0,t.jsx)("li",{children:"âœ“ Synchronous API (faster for small data)"}),(0,t.jsx)("li",{children:"âš  Limited to ~5-10MB capacity"})]})]}),"indexedDB"===x&&(0,t.jsx)("button",{onClick:L,disabled:b,className:"ml-4 px-3 py-1.5 text-sm font-medium rounded-md bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-300 dark:hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Migrating...":"Switch"})]})}),(0,t.jsx)("div",{className:`p-4 rounded-lg border-2 transition-colors ${"indexedDB"===x?"border-green-500 bg-green-50 dark:bg-green-900/20":j?"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600":"border-zinc-200 dark:border-zinc-700 opacity-50"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:["IndexedDB","indexedDB"===x&&(0,t.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:"(Current)"}),!j&&(0,t.jsx)("span",{className:"text-xs text-red-600 dark:text-red-400",children:"(Unavailable)"})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Modern browser database. Much larger capacity (50MB-1GB+)."}),(0,t.jsxs)("ul",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-500 space-y-1",children:[(0,t.jsx)("li",{children:"âœ“ Large storage capacity (50MB to 1GB+)"}),(0,t.jsx)("li",{children:"âœ“ Better for large datasets"}),(0,t.jsx)("li",{children:"âš  Not available in Safari Private Mode"})]})]}),"localStorage"===x&&j&&(0,t.jsx)("button",{onClick:A,disabled:b,className:"ml-4 px-3 py-1.5 text-sm font-medium rounded-md bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Migrating...":"Switch"})]})})]}),(0,t.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"Before Switching"}),(0,t.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"Switching storage backends will migrate all your data. After migration, you'll need to reload the page. Consider creating a backup first in the Backup tab."})]})]})})]})]})}let eV=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Desktop notifications for important events."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Overdue task reminders"}),(0,t.jsx)("li",{children:"â€¢ Due today alerts"}),(0,t.jsx)("li",{children:"â€¢ Upcoming deadline warnings"}),(0,t.jsx)("li",{children:"â€¢ Requires browser permission"})]})]});function eU(){let{settings:e,isLoaded:s,updateNotificationSettings:a}=(0,n.useSettings)(),[i,c]=(0,r.useState)("default"),[d,o]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{o((0,eg.isNotificationSupported)()),c((0,eg.getNotificationPermission)())},[]),!s)return(0,t.jsx)(b,{});let x=e.notifications,m=async()=>{let e=await (0,eg.requestNotificationPermission)();c(e),"granted"===e&&a({...x,enabled:!0})};return d?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Notification Settings",description:"Manage your desktop notification preferences.",action:{label:"Reset to Defaults",onClick:()=>a(B.defaultNotificationSettings)}}),(0,t.jsx)("div",{className:"p-4 rounded-lg border bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Notification Permission"}),(0,t.jsx)(p.InfoTooltip,{content:eV})]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:["granted"===i&&"Notifications are enabled","denied"===i&&"Notifications are blocked. Enable them in your browser settings.","default"===i&&"Click the button to enable notifications"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:"granted"===i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:"Enabled"}),(0,t.jsx)("button",{onClick:()=>{(0,eg.sendNotification)("Test Notification",{body:"This is a test notification from DoIt!",tag:"test"})},className:"px-3 py-1.5 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Test"})]}):"denied"===i?(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded",children:"Blocked"}):(0,t.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Enable Notifications"})})]})}),"granted"===i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Enable Task Notifications"}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:"Get notified about due and overdue tasks"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.enabled,onChange:e=>a({...x,enabled:e.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 dark:peer-focus:ring-blue-600 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),x.enabled&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 uppercase tracking-wide",children:"Notification Types"}),(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 rounded-lg border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/30",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Overdue Tasks"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Tasks past their due date"})]})]}),(0,t.jsx)("input",{type:"checkbox",checked:x.notifyOverdue,onChange:e=>a({...x,notifyOverdue:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 rounded-lg border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full bg-amber-100 dark:bg-amber-900/30",children:(0,t.jsx)(l.CalendarIcon,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Due Today"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Tasks due within today"})]})]}),(0,t.jsx)("input",{type:"checkbox",checked:x.notifyDueToday,onChange:e=>a({...x,notifyDueToday:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 rounded-lg border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30",children:(0,t.jsx)(l.ClockIcon,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Due Soon"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Tasks due within hours"})]})]}),(0,t.jsx)("input",{type:"checkbox",checked:x.notifyDueSoon,onChange:e=>a({...x,notifyDueSoon:e.target.checked}),className:"w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-2 focus:ring-blue-500"})]}),x.notifyDueSoon&&(0,t.jsxs)("div",{className:"ml-12 p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800/30",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Notify when task is due within:"}),(0,t.jsxs)("select",{value:x.dueSoonHours,onChange:e=>a({...x,dueSoonHours:(0,A.getDurationHour)(parseInt(e.target.value))}),className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:1,children:"1 hour"}),(0,t.jsx)("option",{value:2,children:"2 hours"}),(0,t.jsx)("option",{value:4,children:"4 hours"}),(0,t.jsx)("option",{value:8,children:"8 hours"}),(0,t.jsx)("option",{value:24,children:"24 hours"})]})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Check for due tasks every:"}),(0,t.jsxs)("select",{value:x.checkInterval,onChange:e=>a({...x,checkInterval:(0,A.getDurationMin)(parseInt(e.target.value))}),className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:5,children:"5 minutes"}),(0,t.jsx)("option",{value:15,children:"15 minutes"}),(0,t.jsx)("option",{value:30,children:"30 minutes"}),(0,t.jsx)("option",{value:60,children:"1 hour"})]})]})]})]})]}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[(0,t.jsx)(l.WarningIcon,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Browser notifications are not supported"})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-amber-700 dark:text-amber-300",children:"Your browser does not support notifications. Try using a modern browser like Chrome, Firefox, or Safari."})]})})}let eK=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Custom groupings for tasks."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Create your own categories"}),(0,t.jsx)("li",{children:"â€¢ Different from projects"}),(0,t.jsx)("li",{children:"â€¢ Use for areas of life, contexts, etc."})]})]}),e_=()=>({name:"",color:(0,a.getColor)("#3b82f6"),description:""});function eG(){let{settings:e,isLoaded:s,addCategory:i,updateCategory:c,deleteCategory:l}=(0,n.useSettings)(),{projects:d,updateProject:o}=(0,ev.useProjects)(),[x,m]=(0,r.useState)(null),[u,p]=(0,r.useState)({}),[k,f]=(0,r.useState)(!1),[j,z]=(0,r.useState)(e_());if(!s)return(0,t.jsx)(b,{});let v=e.categories,y=()=>""!==j.name.trim(),w=()=>null!==x&&u.name?.trim()!=="",S=()=>{w()&&(c(x,u),m(null),p({}))},C=()=>{m(null),p({})};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{title:"Project Categories",tooltip:eK,description:"Organize your projects into categories like 'Work', 'Personal', or client names. Categories can be assigned to projects.",action:{label:"Add",onClick:()=>f(!0),variant:"primary",hidden:k}}),k&&(0,t.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100 mb-3",children:"New Category"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:j.name,onChange:e=>z({...j,name:e.target.value}),placeholder:"e.g., Work, Personal, Client A",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:j.color,onChange:e=>z({...j,color:(0,a.getColor)(e.target.value)}),className:"w-10 h-10 rounded cursor-pointer border border-zinc-300 dark:border-zinc-600"}),(0,t.jsx)("input",{type:"text",value:j.color,onChange:e=>z({...j,color:(0,a.getColor)(e.target.value)}),className:"flex-1 px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Description (optional)"}),(0,t.jsx)("input",{type:"text",value:j.description||"",onChange:e=>z({...j,description:e.target.value}),placeholder:"e.g., Office and work-related tasks",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{y()&&(i(j),z(e_()),f(!1))},disabled:!y(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:"Add Category"}),(0,t.jsx)("button",{onClick:()=>{f(!1),z(e_())},className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===v.length?(0,t.jsx)("div",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:(0,t.jsx)("p",{children:"No categories yet. Add your first category to organize your projects."})}):v.map(e=>(0,t.jsx)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700",children:x===e.id?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:u.name||"",onChange:e=>p({...u,name:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:u.color||"#3b82f6",onChange:e=>p({...u,color:(0,a.getColor)(e.target.value)}),className:"w-10 h-10 rounded cursor-pointer border border-zinc-300 dark:border-zinc-600"}),(0,t.jsx)("input",{type:"text",value:u.color||"",onChange:e=>p({...u,color:(0,a.getColor)(e.target.value)}),className:"flex-1 px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Description (optional)"}),(0,t.jsx)("input",{type:"text",value:u.description||"",onChange:e=>p({...u,description:e.target.value}),placeholder:"e.g., Office and work-related tasks",className:"w-full px-3 py-2 bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-600 rounded-md text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:S,disabled:!w(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors",children:"Save"}),(0,t.jsx)("button",{onClick:C,className:"flex-1 px-4 py-2 bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-500 text-zinc-900 dark:text-zinc-100 rounded-md font-medium transition-colors",children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-zinc-300 dark:border-zinc-600 flex-shrink-0",style:{backgroundColor:e.color}}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-sm text-zinc-500 dark:text-zinc-400 truncate",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,t.jsx)(h,{icon:"edit",onClick:()=>{m(e.id),p({...e})}}),(0,t.jsx)(h,{icon:"delete",onClick:()=>{var t;return t=e.id,void(d.forEach(e=>{e.category===t&&o(e.id,{category:void 0})}),l(t))}})]})]})},e.id))}),(0,t.jsx)(N,{items:["Assign categories to projects in the Projects tab","View time tracked by category in the Statistics view","Filter todos by category through their associated projects"]})]})}var eJ=e.i(81391);let eY={title:"title",notes:"notes",completed:"completed",dueDate:"due_date",priority:"priority",project:"project",tags:"tags"};function eq(e,t){for(let r of t){if(!r)continue;let t=e.findIndex(e=>e===r.toLowerCase()||e.includes(r.toLowerCase()));if(t>=0)return t}return -1}function eH(e,t){let r=e.toLowerCase();return t.find(e=>e.toLowerCase()===r)}var eZ=e.i(19424);let eX=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Import tasks from external sources."}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Plain text (one task per line)"}),(0,t.jsx)("li",{children:"â€¢ Markdown checkboxes"}),(0,t.jsx)("li",{children:"â€¢ CSV format"}),(0,t.jsx)("li",{children:"â€¢ Duplicate detection available"})]})]});function eQ(){let{people:e,isLoaded:s}=(0,ez.usePeople)(),{projects:i,isLoaded:c}=(0,ev.useProjects)(),{settings:l,isLoaded:d}=(0,n.useSettings)(),{importTodos:o,isLoaded:x}=(0,eZ.useTodos)(),[m,u]=(0,r.useState)("upload"),[h,p]=(0,r.useState)(null),[k,f]=(0,r.useState)(new Set),[j,z]=(0,r.useState)(0),[v,N]=(0,r.useState)(!1),y=(0,r.useRef)(null),w=i.map(e=>e.name),S=e.map(e=>e.name),C=l.priorities.map(e=>e.name),D=(0,r.useCallback)(e=>{let t=new FileReader;t.onload=t=>{let r=t.target?.result;if(r){let t=function(e,t="auto",r){switch("auto"===t?function(e,t){if("csv"===t?.toLowerCase().split(".").pop())return"csv";try{let t=JSON.parse(e);if(Array.isArray(t)&&t[0]?.content&&t[0]?.checked!==void 0)return"todoist";if(Array.isArray(t)&&t[0]?.type==="to-do")return"things";if(Array.isArray(t)&&t[0]?.isCompleted!==void 0&&t[0]?.title)return"reminders";if(Array.isArray(t)&&t[0]?.plainText!==void 0&&t[0]?.state)return"json";return Array.isArray(t)&&(t[0]?.title||t[0]?.name||t[0]?.text),"json"}catch{e.includes(",")&&e.includes("\n")}return"csv"}(e,r):t){case"todoist":let s=[],n=[];try{let t=JSON.parse(e);if(!Array.isArray(t))return{success:!1,format:"todoist",todos:[],errors:["Invalid Todoist format: expected array"],warnings:[]};for(let e of t)try{let t={originalId:e.id?.toString(),title:e.content||e.text||"",notes:e.description||"",isCompleted:!0===e.checked||!0===e.completed,dueDate:e.due?.date||e.due_date||void 0,priority:function(e){if(e)switch(e){case 4:return"urgent";case 3:return"high";case 2:return"medium";case 1:return"low";default:return}}(e.priority),project:e.project_name||e.project||void 0,tags:e.labels||[],subtasks:[],assignedPeople:e.responsible_uid?[e.responsible_uid.toString()]:[],source:"todoist",rawData:e};Array.isArray(e.items)&&(t.subtasks=e.items.map(e=>e.content||e.text||"").filter(Boolean)),t.title?n.push(t):s.push(`Skipped item with empty title (ID: ${e.id})`)}catch(e){s.push(`Failed to parse item: ${e}`)}return{success:!0,format:"todoist",todos:n,errors:[],warnings:s}}catch(e){return{success:!1,format:"todoist",todos:[],errors:[`Failed to parse Todoist JSON: ${e}`],warnings:[]}}case"things":let a=[],i=[];try{let t=JSON.parse(e);for(let e of Array.isArray(t)?t:t.items||[])if("to-do"===e.type||"task"===e.type)try{let t={originalId:e.uuid||e.id,title:e.title||"",notes:e.notes||"",isCompleted:"completed"===e.status||!0===e.completed,dueDate:e.dueDate||e.deadline||void 0,priority:void 0,project:e.project||e.area||void 0,tags:Array.isArray(e.tags)?e.tags.map(e=>e.title||e):[],subtasks:[],assignedPeople:[],source:"things",rawData:e};Array.isArray(e.checklistItems)&&(t.subtasks=e.checklistItems.map(e=>e.title||"").filter(Boolean)),t.title&&i.push(t)}catch(e){a.push(`Failed to parse Things item: ${e}`)}return{success:!0,format:"things",todos:i,errors:[],warnings:a}}catch(e){return{success:!1,format:"things",todos:[],errors:[`Failed to parse Things JSON: ${e}`],warnings:[]}}case"reminders":let c=[],l=[];try{let t=JSON.parse(e);for(let e of Array.isArray(t)?t:t.reminders||t.items||[])try{let t={originalId:e.id||e.uuid,title:e.title||e.name||"",notes:e.notes||e.body||"",isCompleted:!0===e.isCompleted||!0===e.completed,dueDate:e.dueDate||e.dueDateComponents?.date||void 0,priority:function(e){if(void 0!==e&&0!==e)return e<=1?"high":e<=5?"medium":"low"}(e.priority),project:e.list||e.listName||void 0,tags:e.tags||[],subtasks:[],assignedPeople:[],source:"reminders",rawData:e};Array.isArray(e.subtasks)&&(t.subtasks=e.subtasks.map(e=>e.title||e).filter(Boolean)),t.title&&l.push(t)}catch(e){c.push(`Failed to parse Reminders item: ${e}`)}return{success:!0,format:"reminders",todos:l,errors:[],warnings:c}}catch(e){return{success:!1,format:"reminders",todos:[],errors:[`Failed to parse Reminders JSON: ${e}`],warnings:[]}}case"csv":return function(e,t){let r=[],s=[];try{let t=function(e){let t=[];for(let r of e.split(/\r?\n/)){if(""===r.trim())continue;let e=[],s="",n=!1;for(let t=0;t<r.length;t++){let a=r[t];'"'===a&&(0===t||"\\"!==r[t-1])?n=!n:","!==a||n?s+=a:(e.push(s.trim()),s="")}e.push(s.trim()),t.push(e)}return t}(e);if(t.length<2)return{success:!1,format:"csv",todos:[],errors:["CSV file is empty or has no data rows"],warnings:[]};let n=t[0].map(e=>e.toLowerCase().trim()),a=eq(n,[eY.title,"title","name","task","content","text","todo"]);if(-1===a)return{success:!1,format:"csv",todos:[],errors:["Could not find title/task column in CSV"],warnings:[]};let i=eq(n,[eY.notes||"","notes","description","body","details"]),c=eq(n,[eY.completed||"","completed","done","checked","status"]),l=eq(n,[eY.dueDate||"","due_date","duedate","due","deadline","date"]),d=eq(n,[eY.priority||"","priority","importance","urgency"]),o=eq(n,[eY.project||"","project","list","category","folder"]),x=eq(n,[eY.tags||"","tags","labels","categories"]),m=eq(n,["assigned","assignee","owner","responsible","assigned_to"]);for(let e=1;e<t.length;e++){let n=t[e];if(0!==n.length&&(1!==n.length||n[0]))try{let t=n[a]||"";if(""===t.trim()){r.push(`Row ${e+1}: Skipped empty title`);continue}let u=c>=0?n[c]?.toLowerCase():"",h=["true","yes","1","done","completed","x","âœ“","âœ”"].includes(u),b=x>=0?n[x]:"",p=b?b.split(/[,;|]/).map(e=>e.trim()).filter(Boolean):[],g=m>=0?n[m]:"",k=g?g.split(/[,;|]/).map(e=>e.trim()).filter(Boolean):[],f={title:t.trim(),notes:i>=0?n[i]:void 0,isCompleted:h,dueDate:l>=0?function(e){if(!e||""===e.trim())return;let t=e.trim();if(/^\d{4}-\d{2}-\d{2}/.test(t))return t.split("T")[0];let r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(r){let[,e,t,s]=r,n=12>=parseInt(e)?e:t,a=12>=parseInt(e)?t:e;return`${s}-${n.padStart(2,"0")}-${a.padStart(2,"0")}`}try{let e=new Date(t);if(!isNaN(e.getTime()))return e.toISOString().split("T")[0]}catch{}}(n[l]):void 0,priority:d>=0?function(e){if(!e)return;let t=e.toLowerCase().trim();return["urgent","critical","asap","4","p1"].includes(t)?"urgent":["high","important","3","p2","!"].includes(t)?"high":["medium","normal","2","p3","med"].includes(t)?"medium":["low","1","p4","minor"].includes(t)?"low":void 0}(n[d]):void 0,project:o>=0?n[o]:void 0,tags:p,subtasks:[],assignedPeople:k,source:"csv"};s.push(f)}catch(t){r.push(`Row ${e+1}: Failed to parse - ${t}`)}}return{success:!0,format:"csv",todos:s,errors:[],warnings:r}}catch(e){return{success:!1,format:"csv",todos:[],errors:[`Failed to parse CSV: ${e}`],warnings:[]}}}(e);default:return function(e){let t=[],r=[];try{let s=JSON.parse(e);for(let e of Array.isArray(s)?s:s.todos||s.tasks||s.items||[])try{if(void 0!==e.plainText&&void 0!==e.state){let t={originalId:e.id,title:e.plainText,notes:e.metadata?.context,isCompleted:"completed"===e.state,dueDate:e.metadata?.dueDate,priority:e.metadata?.priority,project:e.metadata?.projects?.[0],tags:e.metadata?.tags||[],subtasks:e.subtasks?.map(e=>e.text)||[],assignedPeople:e.metadata?.assignedPeople||[],source:"json",rawData:e};r.push(t);continue}let s=e.title||e.name||e.text||e.content||"";if(""===s.trim()){t.push("Skipped item with empty title");continue}let n={originalId:e.id?.toString(),title:s,notes:e.notes||e.description||e.body||"",isCompleted:!0===e.completed||!0===e.done||"completed"===e.status,dueDate:e.dueDate||e.due_date||e.deadline,priority:e.priority,project:e.project||e.list||e.category,tags:Array.isArray(e.tags)?e.tags:e.labels||[],subtasks:Array.isArray(e.subtasks)?e.subtasks.map(e=>"string"==typeof e?e:e.title||e.text||"").filter(Boolean):[],assignedPeople:Array.isArray(e.assigned)?e.assigned:e.assignee?[e.assignee]:e.assigned_to?[e.assigned_to]:[],source:"json",rawData:e};r.push(n)}catch(e){t.push(`Failed to parse JSON item: ${e}`)}return{success:!0,format:"json",todos:r,errors:[],warnings:t}}catch(e){return{success:!1,format:"json",todos:[],errors:[`Failed to parse JSON: ${e}`],warnings:[]}}}(e)}}(r,"auto",e.name);p(t),t.success&&f(new Set(t.todos.map((e,t)=>t))),u("preview")}},t.readAsText(e)},[]),T=()=>{u("upload"),p(null),f(new Set),z(0),y.current&&(y.current.value="")};return s&&c&&d&&x?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(g,{title:"Import Tasks",tooltip:eX,description:"Import tasks from other apps."}),"upload"===m&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{onClick:()=>y.current?.click(),onDragOver:e=>{e.preventDefault(),N(!0)},onDragLeave:e=>{e.preventDefault(),N(!1)},onDrop:e=>{e.preventDefault(),N(!1);let t=e.dataTransfer.files?.[0];t&&D(t)},className:`
              border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors
              ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-300 dark:border-zinc-700 hover:border-blue-400 dark:hover:border-blue-600"}
            `,children:[(0,t.jsx)("input",{ref:y,type:"file",accept:".json,.csv,.txt",onChange:e=>{let t=e.target.files?.[0];t&&D(t)},className:"hidden"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:"Drop file here or click to upload"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Supports JSON and CSV files"})]})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 mb-3",children:"Supported Export Formats"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-red-500",children:"â—"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-800 dark:text-zinc-200",children:"Todoist"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Export via Settings â†’ Backups â†’ Export as JSON"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"â—"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-800 dark:text-zinc-200",children:"Things 3"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Use third-party export tools or AppleScript"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-orange-500",children:"â—"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-800 dark:text-zinc-200",children:"Apple Reminders"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Use Shortcuts app or third-party exporters"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-500",children:"â—"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-zinc-800 dark:text-zinc-200",children:"CSV / JSON"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Generic format with title, notes, due_date, priority columns"})]})]})]})]})]})]}),"preview"===m&&h&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:`p-4 rounded-lg ${h.success?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:h.success?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{className:"font-medium text-green-800 dark:text-green-200",children:["Found ",h.todos.length," tasks in ",(e=>{switch(e){case"todoist":return"Todoist";case"things":return"Things 3";case"reminders":return"Apple Reminders";case"csv":return"CSV";case"json":return"JSON";default:return e}})(h.format)," format"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"font-medium text-red-800 dark:text-red-200",children:"Failed to parse file"})]})}),h.errors.length>0&&(0,t.jsx)("ul",{className:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside",children:h.errors.map((e,r)=>(0,t.jsx)("li",{children:e},r))}),h.warnings.length>0&&(0,t.jsxs)("details",{className:"mt-2",children:[(0,t.jsxs)("summary",{className:"text-sm text-amber-700 dark:text-amber-300 cursor-pointer",children:[h.warnings.length," warning(s)"]}),(0,t.jsx)("ul",{className:"mt-1 text-sm text-amber-600 dark:text-amber-400 list-disc list-inside",children:h.warnings.map((e,r)=>(0,t.jsx)("li",{children:e},r))})]})]}),h.success&&h.todos.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[k.size," of ",h.todos.length," selected"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{h&&f(new Set(h.todos.map((e,t)=>t)))},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Select All"}),(0,t.jsx)("span",{className:"text-zinc-400",children:"|"}),(0,t.jsx)("button",{onClick:()=>{f(new Set)},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Select None"})]})]}),(0,t.jsx)("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-lg divide-y divide-zinc-200 dark:divide-zinc-700 max-h-96 overflow-y-auto",children:h.todos.map((e,r)=>(0,t.jsx)(e0,{todo:e,selected:k.has(r),onToggle:()=>{f(e=>{let t=new Set(e);return t.has(r)?t.delete(r):t.add(r),t})}},r))}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,t.jsx)("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-200 dark:bg-zinc-700 hover:bg-zinc-300 dark:hover:bg-zinc-600 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!h)return;let e=function(e,t={}){return e.map(e=>(function(e,t={}){let{projects:r=[],people:s=[],priorities:n=[]}=t,i=Date.now(),c=e.project?eH(e.project,r):void 0,l=e.priority?eH(e.priority,n):void 0,d=(e.assignedPeople??[]).map(e=>eH(e,s)||e),o=e.title;d.forEach(e=>{o+=` @${e}`}),e.project&&(o+=` %${c||e.project}`),e.priority&&(o+=` !!${l||e.priority}`),e.tags.forEach(e=>{o+=` #${e}`});let x=(e.subtasks??[]).map(e=>({id:(0,eJ.getSubtaskId)((0,U.createSubtaskId)()),text:e,completed:!1,createdAt:(0,A.getTimestamp)(i)})),m=e.isCompleted?"completed":"active";return{text:o,plainText:e.title,state:m,createdAt:(0,A.getTimestamp)(i),updatedAt:(0,A.getTimestamp)(i),completedAt:e.isCompleted?(0,A.getTimestamp)(i):void 0,context:e.notes||"",tags:(e.tags??[]).map(eJ.getTag),dependencies:[],assignedPeople:[],sourcePeople:[],mentionedPeople:[],projects:[],priority:void 0,dueDate:e.dueDate?(0,A.getTimestamp)(new Date(e.dueDate).getTime()):void 0,duration:void 0,recurring:void 0,comments:[],activity:[{id:(0,a.getActivityId)((0,U.createActivityId)()),timestamp:(0,A.getTimestamp)(i),type:"created",description:`Imported from ${e.source}`}],subtasks:x}})(e,t))}(h.todos.filter((e,t)=>k.has(t)),{projects:w,people:S,priorities:C});o(e),z(e.length),u("complete")},disabled:0===k.size,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-400 disabled:cursor-not-allowed rounded-lg transition-colors",children:["Import ",k.size," Task",1!==k.size?"s":""]})]})]}),h.success&&0===h.todos.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No tasks found in the file."}),(0,t.jsx)("button",{onClick:T,className:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline",children:"Try another file"})]}),!h.success&&(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline",children:"Try another file"})})]}),"complete"===m&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h4",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:"Import Complete!"}),(0,t.jsxs)("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:["Successfully imported ",j," task",1!==j?"s":"","."]}),(0,t.jsx)("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-200 dark:bg-zinc-700 hover:bg-zinc-300 dark:hover:bg-zinc-600 rounded-lg transition-colors",children:"Import More"})]})]}):(0,t.jsx)(b,{})}function e0({todo:e,selected:r,onToggle:s}){return(0,t.jsxs)("label",{className:"flex items-start gap-3 p-3 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:r,onChange:s,className:"mt-1 w-4 h-4 rounded border-zinc-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`font-medium ${e.isCompleted?"line-through text-zinc-500":"text-zinc-900 dark:text-zinc-100"}`,children:e.title}),e.isCompleted&&(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded",children:"Done"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-xs",children:[e.assignedPeople.map((e,r)=>(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-cyan-100 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 rounded",children:["ğŸ‘¤ ",e]},r)),e.dueDate&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:["ğŸ“… ",e.dueDate]}),e.priority&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded",children:["â€¼ï¸ ",e.priority]}),e.project&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded",children:["ğŸ“ ",e.project]}),e.tags.map((e,r)=>(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-700 text-zinc-600 dark:text-zinc-400 rounded",children:["#",e]},r)),e.subtasks.length>0&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded",children:["âœ… ",e.subtasks.length," subtask",1!==e.subtasks.length?"s":""]})]}),e.notes&&(0,t.jsx)("p",{className:"mt-1 text-xs text-zinc-500 dark:text-zinc-400 line-clamp-2",children:e.notes})]})]})}let e1=[{name:"General",tabs:[{key:"general",label:"General"},{key:"notifications",label:"Notifications"}]},{name:"Time & Scheduling",tabs:[{key:"datetime",label:"Date/Time"},{key:"workhours",label:"Work Hours"}]},{name:"Views",tabs:[{key:"gantt",label:"Gantt",feature:"ganttView"},{key:"kanban",label:"Kanban",feature:"kanbanView"},{key:"calendar",label:"Calendar",feature:"calendarView"},{key:"sprints",label:"Sprints",feature:"sprintsView"},{key:"focus",label:"Focus",feature:"focusMode"}]},{name:"Organization",tabs:[{key:"categories",label:"Categories"},{key:"priorities",label:"Priorities"},{key:"autoassign",label:"Auto-Assign"}]},{name:"Appearance",tabs:[{key:"markers",label:"Markers"},{key:"links",label:"Links"}]},{name:"Data",tabs:[{key:"backup",label:"Backup"},{key:"import",label:"Import"},{key:"storage",label:"Storage"}]}];function e2(){let[e,a]=(0,r.useState)("general"),[i,c]=(0,r.useState)(!1),{settings:d,isLoaded:o}=(0,n.useSettings)();if(!o)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-zinc-900 dark:to-zinc-800",children:(0,t.jsx)("div",{className:"text-zinc-600 dark:text-zinc-400",children:"Loading..."})});let x=e=>!e.feature||!d.features||d.features[e.feature],m=()=>(0,t.jsx)("nav",{className:"space-y-4",children:e1.map(r=>{let s=r.tabs.filter(x);return 0===s.length?null:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2 px-3",children:r.name}),(0,t.jsx)("div",{className:"space-y-1",children:s.map(r=>(0,t.jsx)("button",{onClick:()=>{a(r.key),c(!1)},className:`w-full text-left pl-6 pr-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===r.key?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:r.label},r.key))})]},r.name)})});return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-zinc-900 dark:to-zinc-800",children:[(0,t.jsx)("div",{className:"lg:hidden sticky top-0 z-20 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:()=>c(!i),className:"flex items-center gap-2 text-zinc-700 dark:text-zinc-300",children:[(0,t.jsx)(l.MenuIcon,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"font-medium",children:(()=>{for(let t of e1)for(let r of t.tabs)if(r.key===e)return`${r.label}`;return"Settings"})()})]}),(0,t.jsx)(s.default,{href:"/",className:"px-3 py-1.5 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 rounded-lg text-sm font-medium transition-colors",children:"â† Back"})]})}),i&&(0,t.jsxs)("div",{className:"lg:hidden fixed inset-0 z-30",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>c(!1)}),(0,t.jsxs)("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white dark:bg-zinc-900 shadow-xl overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("h2",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Settings"})}),(0,t.jsx)("div",{className:"p-4",children:m()})]})]}),(0,t.jsxs)("div",{className:"flex max-w-7xl mx-auto",children:[(0,t.jsx)("aside",{className:"hidden lg:block w-64 flex-shrink-0 p-6",children:(0,t.jsxs)("div",{className:"sticky top-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(s.default,{href:"/",className:"inline-flex items-center gap-2 px-4 py-2 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 rounded-lg text-sm font-medium transition-colors",children:[(0,t.jsx)(l.ArrowLeftIcon,{className:"w-4 h-4"}),"Back to Todos"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6",children:"Settings"}),(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-800 p-4",children:m()})]})}),(0,t.jsx)("main",{className:"flex-1 p-4 lg:p-6 lg:pl-0",children:(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg border border-zinc-200 dark:border-zinc-800 p-6",children:(()=>{switch(e){case"general":return(0,t.jsx)(O,{});case"datetime":return(0,t.jsx)($,{});case"workhours":return(0,t.jsx)(H,{});case"gantt":return(0,t.jsx)(er,{});case"kanban":return(0,t.jsx)(eh,{});case"sprints":return(0,t.jsx)(ep,{});case"focus":return(0,t.jsx)(ej,{});case"calendar":return(0,t.jsx)(ea,{});case"categories":return(0,t.jsx)(eG,{});case"autoassign":return(0,t.jsx)(ew,{});case"notifications":return(0,t.jsx)(eU,{});case"priorities":return(0,t.jsx)(j,{});case"links":return(0,t.jsx)(S,{});case"markers":return(0,t.jsx)(I,{});case"backup":return(0,t.jsx)(e$,{});case"import":return(0,t.jsx)(eQ,{});case"storage":return(0,t.jsx)(eR,{});default:return e}})()})})]})]})}e.s(["default",()=>e2],13399)}]);